var Iz=Object.defineProperty;var Rz=(t,e,n)=>e in t?Iz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var i_=(t,e,n)=>Rz(t,typeof e!="symbol"?e+"":e,n);function Nz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function la(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o_={exports:{}},kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function Pz(){if(UC)return kf;UC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return kf.Fragment=e,kf.jsx=n,kf.jsxs=n,kf}var VC;function Mz(){return VC||(VC=1,o_.exports=Pz()),o_.exports}var R=Mz(),a_={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function Dz(){if(FC)return ze;FC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function T(K){return K===null||typeof K!="object"?null:(K=y&&K[y]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function P(K,ie,he){this.props=K,this.context=ie,this.refs=A,this.updater=he||S}P.prototype.isReactComponent={},P.prototype.setState=function(K,ie){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ie,"setState")},P.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function V(){}V.prototype=P.prototype;function L(K,ie,he){this.props=K,this.context=ie,this.refs=A,this.updater=he||S}var H=L.prototype=new V;H.constructor=L,x(H,P.prototype),H.isPureReactComponent=!0;var G=Array.isArray;function j(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function M(K,ie,he){var me=he.ref;return{$$typeof:t,type:K,key:ie,ref:me!==void 0?me:null,props:he}}function q(K,ie){return M(K.type,ie,K.props)}function z(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function F(K){var ie={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(he){return ie[he]})}var B=/\/+/g;function ge(K,ie){return typeof K=="object"&&K!==null&&K.key!=null?F(""+K.key):ie.toString(36)}function Re(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(j,j):(K.status="pending",K.then(function(ie){K.status==="pending"&&(K.status="fulfilled",K.value=ie)},function(ie){K.status==="pending"&&(K.status="rejected",K.reason=ie)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Z(K,ie,he,me,Ne){var Le=typeof K;(Le==="undefined"||Le==="boolean")&&(K=null);var De=!1;if(K===null)De=!0;else switch(Le){case"bigint":case"string":case"number":De=!0;break;case"object":switch(K.$$typeof){case t:case e:De=!0;break;case h:return De=K._init,Z(De(K._payload),ie,he,me,Ne)}}if(De)return Ne=Ne(K),De=me===""?"."+ge(K,0):me,G(Ne)?(he="",De!=null&&(he=De.replace(B,"$&/")+"/"),Z(Ne,ie,he,"",function(Fe){return Fe})):Ne!=null&&(z(Ne)&&(Ne=q(Ne,he+(Ne.key==null||K&&K.key===Ne.key?"":(""+Ne.key).replace(B,"$&/")+"/")+De)),ie.push(Ne)),1;De=0;var Mt=me===""?".":me+":";if(G(K))for(var ae=0;ae<K.length;ae++)me=K[ae],Le=Mt+ge(me,ae),De+=Z(me,ie,he,Le,Ne);else if(ae=T(K),typeof ae=="function")for(K=ae.call(K),ae=0;!(me=K.next()).done;)me=me.value,Le=Mt+ge(me,ae++),De+=Z(me,ie,he,Le,Ne);else if(Le==="object"){if(typeof K.then=="function")return Z(Re(K),ie,he,me,Ne);throw ie=String(K),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return De}function fe(K,ie,he){if(K==null)return K;var me=[],Ne=0;return Z(K,me,"","",function(Le){return ie.call(he,Le,Ne++)}),me}function ye(K){if(K._status===-1){var ie=K._result;ie=ie(),ie.then(function(he){(K._status===0||K._status===-1)&&(K._status=1,K._result=he)},function(he){(K._status===0||K._status===-1)&&(K._status=2,K._result=he)}),K._status===-1&&(K._status=0,K._result=ie)}if(K._status===1)return K._result.default;throw K._result}var Se=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},Me={map:fe,forEach:function(K,ie,he){fe(K,function(){ie.apply(this,arguments)},he)},count:function(K){var ie=0;return fe(K,function(){ie++}),ie},toArray:function(K){return fe(K,function(ie){return ie})||[]},only:function(K){if(!z(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return ze.Activity=m,ze.Children=Me,ze.Component=P,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=L,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ze.__COMPILER_RUNTIME={__proto__:null,c:function(K){return D.H.useMemoCache(K)}},ze.cache=function(K){return function(){return K.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(K,ie,he){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var me=x({},K.props),Ne=K.key;if(ie!=null)for(Le in ie.key!==void 0&&(Ne=""+ie.key),ie)!O.call(ie,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ie.ref===void 0||(me[Le]=ie[Le]);var Le=arguments.length-2;if(Le===1)me.children=he;else if(1<Le){for(var De=Array(Le),Mt=0;Mt<Le;Mt++)De[Mt]=arguments[Mt+2];me.children=De}return M(K.type,Ne,me)},ze.createContext=function(K){return K={$$typeof:s,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:o,_context:K},K},ze.createElement=function(K,ie,he){var me,Ne={},Le=null;if(ie!=null)for(me in ie.key!==void 0&&(Le=""+ie.key),ie)O.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ne[me]=ie[me]);var De=arguments.length-2;if(De===1)Ne.children=he;else if(1<De){for(var Mt=Array(De),ae=0;ae<De;ae++)Mt[ae]=arguments[ae+2];Ne.children=Mt}if(K&&K.defaultProps)for(me in De=K.defaultProps,De)Ne[me]===void 0&&(Ne[me]=De[me]);return M(K,Le,Ne)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(K){return{$$typeof:u,render:K}},ze.isValidElement=z,ze.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:ye}},ze.memo=function(K,ie){return{$$typeof:d,type:K,compare:ie===void 0?null:ie}},ze.startTransition=function(K){var ie=D.T,he={};D.T=he;try{var me=K(),Ne=D.S;Ne!==null&&Ne(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(j,Se)}catch(Le){Se(Le)}finally{ie!==null&&he.types!==null&&(ie.types=he.types),D.T=ie}},ze.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ze.use=function(K){return D.H.use(K)},ze.useActionState=function(K,ie,he){return D.H.useActionState(K,ie,he)},ze.useCallback=function(K,ie){return D.H.useCallback(K,ie)},ze.useContext=function(K){return D.H.useContext(K)},ze.useDebugValue=function(){},ze.useDeferredValue=function(K,ie){return D.H.useDeferredValue(K,ie)},ze.useEffect=function(K,ie){return D.H.useEffect(K,ie)},ze.useEffectEvent=function(K){return D.H.useEffectEvent(K)},ze.useId=function(){return D.H.useId()},ze.useImperativeHandle=function(K,ie,he){return D.H.useImperativeHandle(K,ie,he)},ze.useInsertionEffect=function(K,ie){return D.H.useInsertionEffect(K,ie)},ze.useLayoutEffect=function(K,ie){return D.H.useLayoutEffect(K,ie)},ze.useMemo=function(K,ie){return D.H.useMemo(K,ie)},ze.useOptimistic=function(K,ie){return D.H.useOptimistic(K,ie)},ze.useReducer=function(K,ie,he){return D.H.useReducer(K,ie,he)},ze.useRef=function(K){return D.H.useRef(K)},ze.useState=function(K){return D.H.useState(K)},ze.useSyncExternalStore=function(K,ie,he){return D.H.useSyncExternalStore(K,ie,he)},ze.useTransition=function(){return D.H.useTransition()},ze.version="19.2.3",ze}var zC;function dc(){return zC||(zC=1,a_.exports=Dz()),a_.exports}var N=dc();const xO=la(N),Oz=Nz({__proto__:null,default:xO},[N]);var s_={exports:{}},Lf={},l_={exports:{}},u_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function kz(){return BC||(BC=1,(function(t){function e(Z,fe){var ye=Z.length;Z.push(fe);e:for(;0<ye;){var Se=ye-1>>>1,Me=Z[Se];if(0<i(Me,fe))Z[Se]=fe,Z[ye]=Me,ye=Se;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var fe=Z[0],ye=Z.pop();if(ye!==fe){Z[0]=ye;e:for(var Se=0,Me=Z.length,K=Me>>>1;Se<K;){var ie=2*(Se+1)-1,he=Z[ie],me=ie+1,Ne=Z[me];if(0>i(he,ye))me<Me&&0>i(Ne,he)?(Z[Se]=Ne,Z[me]=ye,Se=me):(Z[Se]=he,Z[ie]=ye,Se=ie);else if(me<Me&&0>i(Ne,ye))Z[Se]=Ne,Z[me]=ye,Se=me;else break e}}return fe}function i(Z,fe){var ye=Z.sortIndex-fe.sortIndex;return ye!==0?ye:Z.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var f=[],d=[],h=1,m=null,y=3,T=!1,S=!1,x=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H(Z){for(var fe=n(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=Z)r(d),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(d)}}function G(Z){if(x=!1,H(Z),!S)if(n(f)!==null)S=!0,j||(j=!0,F());else{var fe=n(d);fe!==null&&Re(G,fe.startTime-Z)}}var j=!1,D=-1,O=5,M=-1;function q(){return A?!0:!(t.unstable_now()-M<O)}function z(){if(A=!1,j){var Z=t.unstable_now();M=Z;var fe=!0;try{e:{S=!1,x&&(x=!1,V(D),D=-1),T=!0;var ye=y;try{t:{for(H(Z),m=n(f);m!==null&&!(m.expirationTime>Z&&q());){var Se=m.callback;if(typeof Se=="function"){m.callback=null,y=m.priorityLevel;var Me=Se(m.expirationTime<=Z);if(Z=t.unstable_now(),typeof Me=="function"){m.callback=Me,H(Z),fe=!0;break t}m===n(f)&&r(f),H(Z)}else r(f);m=n(f)}if(m!==null)fe=!0;else{var K=n(d);K!==null&&Re(G,K.startTime-Z),fe=!1}}break e}finally{m=null,y=ye,T=!1}fe=void 0}}finally{fe?F():j=!1}}}var F;if(typeof L=="function")F=function(){L(z)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ge=B.port2;B.port1.onmessage=z,F=function(){ge.postMessage(null)}}else F=function(){P(z,0)};function Re(Z,fe){D=P(function(){Z(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var ye=y;y=fe;try{return Z()}finally{y=ye}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=y;y=Z;try{return fe()}finally{y=ye}},t.unstable_scheduleCallback=function(Z,fe,ye){var Se=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Se+ye:Se):ye=Se,Z){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ye+Me,Z={id:h++,callback:fe,priorityLevel:Z,startTime:ye,expirationTime:Me,sortIndex:-1},ye>Se?(Z.sortIndex=ye,e(d,Z),n(f)===null&&Z===n(d)&&(x?(V(D),D=-1):x=!0,Re(G,ye-Se))):(Z.sortIndex=Me,e(f,Z),S||T||(S=!0,j||(j=!0,F()))),Z},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Z){var fe=y;return function(){var ye=y;y=fe;try{return Z.apply(this,arguments)}finally{y=ye}}}})(u_)),u_}var qC;function Lz(){return qC||(qC=1,l_.exports=kz()),l_.exports}var c_={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function Uz(){if(HC)return Hn;HC=1;var t=dc();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},Hn.flushSync=function(f){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=d,r.p=h,r.d.f()}},Hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Hn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:T}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Hn.requestFormReset=function(f){r.d.r(f)},Hn.unstable_batchedUpdates=function(f,d){return f(d)},Hn.useFormState=function(f,d,h){return s.H.useFormState(f,d,h)},Hn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Hn.version="19.2.3",Hn}var GC;function CO(){if(GC)return c_.exports;GC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c_.exports=Uz(),c_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function Vz(){if(jC)return Lf;jC=1;var t=Lz(),e=dc(),n=CO();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var c=a,p=l;;){var E=c.return;if(E===null)break;var b=E.alternate;if(b===null){if(p=E.return,p!==null){c=p;continue}break}if(E.child===b.child){for(b=E.child;b;){if(b===c)return f(E),a;if(b===p)return f(E),l;b=b.sibling}throw Error(r(188))}if(c.return!==p.return)c=E,p=b;else{for(var C=!1,k=E.child;k;){if(k===c){C=!0,c=E,p=b;break}if(k===p){C=!0,p=E,c=b;break}k=k.sibling}if(!C){for(k=b.child;k;){if(k===c){C=!0,c=b,p=E;break}if(k===p){C=!0,p=b,c=E;break}k=k.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function ge(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case j:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case L:return a.displayName||"Context";case V:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return l=a.displayName||null,l!==null?l:ge(a.type)||"Memo";case O:l=a._payload,a=a._init;try{return ge(a(l))}catch{}}return null}var Re=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Se=[],Me=-1;function K(a){return{current:a}}function ie(a){0>Me||(a.current=Se[Me],Se[Me]=null,Me--)}function he(a,l){Me++,Se[Me]=a.current,a.current=l}var me=K(null),Ne=K(null),Le=K(null),De=K(null);function Mt(a,l){switch(he(Le,l),he(Ne,a),he(me,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?aC(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=aC(l),a=sC(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(me),he(me,a)}function ae(){ie(me),ie(Ne),ie(Le)}function Fe(a){a.memoizedState!==null&&he(De,a);var l=me.current,c=sC(l,a.type);l!==c&&(he(Ne,a),he(me,c))}function $e(a){Ne.current===a&&(ie(me),ie(Ne)),De.current===a&&(ie(De),Pf._currentValue=ye)}var de,Ut;function Ke(a){if(de===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",Ut=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+Ut}var an=!1;function Vt(a,l){if(!a||an)return"";an=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var ee=ne}Reflect.construct(a,[],le)}else{try{le.call()}catch(ne){ee=ne}a.call(le.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),C=b[0],k=b[1];if(C&&k){var $=C.split(`
`),Q=k.split(`
`);for(E=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;E<Q.length&&!Q[E].includes("DetermineComponentFrameRoot");)E++;if(p===$.length||E===Q.length)for(p=$.length-1,E=Q.length-1;1<=p&&0<=E&&$[p]!==Q[E];)E--;for(;1<=p&&0<=E;p--,E--)if($[p]!==Q[E]){if(p!==1||E!==1)do if(p--,E--,0>E||$[p]!==Q[E]){var oe=`
`+$[p].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=p&&0<=E);break}}}finally{an=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ke(c):""}function Er(a,l){switch(a.tag){case 26:case 27:case 5:return Ke(a.type);case 16:return Ke("Lazy");case 13:return a.child!==l&&l!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Vt(a.type,!1);case 11:return Vt(a.type.render,!1);case 1:return Vt(a.type,!0);case 31:return Ke("Activity");default:return""}}function va(a){try{var l="",c=null;do l+=Er(a,c),c=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var jt=Object.prototype.hasOwnProperty,sn=t.unstable_scheduleCallback,_a=t.unstable_cancelCallback,av=t.unstable_shouldYield,ch=t.unstable_requestPaint,Zn=t.unstable_now,Rs=t.unstable_getCurrentPriorityLevel,Dc=t.unstable_ImmediatePriority,Oc=t.unstable_UserBlockingPriority,Ea=t.unstable_NormalPriority,sv=t.unstable_LowPriority,fh=t.unstable_IdlePriority,dh=t.log,hh=t.unstable_setDisableYieldValue,ci=null,xn=null;function Fr(a){if(typeof dh=="function"&&hh(a),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(ci,a)}catch{}}var Ft=Math.clz32?Math.clz32:mh,ph=Math.log,zl=Math.LN2;function mh(a){return a>>>=0,a===0?32:31-(ph(a)/zl|0)|0}var Ui=256,Ns=262144,$t=4194304;function Vi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fi(a,l,c){var p=a.pendingLanes;if(p===0)return 0;var E=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var k=p&134217727;return k!==0?(p=k&~b,p!==0?E=Vi(p):(C&=k,C!==0?E=Vi(C):c||(c=k&~a,c!==0&&(E=Vi(c))))):(k=p&~b,k!==0?E=Vi(k):C!==0?E=Vi(C):c||(c=p&~a,c!==0&&(E=Vi(c)))),E===0?0:l!==0&&l!==E&&(l&b)===0&&(b=E&-E,c=l&-l,b>=c||b===32&&(c&4194048)!==0)?l:E}function fi(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function lv(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(){var a=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),a}function zi(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function Ps(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function uv(a,l,c,p,E,b){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var k=a.entanglements,$=a.expirationTimes,Q=a.hiddenUpdates;for(c=C&~c;0<c;){var oe=31-Ft(c),le=1<<oe;k[oe]=0,$[oe]=-1;var ee=Q[oe];if(ee!==null)for(Q[oe]=null,oe=0;oe<ee.length;oe++){var ne=ee[oe];ne!==null&&(ne.lane&=-536870913)}c&=~le}p!==0&&Ms(a,p,0),b!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~l))}function Ms(a,l,c){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-Ft(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function kc(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var p=31-Ft(c),E=1<<p;E&l|a[p]&l&&(a[p]|=l),c&=~E}}function Lc(a,l){var c=l&-l;return c=(c&42)!==0?1:Ds(c),(c&(a.suspendedLanes|l))!==0?0:c}function Ds(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Eo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function yh(){var a=fe.p;return a!==0?a:(a=window.event,a===void 0?32:NC(a.type))}function di(a,l){var c=fe.p;try{return fe.p=a,l()}finally{fe.p=c}}var hi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+hi,gn="__reactProps$"+hi,Bi="__reactContainer$"+hi,Bl="__reactEvents$"+hi,cv="__reactListeners$"+hi,vh="__reactHandles$"+hi,_h="__reactResources$"+hi,qi="__reactMarker$"+hi;function ql(a){delete a[Kt],delete a[gn],delete a[Bl],delete a[cv],delete a[vh]}function Hi(a){var l=a[Kt];if(l)return l;for(var c=a.parentNode;c;){if(l=c[Bi]||c[Kt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=pC(a);a!==null;){if(c=a[Kt])return c;a=pC(a)}return l}a=c,c=a.parentNode}return null}function zr(a){if(a=a[Kt]||a[Bi]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Tr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Gi(a){var l=a[_h];return l||(l=a[_h]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yt(a){a[qi]=!0}var Uc=new Set,Vc={};function ji(a,l){$i(a,l),$i(a+"Capture",l)}function $i(a,l){for(Vc[a]=l,a=0;a<l.length;a++)Uc.add(l[a])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Bc={};function Eh(a){return jt.call(Bc,a)?!0:jt.call(zc,a)?!1:Fc.test(a)?Bc[a]=!0:(zc[a]=!0,!1)}function Hl(a,l,c){if(Eh(l))if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+c)}}function br(a,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+c)}}function Wt(a,l,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(l,c,""+p)}}function yn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function qc(a,l,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,b=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(C){c=""+C,b.call(this,C)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function ct(a){if(!a._valueTracker){var l=Ta(a)?"checked":"value";a._valueTracker=qc(a,l,""+a[l])}}function Os(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return a&&(p=Ta(a)?a.checked?"true":"false":a.value),a=p,a!==c?(l.setValue(a),!0):!1}function Ki(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ks=/[\n"\\]/g;function ur(a){return a.replace(ks,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Gl(a,l,c,p,E,b,C,k){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),l!=null?C==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+yn(l)):a.value!==""+yn(l)&&(a.value=""+yn(l)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),l!=null?Hc(a,C,yn(l)):c!=null?Hc(a,C,yn(c)):p!=null&&a.removeAttribute("value"),E==null&&b!=null&&(a.defaultChecked=!!b),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+yn(k):a.removeAttribute("name")}function Th(a,l,c,p,E,b,C,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),l!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){ct(a);return}c=c!=null?""+yn(c):"",l=l!=null?""+yn(l):c,k||l===a.value||(a.value=l),a.defaultValue=l}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=k?a.checked:!!p,a.defaultChecked=!!p,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),ct(a)}function Hc(a,l,c){l==="number"&&Ki(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ba(a,l,c,p){if(a=a.options,l){l={};for(var E=0;E<c.length;E++)l["$"+c[E]]=!0;for(c=0;c<a.length;c++)E=l.hasOwnProperty("$"+a[c].value),a[c].selected!==E&&(a[c].selected=E),E&&p&&(a[c].defaultSelected=!0)}else{for(c=""+yn(c),l=null,E=0;E<a.length;E++){if(a[E].value===c){a[E].selected=!0,p&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function bh(a,l,c){if(l!=null&&(l=""+yn(l),l!==a.value&&(a.value=l),c==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=c!=null?""+yn(c):""}function Sa(a,l,c,p){if(l==null){if(p!=null){if(c!=null)throw Error(r(92));if(Re(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),l=c}c=yn(l),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),ct(a)}function cr(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(a,l,c){var p=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,c):typeof c!="number"||c===0||Sh.has(l)?l==="float"?a.cssFloat=c:a[l]=(""+c).trim():a[l]=c+"px"}function jc(a,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var E in l)p=l[E],l.hasOwnProperty(E)&&c[E]!==p&&Gc(a,E,p)}else for(var b in l)l.hasOwnProperty(b)&&Gc(a,b,l[b])}function jl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(a){return Aa.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pi(){}var $c=null;function Br(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wa=null,Yi=null;function Ls(a){var l=zr(a);if(l&&(a=l.stateNode)){var c=a[gn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Gl(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ur(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==a&&p.form===a.form){var E=p[gn]||null;if(!E)throw Error(r(90));Gl(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<c.length;l++)p=c[l],p.form===a.form&&Os(p)}break e;case"textarea":bh(a,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&ba(a,!!c.multiple,l,!1)}}}var Kl=!1;function xa(a,l,c){if(Kl)return a(l,c);Kl=!0;try{var p=a(l);return p}finally{if(Kl=!1,(wa!==null||Yi!==null)&&(yp(),wa&&(l=wa,a=Yi,Yi=wa=null,Ls(l),a)))for(l=0;l<a.length;l++)Ls(a[l])}}function mi(a,l){var c=a.stateNode;if(c===null)return null;var p=c[gn]||null;if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(qr)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Us=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Us=!1}var Wi=null,Kc=null,Vs=null;function Yc(){if(Vs)return Vs;var a,l=Kc,c=l.length,p,E="value"in Wi?Wi.value:Wi.textContent,b=E.length;for(a=0;a<c&&l[a]===E[a];a++);var C=c-a;for(p=1;p<=C&&l[c-p]===E[b-p];p++);return Vs=E.slice(a,1<p?1-p:void 0)}function Fs(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function To(){return!0}function gi(){return!1}function Cn(a){function l(c,p,E,b,C){this._reactName=c,this._targetInst=E,this.type=p,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(c=a[k],this[k]=c?c(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?To:gi,this.isPropagationStopped=gi,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),l}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Cn(bo),Ca=m({},bo,{view:0,detail:0}),Wc=Cn(Ca),Ia,Yl,Xi,Wl=m({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xi&&(Xi&&a.type==="mousemove"?(Ia=a.screenX-Xi.screenX,Yl=a.screenY-Xi.screenY):Yl=Ia=0,Xi=a),Ia)},movementY:function(a){return"movementY"in a?a.movementY:Yl}}),Jc=Cn(Wl),zs=m({},Wl,{dataTransfer:0}),wh=Cn(zs),xh=m({},Ca,{relatedTarget:0}),Bs=Cn(xh),Xc=m({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ch=Cn(Xc),Jl=m({},bo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ih=Cn(Jl),Rh=m({},bo,{data:0}),Qi=Cn(Rh),Nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Mh[a])?!!l[a]:!1}function Ra(){return Dh}var er=m({},Ca,{key:function(a){if(a.key){var l=Nh[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Fs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ph[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(a){return a.type==="keypress"?Fs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Oh=Cn(er),kh=m({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Cn(kh),_=m({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),w=Cn(_),I=m({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=Cn(I),J=m({},Wl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),te=Cn(J),pe=m({},bo,{newState:0,oldState:0}),qe=Cn(pe),zt=[9,13,27,32],st=qr&&"CompositionEvent"in window,It=null;qr&&"documentMode"in document&&(It=document.documentMode);var Hr=qr&&"TextEvent"in window&&!It,Zi=qr&&(!st||It&&8<It&&11>=It),yi=" ",vi=!1;function qs(a,l){switch(a){case"keyup":return zt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ql=!1;function Q6(a,l){switch(a){case"compositionend":return Xl(l);case"keypress":return l.which!==32?null:(vi=!0,yi);case"textInput":return a=l.data,a===yi&&vi?null:a;default:return null}}function Z6(a,l){if(Ql)return a==="compositionend"||!st&&qs(a,l)?(a=Yc(),Vs=Kc=Wi=null,Ql=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Zi&&l.locale!=="ko"?null:l.data;default:return null}}var eF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yw(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!eF[a.type]:l==="textarea"}function vw(a,l,c,p){wa?Yi?Yi.push(p):Yi=[p]:wa=p,l=Ap(l,"onChange"),0<l.length&&(c=new Ji("onChange","change",null,c,p),a.push({event:c,listeners:l}))}var Qc=null,Zc=null;function tF(a){eC(a,0)}function Lh(a){var l=Tr(a);if(Os(l))return a}function _w(a,l){if(a==="change")return l}var Ew=!1;if(qr){var fv;if(qr){var dv="oninput"in document;if(!dv){var Tw=document.createElement("div");Tw.setAttribute("oninput","return;"),dv=typeof Tw.oninput=="function"}fv=dv}else fv=!1;Ew=fv&&(!document.documentMode||9<document.documentMode)}function bw(){Qc&&(Qc.detachEvent("onpropertychange",Sw),Zc=Qc=null)}function Sw(a){if(a.propertyName==="value"&&Lh(Zc)){var l=[];vw(l,Zc,a,Br(a)),xa(tF,l)}}function nF(a,l,c){a==="focusin"?(bw(),Qc=l,Zc=c,Qc.attachEvent("onpropertychange",Sw)):a==="focusout"&&bw()}function rF(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lh(Zc)}function iF(a,l){if(a==="click")return Lh(l)}function oF(a,l){if(a==="input"||a==="change")return Lh(l)}function aF(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Sr=typeof Object.is=="function"?Object.is:aF;function ef(a,l){if(Sr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var E=c[p];if(!jt.call(l,E)||!Sr(a[E],l[E]))return!1}return!0}function Aw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ww(a,l){var c=Aw(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=l&&p>=l)return{node:c,offset:l-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Aw(c)}}function xw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?xw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Cw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Ki(a.document);l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=Ki(a.document)}return l}function hv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var sF=qr&&"documentMode"in document&&11>=document.documentMode,Zl=null,pv=null,tf=null,mv=!1;function Iw(a,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mv||Zl==null||Zl!==Ki(p)||(p=Zl,"selectionStart"in p&&hv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),tf&&ef(tf,p)||(tf=p,p=Ap(pv,"onSelect"),0<p.length&&(l=new Ji("onSelect","select",null,l,c),a.push({event:l,listeners:p}),l.target=Zl)))}function Hs(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var eu={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},gv={},Rw={};qr&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Gs(a){if(gv[a])return gv[a];if(!eu[a])return a;var l=eu[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in Rw)return gv[a]=l[c];return a}var Nw=Gs("animationend"),Pw=Gs("animationiteration"),Mw=Gs("animationstart"),lF=Gs("transitionrun"),uF=Gs("transitionstart"),cF=Gs("transitioncancel"),Dw=Gs("transitionend"),Ow=new Map,yv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yv.push("scrollEnd");function _i(a,l){Ow.set(a,l),ji(l,[a])}var Uh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Gr=[],tu=0,vv=0;function Vh(){for(var a=tu,l=vv=tu=0;l<a;){var c=Gr[l];Gr[l++]=null;var p=Gr[l];Gr[l++]=null;var E=Gr[l];Gr[l++]=null;var b=Gr[l];if(Gr[l++]=null,p!==null&&E!==null){var C=p.pending;C===null?E.next=E:(E.next=C.next,C.next=E),p.pending=E}b!==0&&kw(c,E,b)}}function Fh(a,l,c,p){Gr[tu++]=a,Gr[tu++]=l,Gr[tu++]=c,Gr[tu++]=p,vv|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function _v(a,l,c,p){return Fh(a,l,c,p),zh(a)}function js(a,l){return Fh(a,null,null,l),zh(a)}function kw(a,l,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var E=!1,b=a.return;b!==null;)b.childLanes|=c,p=b.alternate,p!==null&&(p.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(E=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,E&&l!==null&&(E=31-Ft(c),a=b.hiddenUpdates,p=a[E],p===null?a[E]=[l]:p.push(l),l.lane=c|536870912),b):null}function zh(a){if(50<Af)throw Af=0,I0=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var nu={};function fF(a,l,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(a,l,c,p){return new fF(a,l,c,p)}function Ev(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ao(a,l){var c=a.alternate;return c===null?(c=Ar(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Lw(a,l){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,l=c.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Bh(a,l,c,p,E,b){var C=0;if(p=a,typeof a=="function")Ev(a)&&(C=1);else if(typeof a=="string")C=gz(a,c,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=Ar(31,c,l,E),a.elementType=M,a.lanes=b,a;case x:return $s(c.children,E,b,l);case A:C=8,E|=24;break;case P:return a=Ar(12,c,l,E|2),a.elementType=P,a.lanes=b,a;case G:return a=Ar(13,c,l,E),a.elementType=G,a.lanes=b,a;case j:return a=Ar(19,c,l,E),a.elementType=j,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:C=10;break e;case V:C=9;break e;case H:C=11;break e;case D:C=14;break e;case O:C=16,p=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return l=Ar(C,c,l,E),l.elementType=a,l.type=p,l.lanes=b,l}function $s(a,l,c,p){return a=Ar(7,a,p,l),a.lanes=c,a}function Tv(a,l,c){return a=Ar(6,a,null,l),a.lanes=c,a}function Uw(a){var l=Ar(18,null,null,0);return l.stateNode=a,l}function bv(a,l,c){return l=Ar(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Vw=new WeakMap;function jr(a,l){if(typeof a=="object"&&a!==null){var c=Vw.get(a);return c!==void 0?c:(l={value:a,source:l,stack:va(l)},Vw.set(a,l),l)}return{value:a,source:l,stack:va(l)}}var ru=[],iu=0,qh=null,nf=0,$r=[],Kr=0,Na=null,eo=1,to="";function wo(a,l){ru[iu++]=nf,ru[iu++]=qh,qh=a,nf=l}function Fw(a,l,c){$r[Kr++]=eo,$r[Kr++]=to,$r[Kr++]=Na,Na=a;var p=eo;a=to;var E=32-Ft(p)-1;p&=~(1<<E),c+=1;var b=32-Ft(l)+E;if(30<b){var C=E-E%5;b=(p&(1<<C)-1).toString(32),p>>=C,E-=C,eo=1<<32-Ft(l)+E|c<<E|p,to=b+a}else eo=1<<b|c<<E|p,to=a}function Sv(a){a.return!==null&&(wo(a,1),Fw(a,1,0))}function Av(a){for(;a===qh;)qh=ru[--iu],ru[iu]=null,nf=ru[--iu],ru[iu]=null;for(;a===Na;)Na=$r[--Kr],$r[Kr]=null,to=$r[--Kr],$r[Kr]=null,eo=$r[--Kr],$r[Kr]=null}function zw(a,l){$r[Kr++]=eo,$r[Kr++]=to,$r[Kr++]=Na,eo=l.id,to=l.overflow,Na=a}var In=null,At=null,tt=!1,Pa=null,Yr=!1,wv=Error(r(519));function Ma(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rf(jr(l,a)),wv}function Bw(a){var l=a.stateNode,c=a.type,p=a.memoizedProps;switch(l[Kt]=a,l[gn]=p,c){case"dialog":We("cancel",l),We("close",l);break;case"iframe":case"object":case"embed":We("load",l);break;case"video":case"audio":for(c=0;c<xf.length;c++)We(xf[c],l);break;case"source":We("error",l);break;case"img":case"image":case"link":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"input":We("invalid",l),Th(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":We("invalid",l);break;case"textarea":We("invalid",l),Sa(l,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||p.suppressHydrationWarning===!0||iC(l.textContent,c)?(p.popover!=null&&(We("beforetoggle",l),We("toggle",l)),p.onScroll!=null&&We("scroll",l),p.onScrollEnd!=null&&We("scrollend",l),p.onClick!=null&&(l.onclick=pi),l=!0):l=!1,l||Ma(a,!0)}function qw(a){for(In=a.return;In;)switch(In.tag){case 5:case 31:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:In=In.return}}function ou(a){if(a!==In)return!1;if(!tt)return qw(a),tt=!0,!1;var l=a.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||H0(a.type,a.memoizedProps)),c=!c),c&&At&&Ma(a),qw(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));At=hC(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));At=hC(a)}else l===27?(l=At,$a(a.type)?(a=Y0,Y0=null,At=a):At=l):At=In?Jr(a.stateNode.nextSibling):null;return!0}function Ks(){At=In=null,tt=!1}function xv(){var a=Pa;return a!==null&&(pr===null?pr=a:pr.push.apply(pr,a),Pa=null),a}function rf(a){Pa===null?Pa=[a]:Pa.push(a)}var Cv=K(null),Ys=null,xo=null;function Da(a,l,c){he(Cv,l._currentValue),l._currentValue=c}function Co(a){a._currentValue=Cv.current,ie(Cv)}function Iv(a,l,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===c)break;a=a.return}}function Rv(a,l,c,p){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var b=E.dependencies;if(b!==null){var C=E.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=E;for(var $=0;$<l.length;$++)if(k.context===l[$]){b.lanes|=c,k=b.alternate,k!==null&&(k.lanes|=c),Iv(b.return,c,a),p||(C=null);break e}b=k.next}}else if(E.tag===18){if(C=E.return,C===null)throw Error(r(341));C.lanes|=c,b=C.alternate,b!==null&&(b.lanes|=c),Iv(C,c,a),C=null}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===a){C=null;break}if(E=C.sibling,E!==null){E.return=C.return,C=E;break}C=C.return}E=C}}function au(a,l,c,p){a=null;for(var E=l,b=!1;E!==null;){if(!b){if((E.flags&524288)!==0)b=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var C=E.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=E.type;Sr(E.pendingProps.value,C.value)||(a!==null?a.push(k):a=[k])}}else if(E===De.current){if(C=E.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(Pf):a=[Pf])}E=E.return}a!==null&&Rv(l,a,c,p),l.flags|=262144}function Hh(a){for(a=a.firstContext;a!==null;){if(!Sr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ws(a){Ys=a,xo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Rn(a){return Hw(Ys,a)}function Gh(a,l){return Ys===null&&Ws(a),Hw(a,l)}function Hw(a,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},xo===null){if(a===null)throw Error(r(308));xo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else xo=xo.next=l;return c}var dF=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(c){return c()})}},hF=t.unstable_scheduleCallback,pF=t.unstable_NormalPriority,Jt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nv(){return{controller:new dF,data:new Map,refCount:0}}function of(a){a.refCount--,a.refCount===0&&hF(pF,function(){a.controller.abort()})}var af=null,Pv=0,su=0,lu=null;function mF(a,l){if(af===null){var c=af=[];Pv=0,su=O0(),lu={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Pv++,l.then(Gw,Gw),l}function Gw(){if(--Pv===0&&af!==null){lu!==null&&(lu.status="fulfilled");var a=af;af=null,su=0,lu=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function gF(a,l){var c=[],p={status:"pending",value:null,reason:null,then:function(E){c.push(E)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var E=0;E<c.length;E++)(0,c[E])(l)},function(E){for(p.status="rejected",p.reason=E,E=0;E<c.length;E++)(0,c[E])(void 0)}),p}var jw=Z.S;Z.S=function(a,l){I1=Zn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&mF(a,l),jw!==null&&jw(a,l)};var Js=K(null);function Mv(){var a=Js.current;return a!==null?a:_t.pooledCache}function jh(a,l){l===null?he(Js,Js.current):he(Js,l.pool)}function $w(){var a=Mv();return a===null?null:{parent:Jt._currentValue,pool:a}}var uu=Error(r(460)),Dv=Error(r(474)),$h=Error(r(542)),Kh={then:function(){}};function Kw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Yw(a,l,c){switch(c=a[c],c===void 0?a.push(l):c!==l&&(l.then(pi,pi),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Jw(a),a;default:if(typeof l.status=="string")l.then(pi,pi);else{if(a=_t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=p}},function(p){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Jw(a),a}throw Qs=l,uu}}function Xs(a){try{var l=a._init;return l(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Qs=c,uu):c}}var Qs=null;function Ww(){if(Qs===null)throw Error(r(459));var a=Qs;return Qs=null,a}function Jw(a){if(a===uu||a===$h)throw Error(r(483))}var cu=null,sf=0;function Yh(a){var l=sf;return sf+=1,cu===null&&(cu=[]),Yw(cu,a,l)}function lf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Wh(a,l){throw l.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Xw(a){function l(W,Y){if(a){var X=W.deletions;X===null?(W.deletions=[Y],W.flags|=16):X.push(Y)}}function c(W,Y){if(!a)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function p(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function E(W,Y){return W=Ao(W,Y),W.index=0,W.sibling=null,W}function b(W,Y,X){return W.index=X,a?(X=W.alternate,X!==null?(X=X.index,X<Y?(W.flags|=67108866,Y):X):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function C(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function k(W,Y,X,se){return Y===null||Y.tag!==6?(Y=Tv(X,W.mode,se),Y.return=W,Y):(Y=E(Y,X),Y.return=W,Y)}function $(W,Y,X,se){var Ce=X.type;return Ce===x?oe(W,Y,X.props.children,se,X.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&Xs(Ce)===Y.type)?(Y=E(Y,X.props),lf(Y,X),Y.return=W,Y):(Y=Bh(X.type,X.key,X.props,null,W.mode,se),lf(Y,X),Y.return=W,Y)}function Q(W,Y,X,se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=bv(X,W.mode,se),Y.return=W,Y):(Y=E(Y,X.children||[]),Y.return=W,Y)}function oe(W,Y,X,se,Ce){return Y===null||Y.tag!==7?(Y=$s(X,W.mode,se,Ce),Y.return=W,Y):(Y=E(Y,X),Y.return=W,Y)}function le(W,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Tv(""+Y,W.mode,X),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return X=Bh(Y.type,Y.key,Y.props,null,W.mode,X),lf(X,Y),X.return=W,X;case S:return Y=bv(Y,W.mode,X),Y.return=W,Y;case O:return Y=Xs(Y),le(W,Y,X)}if(Re(Y)||F(Y))return Y=$s(Y,W.mode,X,null),Y.return=W,Y;if(typeof Y.then=="function")return le(W,Yh(Y),X);if(Y.$$typeof===L)return le(W,Gh(W,Y),X);Wh(W,Y)}return null}function ee(W,Y,X,se){var Ce=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ce!==null?null:k(W,Y,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===Ce?$(W,Y,X,se):null;case S:return X.key===Ce?Q(W,Y,X,se):null;case O:return X=Xs(X),ee(W,Y,X,se)}if(Re(X)||F(X))return Ce!==null?null:oe(W,Y,X,se,null);if(typeof X.then=="function")return ee(W,Y,Yh(X),se);if(X.$$typeof===L)return ee(W,Y,Gh(W,X),se);Wh(W,X)}return null}function ne(W,Y,X,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return W=W.get(X)||null,k(Y,W,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return W=W.get(se.key===null?X:se.key)||null,$(Y,W,se,Ce);case S:return W=W.get(se.key===null?X:se.key)||null,Q(Y,W,se,Ce);case O:return se=Xs(se),ne(W,Y,X,se,Ce)}if(Re(se)||F(se))return W=W.get(X)||null,oe(Y,W,se,Ce,null);if(typeof se.then=="function")return ne(W,Y,X,Yh(se),Ce);if(se.$$typeof===L)return ne(W,Y,X,Gh(Y,se),Ce);Wh(Y,se)}return null}function be(W,Y,X,se){for(var Ce=null,rt=null,Ae=Y,Ge=Y=0,Xe=null;Ae!==null&&Ge<X.length;Ge++){Ae.index>Ge?(Xe=Ae,Ae=null):Xe=Ae.sibling;var it=ee(W,Ae,X[Ge],se);if(it===null){Ae===null&&(Ae=Xe);break}a&&Ae&&it.alternate===null&&l(W,Ae),Y=b(it,Y,Ge),rt===null?Ce=it:rt.sibling=it,rt=it,Ae=Xe}if(Ge===X.length)return c(W,Ae),tt&&wo(W,Ge),Ce;if(Ae===null){for(;Ge<X.length;Ge++)Ae=le(W,X[Ge],se),Ae!==null&&(Y=b(Ae,Y,Ge),rt===null?Ce=Ae:rt.sibling=Ae,rt=Ae);return tt&&wo(W,Ge),Ce}for(Ae=p(Ae);Ge<X.length;Ge++)Xe=ne(Ae,W,Ge,X[Ge],se),Xe!==null&&(a&&Xe.alternate!==null&&Ae.delete(Xe.key===null?Ge:Xe.key),Y=b(Xe,Y,Ge),rt===null?Ce=Xe:rt.sibling=Xe,rt=Xe);return a&&Ae.forEach(function(Xa){return l(W,Xa)}),tt&&wo(W,Ge),Ce}function Pe(W,Y,X,se){if(X==null)throw Error(r(151));for(var Ce=null,rt=null,Ae=Y,Ge=Y=0,Xe=null,it=X.next();Ae!==null&&!it.done;Ge++,it=X.next()){Ae.index>Ge?(Xe=Ae,Ae=null):Xe=Ae.sibling;var Xa=ee(W,Ae,it.value,se);if(Xa===null){Ae===null&&(Ae=Xe);break}a&&Ae&&Xa.alternate===null&&l(W,Ae),Y=b(Xa,Y,Ge),rt===null?Ce=Xa:rt.sibling=Xa,rt=Xa,Ae=Xe}if(it.done)return c(W,Ae),tt&&wo(W,Ge),Ce;if(Ae===null){for(;!it.done;Ge++,it=X.next())it=le(W,it.value,se),it!==null&&(Y=b(it,Y,Ge),rt===null?Ce=it:rt.sibling=it,rt=it);return tt&&wo(W,Ge),Ce}for(Ae=p(Ae);!it.done;Ge++,it=X.next())it=ne(Ae,W,Ge,it.value,se),it!==null&&(a&&it.alternate!==null&&Ae.delete(it.key===null?Ge:it.key),Y=b(it,Y,Ge),rt===null?Ce=it:rt.sibling=it,rt=it);return a&&Ae.forEach(function(Cz){return l(W,Cz)}),tt&&wo(W,Ge),Ce}function yt(W,Y,X,se){if(typeof X=="object"&&X!==null&&X.type===x&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var Ce=X.key;Y!==null;){if(Y.key===Ce){if(Ce=X.type,Ce===x){if(Y.tag===7){c(W,Y.sibling),se=E(Y,X.props.children),se.return=W,W=se;break e}}else if(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&Xs(Ce)===Y.type){c(W,Y.sibling),se=E(Y,X.props),lf(se,X),se.return=W,W=se;break e}c(W,Y);break}else l(W,Y);Y=Y.sibling}X.type===x?(se=$s(X.props.children,W.mode,se,X.key),se.return=W,W=se):(se=Bh(X.type,X.key,X.props,null,W.mode,se),lf(se,X),se.return=W,W=se)}return C(W);case S:e:{for(Ce=X.key;Y!==null;){if(Y.key===Ce)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){c(W,Y.sibling),se=E(Y,X.children||[]),se.return=W,W=se;break e}else{c(W,Y);break}else l(W,Y);Y=Y.sibling}se=bv(X,W.mode,se),se.return=W,W=se}return C(W);case O:return X=Xs(X),yt(W,Y,X,se)}if(Re(X))return be(W,Y,X,se);if(F(X)){if(Ce=F(X),typeof Ce!="function")throw Error(r(150));return X=Ce.call(X),Pe(W,Y,X,se)}if(typeof X.then=="function")return yt(W,Y,Yh(X),se);if(X.$$typeof===L)return yt(W,Y,Gh(W,X),se);Wh(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(c(W,Y.sibling),se=E(Y,X),se.return=W,W=se):(c(W,Y),se=Tv(X,W.mode,se),se.return=W,W=se),C(W)):c(W,Y)}return function(W,Y,X,se){try{sf=0;var Ce=yt(W,Y,X,se);return cu=null,Ce}catch(Ae){if(Ae===uu||Ae===$h)throw Ae;var rt=Ar(29,Ae,null,W.mode);return rt.lanes=se,rt.return=W,rt}finally{}}}var Zs=Xw(!0),Qw=Xw(!1),Oa=!1;function Ov(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kv(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ka(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function La(a,l,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(lt&2)!==0){var E=p.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),p.pending=l,l=zh(a),kw(a,null,c),l}return Fh(a,p,l,c),zh(a)}function uf(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,c|=p,l.lanes=c,kc(a,c)}}function Lv(a,l){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var E=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?E=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?E=b=l:b=b.next=l}else E=b=l;c={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}var Uv=!1;function cf(){if(Uv){var a=lu;if(a!==null)throw a}}function ff(a,l,c,p){Uv=!1;var E=a.updateQueue;Oa=!1;var b=E.firstBaseUpdate,C=E.lastBaseUpdate,k=E.shared.pending;if(k!==null){E.shared.pending=null;var $=k,Q=$.next;$.next=null,C===null?b=Q:C.next=Q,C=$;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==C&&(k===null?oe.firstBaseUpdate=Q:k.next=Q,oe.lastBaseUpdate=$))}if(b!==null){var le=E.baseState;C=0,oe=Q=$=null,k=b;do{var ee=k.lane&-536870913,ne=ee!==k.lane;if(ne?(Je&ee)===ee:(p&ee)===ee){ee!==0&&ee===su&&(Uv=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var be=a,Pe=k;ee=l;var yt=c;switch(Pe.tag){case 1:if(be=Pe.payload,typeof be=="function"){le=be.call(yt,le,ee);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Pe.payload,ee=typeof be=="function"?be.call(yt,le,ee):be,ee==null)break e;le=m({},le,ee);break e;case 2:Oa=!0}}ee=k.callback,ee!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=E.callbacks,ne===null?E.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(Q=oe=ne,$=le):oe=oe.next=ne,C|=ee;if(k=k.next,k===null){if(k=E.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,E.lastBaseUpdate=ne,E.shared.pending=null}}while(!0);oe===null&&($=le),E.baseState=$,E.firstBaseUpdate=Q,E.lastBaseUpdate=oe,b===null&&(E.shared.lanes=0),Ba|=C,a.lanes=C,a.memoizedState=le}}function Zw(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function ex(a,l){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Zw(c[a],l)}var fu=K(null),Jh=K(0);function tx(a,l){a=Lo,he(Jh,a),he(fu,l),Lo=a|l.baseLanes}function Vv(){he(Jh,Lo),he(fu,fu.current)}function Fv(){Lo=Jh.current,ie(fu),ie(Jh)}var wr=K(null),Wr=null;function Ua(a){var l=a.alternate;he(Bt,Bt.current&1),he(wr,a),Wr===null&&(l===null||fu.current!==null||l.memoizedState!==null)&&(Wr=a)}function zv(a){he(Bt,Bt.current),he(wr,a),Wr===null&&(Wr=a)}function nx(a){a.tag===22?(he(Bt,Bt.current),he(wr,a),Wr===null&&(Wr=a)):Va()}function Va(){he(Bt,Bt.current),he(wr,wr.current)}function xr(a){ie(wr),Wr===a&&(Wr=null),ie(Bt)}var Bt=K(0);function Xh(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||$0(c)||K0(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Io=0,He=null,mt=null,Xt=null,Qh=!1,du=!1,el=!1,Zh=0,df=0,hu=null,yF=0;function Ot(){throw Error(r(321))}function Bv(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!Sr(a[c],l[c]))return!1;return!0}function qv(a,l,c,p,E,b){return Io=b,He=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Z.H=a===null||a.memoizedState===null?Fx:r0,el=!1,b=c(p,E),el=!1,du&&(b=ix(l,c,p,E)),rx(a),b}function rx(a){Z.H=mf;var l=mt!==null&&mt.next!==null;if(Io=0,Xt=mt=He=null,Qh=!1,df=0,hu=null,l)throw Error(r(300));a===null||Qt||(a=a.dependencies,a!==null&&Hh(a)&&(Qt=!0))}function ix(a,l,c,p){He=a;var E=0;do{if(du&&(hu=null),df=0,du=!1,25<=E)throw Error(r(301));if(E+=1,Xt=mt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=zx,b=l(c,p)}while(du);return b}function vF(){var a=Z.H,l=a.useState()[0];return l=typeof l.then=="function"?hf(l):l,a=a.useState()[0],(mt!==null?mt.memoizedState:null)!==a&&(He.flags|=1024),l}function Hv(){var a=Zh!==0;return Zh=0,a}function Gv(a,l,c){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~c}function jv(a){if(Qh){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Qh=!1}Io=0,Xt=mt=He=null,du=!1,df=Zh=0,hu=null}function tr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?He.memoizedState=Xt=a:Xt=Xt.next=a,Xt}function qt(){if(mt===null){var a=He.alternate;a=a!==null?a.memoizedState:null}else a=mt.next;var l=Xt===null?He.memoizedState:Xt.next;if(l!==null)Xt=l,mt=a;else{if(a===null)throw He.alternate===null?Error(r(467)):Error(r(310));mt=a,a={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Xt===null?He.memoizedState=Xt=a:Xt=Xt.next=a}return Xt}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hf(a){var l=df;return df+=1,hu===null&&(hu=[]),a=Yw(hu,a,l),l=He,(Xt===null?l.memoizedState:Xt.next)===null&&(l=l.alternate,Z.H=l===null||l.memoizedState===null?Fx:r0),a}function tp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hf(a);if(a.$$typeof===L)return Rn(a)}throw Error(r(438,String(a)))}function $v(a){var l=null,c=He.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var p=He.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=ep(),He.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(a),p=0;p<a;p++)c[p]=q;return l.index++,c}function Ro(a,l){return typeof l=="function"?l(a):l}function np(a){var l=qt();return Kv(l,mt,a)}function Kv(a,l,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var E=a.baseQueue,b=p.pending;if(b!==null){if(E!==null){var C=E.next;E.next=b.next,b.next=C}l.baseQueue=E=b,p.pending=null}if(b=a.baseState,E===null)a.memoizedState=b;else{l=E.next;var k=C=null,$=null,Q=l,oe=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(Je&le)===le:(Io&le)===le){var ee=Q.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===su&&(oe=!0);else if((Io&ee)===ee){Q=Q.next,ee===su&&(oe=!0);continue}else le={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},$===null?(k=$=le,C=b):$=$.next=le,He.lanes|=ee,Ba|=ee;le=Q.action,el&&c(b,le),b=Q.hasEagerState?Q.eagerState:c(b,le)}else ee={lane:le,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},$===null?(k=$=ee,C=b):$=$.next=ee,He.lanes|=le,Ba|=le;Q=Q.next}while(Q!==null&&Q!==l);if($===null?C=b:$.next=k,!Sr(b,a.memoizedState)&&(Qt=!0,oe&&(c=lu,c!==null)))throw c;a.memoizedState=b,a.baseState=C,a.baseQueue=$,p.lastRenderedState=b}return E===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Yv(a){var l=qt(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,E=c.pending,b=l.memoizedState;if(E!==null){c.pending=null;var C=E=E.next;do b=a(b,C.action),C=C.next;while(C!==E);Sr(b,l.memoizedState)||(Qt=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),c.lastRenderedState=b}return[b,p]}function ox(a,l,c){var p=He,E=qt(),b=tt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=l();var C=!Sr((mt||E).memoizedState,c);if(C&&(E.memoizedState=c,Qt=!0),E=E.queue,Xv(lx.bind(null,p,E,a),[a]),E.getSnapshot!==l||C||Xt!==null&&Xt.memoizedState.tag&1){if(p.flags|=2048,pu(9,{destroy:void 0},sx.bind(null,p,E,c,l),null),_t===null)throw Error(r(349));b||(Io&127)!==0||ax(p,l,c)}return c}function ax(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=He.updateQueue,l===null?(l=ep(),He.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function sx(a,l,c,p){l.value=c,l.getSnapshot=p,ux(l)&&cx(a)}function lx(a,l,c){return c(function(){ux(l)&&cx(a)})}function ux(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!Sr(a,c)}catch{return!0}}function cx(a){var l=js(a,2);l!==null&&mr(l,a,2)}function Wv(a){var l=tr();if(typeof a=="function"){var c=a;if(a=c(),el){Fr(!0);try{c()}finally{Fr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:a},l}function fx(a,l,c,p){return a.baseState=c,Kv(a,mt,typeof p=="function"?p:Ro)}function _F(a,l,c,p,E){if(op(a))throw Error(r(485));if(a=l.action,a!==null){var b={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};Z.T!==null?c(!0):b.isTransition=!1,p(b),c=l.pending,c===null?(b.next=l.pending=b,dx(l,b)):(b.next=c.next,l.pending=c.next=b)}}function dx(a,l){var c=l.action,p=l.payload,E=a.state;if(l.isTransition){var b=Z.T,C={};Z.T=C;try{var k=c(E,p),$=Z.S;$!==null&&$(C,k),hx(a,l,k)}catch(Q){Jv(a,l,Q)}finally{b!==null&&C.types!==null&&(b.types=C.types),Z.T=b}}else try{b=c(E,p),hx(a,l,b)}catch(Q){Jv(a,l,Q)}}function hx(a,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){px(a,l,p)},function(p){return Jv(a,l,p)}):px(a,l,c)}function px(a,l,c){l.status="fulfilled",l.value=c,mx(l),a.state=c,l=a.pending,l!==null&&(c=l.next,c===l?a.pending=null:(c=c.next,l.next=c,dx(a,c)))}function Jv(a,l,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=c,mx(l),l=l.next;while(l!==p)}a.action=null}function mx(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function gx(a,l){return l}function yx(a,l){if(tt){var c=_t.formState;if(c!==null){e:{var p=He;if(tt){if(At){t:{for(var E=At,b=Yr;E.nodeType!==8;){if(!b){E=null;break t}if(E=Jr(E.nextSibling),E===null){E=null;break t}}b=E.data,E=b==="F!"||b==="F"?E:null}if(E){At=Jr(E.nextSibling),p=E.data==="F!";break e}}Ma(p)}p=!1}p&&(l=c[0])}}return c=tr(),c.memoizedState=c.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gx,lastRenderedState:l},c.queue=p,c=Lx.bind(null,He,p),p.dispatch=c,p=Wv(!1),b=n0.bind(null,He,!1,p.queue),p=tr(),E={state:l,dispatch:null,action:a,pending:null},p.queue=E,c=_F.bind(null,He,E,b,c),E.dispatch=c,p.memoizedState=a,[l,c,!1]}function vx(a){var l=qt();return _x(l,mt,a)}function _x(a,l,c){if(l=Kv(a,l,gx)[0],a=np(Ro)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=hf(l)}catch(C){throw C===uu?$h:C}else p=l;l=qt();var E=l.queue,b=E.dispatch;return c!==l.memoizedState&&(He.flags|=2048,pu(9,{destroy:void 0},EF.bind(null,E,c),null)),[p,b,a]}function EF(a,l){a.action=l}function Ex(a){var l=qt(),c=mt;if(c!==null)return _x(l,c,a);qt(),l=l.memoizedState,c=qt();var p=c.queue.dispatch;return c.memoizedState=a,[l,p,!1]}function pu(a,l,c,p){return a={tag:a,create:c,deps:p,inst:l,next:null},l=He.updateQueue,l===null&&(l=ep(),He.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,l.lastEffect=a),a}function Tx(){return qt().memoizedState}function rp(a,l,c,p){var E=tr();He.flags|=a,E.memoizedState=pu(1|l,{destroy:void 0},c,p===void 0?null:p)}function ip(a,l,c,p){var E=qt();p=p===void 0?null:p;var b=E.memoizedState.inst;mt!==null&&p!==null&&Bv(p,mt.memoizedState.deps)?E.memoizedState=pu(l,b,c,p):(He.flags|=a,E.memoizedState=pu(1|l,b,c,p))}function bx(a,l){rp(8390656,8,a,l)}function Xv(a,l){ip(2048,8,a,l)}function TF(a){He.flags|=4;var l=He.updateQueue;if(l===null)l=ep(),He.updateQueue=l,l.events=[a];else{var c=l.events;c===null?l.events=[a]:c.push(a)}}function Sx(a){var l=qt().memoizedState;return TF({ref:l,nextImpl:a}),function(){if((lt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Ax(a,l){return ip(4,2,a,l)}function wx(a,l){return ip(4,4,a,l)}function xx(a,l){if(typeof l=="function"){a=a();var c=l(a);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Cx(a,l,c){c=c!=null?c.concat([a]):null,ip(4,4,xx.bind(null,l,a),c)}function Qv(){}function Ix(a,l){var c=qt();l=l===void 0?null:l;var p=c.memoizedState;return l!==null&&Bv(l,p[1])?p[0]:(c.memoizedState=[a,l],a)}function Rx(a,l){var c=qt();l=l===void 0?null:l;var p=c.memoizedState;if(l!==null&&Bv(l,p[1]))return p[0];if(p=a(),el){Fr(!0);try{a()}finally{Fr(!1)}}return c.memoizedState=[p,l],p}function Zv(a,l,c){return c===void 0||(Io&1073741824)!==0&&(Je&261930)===0?a.memoizedState=l:(a.memoizedState=c,a=N1(),He.lanes|=a,Ba|=a,c)}function Nx(a,l,c,p){return Sr(c,l)?c:fu.current!==null?(a=Zv(a,c,p),Sr(a,l)||(Qt=!0),a):(Io&42)===0||(Io&1073741824)!==0&&(Je&261930)===0?(Qt=!0,a.memoizedState=c):(a=N1(),He.lanes|=a,Ba|=a,l)}function Px(a,l,c,p,E){var b=fe.p;fe.p=b!==0&&8>b?b:8;var C=Z.T,k={};Z.T=k,n0(a,!1,l,c);try{var $=E(),Q=Z.S;if(Q!==null&&Q(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=gF($,p);pf(a,l,oe,Rr(a))}else pf(a,l,p,Rr(a))}catch(le){pf(a,l,{then:function(){},status:"rejected",reason:le},Rr())}finally{fe.p=b,C!==null&&k.types!==null&&(C.types=k.types),Z.T=C}}function bF(){}function e0(a,l,c,p){if(a.tag!==5)throw Error(r(476));var E=Mx(a).queue;Px(a,E,l,ye,c===null?bF:function(){return Dx(a),c(p)})}function Mx(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:ye},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:c},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Dx(a){var l=Mx(a);l.next===null&&(l=a.alternate.memoizedState),pf(a,l.next.queue,{},Rr())}function t0(){return Rn(Pf)}function Ox(){return qt().memoizedState}function kx(){return qt().memoizedState}function SF(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var c=Rr();a=ka(c);var p=La(l,a,c);p!==null&&(mr(p,l,c),uf(p,l,c)),l={cache:Nv()},a.payload=l;return}l=l.return}}function AF(a,l,c){var p=Rr();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},op(a)?Ux(l,c):(c=_v(a,l,c,p),c!==null&&(mr(c,a,p),Vx(c,l,p)))}function Lx(a,l,c){var p=Rr();pf(a,l,c,p)}function pf(a,l,c,p){var E={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(op(a))Ux(l,E);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var C=l.lastRenderedState,k=b(C,c);if(E.hasEagerState=!0,E.eagerState=k,Sr(k,C))return Fh(a,l,E,0),_t===null&&Vh(),!1}catch{}finally{}if(c=_v(a,l,E,p),c!==null)return mr(c,a,p),Vx(c,l,p),!0}return!1}function n0(a,l,c,p){if(p={lane:2,revertLane:O0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},op(a)){if(l)throw Error(r(479))}else l=_v(a,c,p,2),l!==null&&mr(l,a,2)}function op(a){var l=a.alternate;return a===He||l!==null&&l===He}function Ux(a,l){du=Qh=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function Vx(a,l,c){if((c&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,c|=p,l.lanes=c,kc(a,c)}}var mf={readContext:Rn,use:tp,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};mf.useEffectEvent=Ot;var Fx={readContext:Rn,use:tp,useCallback:function(a,l){return tr().memoizedState=[a,l===void 0?null:l],a},useContext:Rn,useEffect:bx,useImperativeHandle:function(a,l,c){c=c!=null?c.concat([a]):null,rp(4194308,4,xx.bind(null,l,a),c)},useLayoutEffect:function(a,l){return rp(4194308,4,a,l)},useInsertionEffect:function(a,l){rp(4,2,a,l)},useMemo:function(a,l){var c=tr();l=l===void 0?null:l;var p=a();if(el){Fr(!0);try{a()}finally{Fr(!1)}}return c.memoizedState=[p,l],p},useReducer:function(a,l,c){var p=tr();if(c!==void 0){var E=c(l);if(el){Fr(!0);try{c(l)}finally{Fr(!1)}}}else E=l;return p.memoizedState=p.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},p.queue=a,a=a.dispatch=AF.bind(null,He,a),[p.memoizedState,a]},useRef:function(a){var l=tr();return a={current:a},l.memoizedState=a},useState:function(a){a=Wv(a);var l=a.queue,c=Lx.bind(null,He,l);return l.dispatch=c,[a.memoizedState,c]},useDebugValue:Qv,useDeferredValue:function(a,l){var c=tr();return Zv(c,a,l)},useTransition:function(){var a=Wv(!1);return a=Px.bind(null,He,a.queue,!0,!1),tr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,c){var p=He,E=tr();if(tt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),_t===null)throw Error(r(349));(Je&127)!==0||ax(p,l,c)}E.memoizedState=c;var b={value:c,getSnapshot:l};return E.queue=b,bx(lx.bind(null,p,b,a),[a]),p.flags|=2048,pu(9,{destroy:void 0},sx.bind(null,p,b,c,l),null),c},useId:function(){var a=tr(),l=_t.identifierPrefix;if(tt){var c=to,p=eo;c=(p&~(1<<32-Ft(p)-1)).toString(32)+c,l="_"+l+"R_"+c,c=Zh++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=yF++,l="_"+l+"r_"+c.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:t0,useFormState:yx,useActionState:yx,useOptimistic:function(a){var l=tr();l.memoizedState=l.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=n0.bind(null,He,!0,c),c.dispatch=l,[a,l]},useMemoCache:$v,useCacheRefresh:function(){return tr().memoizedState=SF.bind(null,He)},useEffectEvent:function(a){var l=tr(),c={impl:a};return l.memoizedState=c,function(){if((lt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},r0={readContext:Rn,use:tp,useCallback:Ix,useContext:Rn,useEffect:Xv,useImperativeHandle:Cx,useInsertionEffect:Ax,useLayoutEffect:wx,useMemo:Rx,useReducer:np,useRef:Tx,useState:function(){return np(Ro)},useDebugValue:Qv,useDeferredValue:function(a,l){var c=qt();return Nx(c,mt.memoizedState,a,l)},useTransition:function(){var a=np(Ro)[0],l=qt().memoizedState;return[typeof a=="boolean"?a:hf(a),l]},useSyncExternalStore:ox,useId:Ox,useHostTransitionStatus:t0,useFormState:vx,useActionState:vx,useOptimistic:function(a,l){var c=qt();return fx(c,mt,a,l)},useMemoCache:$v,useCacheRefresh:kx};r0.useEffectEvent=Sx;var zx={readContext:Rn,use:tp,useCallback:Ix,useContext:Rn,useEffect:Xv,useImperativeHandle:Cx,useInsertionEffect:Ax,useLayoutEffect:wx,useMemo:Rx,useReducer:Yv,useRef:Tx,useState:function(){return Yv(Ro)},useDebugValue:Qv,useDeferredValue:function(a,l){var c=qt();return mt===null?Zv(c,a,l):Nx(c,mt.memoizedState,a,l)},useTransition:function(){var a=Yv(Ro)[0],l=qt().memoizedState;return[typeof a=="boolean"?a:hf(a),l]},useSyncExternalStore:ox,useId:Ox,useHostTransitionStatus:t0,useFormState:Ex,useActionState:Ex,useOptimistic:function(a,l){var c=qt();return mt!==null?fx(c,mt,a,l):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:$v,useCacheRefresh:kx};zx.useEffectEvent=Sx;function i0(a,l,c,p){l=a.memoizedState,c=c(p,l),c=c==null?l:m({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var o0={enqueueSetState:function(a,l,c){a=a._reactInternals;var p=Rr(),E=ka(p);E.payload=l,c!=null&&(E.callback=c),l=La(a,E,p),l!==null&&(mr(l,a,p),uf(l,a,p))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var p=Rr(),E=ka(p);E.tag=1,E.payload=l,c!=null&&(E.callback=c),l=La(a,E,p),l!==null&&(mr(l,a,p),uf(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=Rr(),p=ka(c);p.tag=2,l!=null&&(p.callback=l),l=La(a,p,c),l!==null&&(mr(l,a,c),uf(l,a,c))}};function Bx(a,l,c,p,E,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,C):l.prototype&&l.prototype.isPureReactComponent?!ef(c,p)||!ef(E,b):!0}function qx(a,l,c,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==a&&o0.enqueueReplaceState(l,l.state,null)}function tl(a,l){var c=l;if("ref"in l){c={};for(var p in l)p!=="ref"&&(c[p]=l[p])}if(a=a.defaultProps){c===l&&(c=m({},c));for(var E in a)c[E]===void 0&&(c[E]=a[E])}return c}function Hx(a){Uh(a)}function Gx(a){console.error(a)}function jx(a){Uh(a)}function ap(a,l){try{var c=a.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function $x(a,l,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function a0(a,l,c){return c=ka(c),c.tag=3,c.payload={element:null},c.callback=function(){ap(a,l)},c}function Kx(a){return a=ka(a),a.tag=3,a}function Yx(a,l,c,p){var E=c.type.getDerivedStateFromError;if(typeof E=="function"){var b=p.value;a.payload=function(){return E(b)},a.callback=function(){$x(l,c,p)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){$x(l,c,p),typeof E!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var k=p.stack;this.componentDidCatch(p.value,{componentStack:k!==null?k:""})})}function wF(a,l,c,p,E){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=c.alternate,l!==null&&au(l,c,E,!0),c=wr.current,c!==null){switch(c.tag){case 31:case 13:return Wr===null?vp():c.alternate===null&&kt===0&&(kt=3),c.flags&=-257,c.flags|=65536,c.lanes=E,p===Kh?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([p]):l.add(p),P0(a,p,E)),!1;case 22:return c.flags|=65536,p===Kh?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([p]):c.add(p)),P0(a,p,E)),!1}throw Error(r(435,c.tag))}return P0(a,p,E),vp(),!1}if(tt)return l=wr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,p!==wv&&(a=Error(r(422),{cause:p}),rf(jr(a,c)))):(p!==wv&&(l=Error(r(423),{cause:p}),rf(jr(l,c))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,p=jr(p,c),E=a0(a.stateNode,p,E),Lv(a,E),kt!==4&&(kt=2)),!1;var b=Error(r(520),{cause:p});if(b=jr(b,c),Sf===null?Sf=[b]:Sf.push(b),kt!==4&&(kt=2),l===null)return!0;p=jr(p,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,a=E&-E,c.lanes|=a,a=a0(c.stateNode,p,a),Lv(c,a),!1;case 1:if(l=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qa===null||!qa.has(b))))return c.flags|=65536,E&=-E,c.lanes|=E,E=Kx(E),Yx(E,a,c,p),Lv(c,E),!1}c=c.return}while(c!==null);return!1}var s0=Error(r(461)),Qt=!1;function Nn(a,l,c,p){l.child=a===null?Qw(l,null,c,p):Zs(l,a.child,c,p)}function Wx(a,l,c,p,E){c=c.render;var b=l.ref;if("ref"in p){var C={};for(var k in p)k!=="ref"&&(C[k]=p[k])}else C=p;return Ws(l),p=qv(a,l,c,C,b,E),k=Hv(),a!==null&&!Qt?(Gv(a,l,E),No(a,l,E)):(tt&&k&&Sv(l),l.flags|=1,Nn(a,l,p,E),l.child)}function Jx(a,l,c,p,E){if(a===null){var b=c.type;return typeof b=="function"&&!Ev(b)&&b.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=b,Xx(a,l,b,p,E)):(a=Bh(c.type,null,p,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,!m0(a,E)){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:ef,c(C,p)&&a.ref===l.ref)return No(a,l,E)}return l.flags|=1,a=Ao(b,p),a.ref=l.ref,a.return=l,l.child=a}function Xx(a,l,c,p,E){if(a!==null){var b=a.memoizedProps;if(ef(b,p)&&a.ref===l.ref)if(Qt=!1,l.pendingProps=p=b,m0(a,E))(a.flags&131072)!==0&&(Qt=!0);else return l.lanes=a.lanes,No(a,l,E)}return l0(a,l,c,p,E)}function Qx(a,l,c,p){var E=p.children,b=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(p=l.child=a.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~b}else p=0,l.child=null;return Zx(a,l,b,c,p)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&jh(l,b!==null?b.cachePool:null),b!==null?tx(l,b):Vv(),nx(l);else return p=l.lanes=536870912,Zx(a,l,b!==null?b.baseLanes|c:c,c,p)}else b!==null?(jh(l,b.cachePool),tx(l,b),Va(),l.memoizedState=null):(a!==null&&jh(l,null),Vv(),Va());return Nn(a,l,E,c),l.child}function gf(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Zx(a,l,c,p,E){var b=Mv();return b=b===null?null:{parent:Jt._currentValue,pool:b},l.memoizedState={baseLanes:c,cachePool:b},a!==null&&jh(l,null),Vv(),nx(l),a!==null&&au(a,l,p,!0),l.childLanes=E,null}function sp(a,l){return l=up({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function e1(a,l,c){return Zs(l,a.child,null,c),a=sp(l,l.pendingProps),a.flags|=2,xr(l),l.memoizedState=null,a}function xF(a,l,c){var p=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(tt){if(p.mode==="hidden")return a=sp(l,p),l.lanes=536870912,gf(null,a);if(zv(l),(a=At)?(a=dC(a,Yr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Na!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},c=Uw(a),c.return=l,l.child=c,In=l,At=null)):a=null,a===null)throw Ma(l);return l.lanes=536870912,null}return sp(l,p)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if(zv(l),E)if(l.flags&256)l.flags&=-257,l=e1(a,l,c);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Qt||au(a,l,c,!1),E=(c&a.childLanes)!==0,Qt||E){if(p=_t,p!==null&&(C=Lc(p,c),C!==0&&C!==b.retryLane))throw b.retryLane=C,js(a,C),mr(p,a,C),s0;vp(),l=e1(a,l,c)}else a=b.treeContext,At=Jr(C.nextSibling),In=l,tt=!0,Pa=null,Yr=!1,a!==null&&zw(l,a),l=sp(l,p),l.flags|=4096;return l}return a=Ao(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function lp(a,l){var c=l.ref;if(c===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(l.flags|=4194816)}}function l0(a,l,c,p,E){return Ws(l),c=qv(a,l,c,p,void 0,E),p=Hv(),a!==null&&!Qt?(Gv(a,l,E),No(a,l,E)):(tt&&p&&Sv(l),l.flags|=1,Nn(a,l,c,E),l.child)}function t1(a,l,c,p,E,b){return Ws(l),l.updateQueue=null,c=ix(l,p,c,E),rx(a),p=Hv(),a!==null&&!Qt?(Gv(a,l,b),No(a,l,b)):(tt&&p&&Sv(l),l.flags|=1,Nn(a,l,c,b),l.child)}function n1(a,l,c,p,E){if(Ws(l),l.stateNode===null){var b=nu,C=c.contextType;typeof C=="object"&&C!==null&&(b=Rn(C)),b=new c(p,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=o0,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=p,b.state=l.memoizedState,b.refs={},Ov(l),C=c.contextType,b.context=typeof C=="object"&&C!==null?Rn(C):nu,b.state=l.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(i0(l,c,C,p),b.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&o0.enqueueReplaceState(b,b.state,null),ff(l,p,b,E),cf(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){b=l.stateNode;var k=l.memoizedProps,$=tl(c,k);b.props=$;var Q=b.context,oe=c.contextType;C=nu,typeof oe=="object"&&oe!==null&&(C=Rn(oe));var le=c.getDerivedStateFromProps;oe=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||Q!==C)&&qx(l,b,p,C),Oa=!1;var ee=l.memoizedState;b.state=ee,ff(l,p,b,E),cf(),Q=l.memoizedState,k||ee!==Q||Oa?(typeof le=="function"&&(i0(l,c,le,p),Q=l.memoizedState),($=Oa||Bx(l,c,$,p,ee,Q,C))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Q),b.props=p,b.state=Q,b.context=C,p=$):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{b=l.stateNode,kv(a,l),C=l.memoizedProps,oe=tl(c,C),b.props=oe,le=l.pendingProps,ee=b.context,Q=c.contextType,$=nu,typeof Q=="object"&&Q!==null&&($=Rn(Q)),k=c.getDerivedStateFromProps,(Q=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==le||ee!==$)&&qx(l,b,p,$),Oa=!1,ee=l.memoizedState,b.state=ee,ff(l,p,b,E),cf();var ne=l.memoizedState;C!==le||ee!==ne||Oa||a!==null&&a.dependencies!==null&&Hh(a.dependencies)?(typeof k=="function"&&(i0(l,c,k,p),ne=l.memoizedState),(oe=Oa||Bx(l,c,oe,p,ee,ne,$)||a!==null&&a.dependencies!==null&&Hh(a.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,ne,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,ne,$)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ne),b.props=p,b.state=ne,b.context=$,p=oe):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),p=!1)}return b=p,lp(a,l),p=(l.flags&128)!==0,b||p?(b=l.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,a!==null&&p?(l.child=Zs(l,a.child,null,E),l.child=Zs(l,null,c,E)):Nn(a,l,c,E),l.memoizedState=b.state,a=l.child):a=No(a,l,E),a}function r1(a,l,c,p){return Ks(),l.flags|=256,Nn(a,l,c,p),l.child}var u0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c0(a){return{baseLanes:a,cachePool:$w()}}function f0(a,l,c){return a=a!==null?a.childLanes&~c:0,l&&(a|=Ir),a}function i1(a,l,c){var p=l.pendingProps,E=!1,b=(l.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(Bt.current&2)!==0),C&&(E=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,a===null){if(tt){if(E?Ua(l):Va(),(a=At)?(a=dC(a,Yr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Na!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},c=Uw(a),c.return=l,l.child=c,In=l,At=null)):a=null,a===null)throw Ma(l);return K0(a)?l.lanes=32:l.lanes=536870912,null}var k=p.children;return p=p.fallback,E?(Va(),E=l.mode,k=up({mode:"hidden",children:k},E),p=$s(p,E,c,null),k.return=l,p.return=l,k.sibling=p,l.child=k,p=l.child,p.memoizedState=c0(c),p.childLanes=f0(a,C,c),l.memoizedState=u0,gf(null,p)):(Ua(l),d0(l,k))}var $=a.memoizedState;if($!==null&&(k=$.dehydrated,k!==null)){if(b)l.flags&256?(Ua(l),l.flags&=-257,l=h0(a,l,c)):l.memoizedState!==null?(Va(),l.child=a.child,l.flags|=128,l=null):(Va(),k=p.fallback,E=l.mode,p=up({mode:"visible",children:p.children},E),k=$s(k,E,c,null),k.flags|=2,p.return=l,k.return=l,p.sibling=k,l.child=p,Zs(l,a.child,null,c),p=l.child,p.memoizedState=c0(c),p.childLanes=f0(a,C,c),l.memoizedState=u0,l=gf(null,p));else if(Ua(l),K0(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var Q=C.dgst;C=Q,p=Error(r(419)),p.stack="",p.digest=C,rf({value:p,source:null,stack:null}),l=h0(a,l,c)}else if(Qt||au(a,l,c,!1),C=(c&a.childLanes)!==0,Qt||C){if(C=_t,C!==null&&(p=Lc(C,c),p!==0&&p!==$.retryLane))throw $.retryLane=p,js(a,p),mr(C,a,p),s0;$0(k)||vp(),l=h0(a,l,c)}else $0(k)?(l.flags|=192,l.child=a.child,l=null):(a=$.treeContext,At=Jr(k.nextSibling),In=l,tt=!0,Pa=null,Yr=!1,a!==null&&zw(l,a),l=d0(l,p.children),l.flags|=4096);return l}return E?(Va(),k=p.fallback,E=l.mode,$=a.child,Q=$.sibling,p=Ao($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,Q!==null?k=Ao(Q,k):(k=$s(k,E,c,null),k.flags|=2),k.return=l,p.return=l,p.sibling=k,l.child=p,gf(null,p),p=l.child,k=a.child.memoizedState,k===null?k=c0(c):(E=k.cachePool,E!==null?($=Jt._currentValue,E=E.parent!==$?{parent:$,pool:$}:E):E=$w(),k={baseLanes:k.baseLanes|c,cachePool:E}),p.memoizedState=k,p.childLanes=f0(a,C,c),l.memoizedState=u0,gf(a.child,p)):(Ua(l),c=a.child,a=c.sibling,c=Ao(c,{mode:"visible",children:p.children}),c.return=l,c.sibling=null,a!==null&&(C=l.deletions,C===null?(l.deletions=[a],l.flags|=16):C.push(a)),l.child=c,l.memoizedState=null,c)}function d0(a,l){return l=up({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function up(a,l){return a=Ar(22,a,null,l),a.lanes=0,a}function h0(a,l,c){return Zs(l,a.child,null,c),a=d0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function o1(a,l,c){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Iv(a.return,l,c)}function p0(a,l,c,p,E,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:E,treeForkCount:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=c,C.tailMode=E,C.treeForkCount=b)}function a1(a,l,c){var p=l.pendingProps,E=p.revealOrder,b=p.tail;p=p.children;var C=Bt.current,k=(C&2)!==0;if(k?(C=C&1|2,l.flags|=128):C&=1,he(Bt,C),Nn(a,l,p,c),p=tt?nf:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&o1(a,c,l);else if(a.tag===19)o1(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(c=l.child,E=null;c!==null;)a=c.alternate,a!==null&&Xh(a)===null&&(E=c),c=c.sibling;c=E,c===null?(E=l.child,l.child=null):(E=c.sibling,c.sibling=null),p0(l,!1,E,c,b,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&Xh(a)===null){l.child=E;break}a=E.sibling,E.sibling=c,c=E,E=a}p0(l,!0,c,null,b,p);break;case"together":p0(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function No(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),Ba|=l.lanes,(c&l.childLanes)===0)if(a!==null){if(au(a,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,c=Ao(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=Ao(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function m0(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Hh(a)))}function CF(a,l,c){switch(l.tag){case 3:Mt(l,l.stateNode.containerInfo),Da(l,Jt,a.memoizedState.cache),Ks();break;case 27:case 5:Fe(l);break;case 4:Mt(l,l.stateNode.containerInfo);break;case 10:Da(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,zv(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ua(l),l.flags|=128,null):(c&l.child.childLanes)!==0?i1(a,l,c):(Ua(l),a=No(a,l,c),a!==null?a.sibling:null);Ua(l);break;case 19:var E=(a.flags&128)!==0;if(p=(c&l.childLanes)!==0,p||(au(a,l,c,!1),p=(c&l.childLanes)!==0),E){if(p)return a1(a,l,c);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),he(Bt,Bt.current),p)break;return null;case 22:return l.lanes=0,Qx(a,l,c,l.pendingProps);case 24:Da(l,Jt,a.memoizedState.cache)}return No(a,l,c)}function s1(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps)Qt=!0;else{if(!m0(a,c)&&(l.flags&128)===0)return Qt=!1,CF(a,l,c);Qt=(a.flags&131072)!==0}else Qt=!1,tt&&(l.flags&1048576)!==0&&Fw(l,nf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=Xs(l.elementType),l.type=a,typeof a=="function")Ev(a)?(p=tl(a,p),l.tag=1,l=n1(null,l,a,p,c)):(l.tag=0,l=l0(null,l,a,p,c));else{if(a!=null){var E=a.$$typeof;if(E===H){l.tag=11,l=Wx(null,l,a,p,c);break e}else if(E===D){l.tag=14,l=Jx(null,l,a,p,c);break e}}throw l=ge(a)||a,Error(r(306,l,""))}}return l;case 0:return l0(a,l,l.type,l.pendingProps,c);case 1:return p=l.type,E=tl(p,l.pendingProps),n1(a,l,p,E,c);case 3:e:{if(Mt(l,l.stateNode.containerInfo),a===null)throw Error(r(387));p=l.pendingProps;var b=l.memoizedState;E=b.element,kv(a,l),ff(l,p,null,c);var C=l.memoizedState;if(p=C.cache,Da(l,Jt,p),p!==b.cache&&Rv(l,[Jt],c,!0),cf(),p=C.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=r1(a,l,p,c);break e}else if(p!==E){E=jr(Error(r(424)),l),rf(E),l=r1(a,l,p,c);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(At=Jr(a.firstChild),In=l,tt=!0,Pa=null,Yr=!0,c=Qw(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ks(),p===E){l=No(a,l,c);break e}Nn(a,l,p,c)}l=l.child}return l;case 26:return lp(a,l),a===null?(c=vC(l.type,null,l.pendingProps,null))?l.memoizedState=c:tt||(c=l.type,a=l.pendingProps,p=wp(Le.current).createElement(c),p[Kt]=l,p[gn]=a,Pn(p,c,a),Yt(p),l.stateNode=p):l.memoizedState=vC(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Fe(l),a===null&&tt&&(p=l.stateNode=mC(l.type,l.pendingProps,Le.current),In=l,Yr=!0,E=At,$a(l.type)?(Y0=E,At=Jr(p.firstChild)):At=E),Nn(a,l,l.pendingProps.children,c),lp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&tt&&((E=p=At)&&(p=rz(p,l.type,l.pendingProps,Yr),p!==null?(l.stateNode=p,In=l,At=Jr(p.firstChild),Yr=!1,E=!0):E=!1),E||Ma(l)),Fe(l),E=l.type,b=l.pendingProps,C=a!==null?a.memoizedProps:null,p=b.children,H0(E,b)?p=null:C!==null&&H0(E,C)&&(l.flags|=32),l.memoizedState!==null&&(E=qv(a,l,vF,null,null,c),Pf._currentValue=E),lp(a,l),Nn(a,l,p,c),l.child;case 6:return a===null&&tt&&((a=c=At)&&(c=iz(c,l.pendingProps,Yr),c!==null?(l.stateNode=c,In=l,At=null,a=!0):a=!1),a||Ma(l)),null;case 13:return i1(a,l,c);case 4:return Mt(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Zs(l,null,p,c):Nn(a,l,p,c),l.child;case 11:return Wx(a,l,l.type,l.pendingProps,c);case 7:return Nn(a,l,l.pendingProps,c),l.child;case 8:return Nn(a,l,l.pendingProps.children,c),l.child;case 12:return Nn(a,l,l.pendingProps.children,c),l.child;case 10:return p=l.pendingProps,Da(l,l.type,p.value),Nn(a,l,p.children,c),l.child;case 9:return E=l.type._context,p=l.pendingProps.children,Ws(l),E=Rn(E),p=p(E),l.flags|=1,Nn(a,l,p,c),l.child;case 14:return Jx(a,l,l.type,l.pendingProps,c);case 15:return Xx(a,l,l.type,l.pendingProps,c);case 19:return a1(a,l,c);case 31:return xF(a,l,c);case 22:return Qx(a,l,c,l.pendingProps);case 24:return Ws(l),p=Rn(Jt),a===null?(E=Mv(),E===null&&(E=_t,b=Nv(),E.pooledCache=b,b.refCount++,b!==null&&(E.pooledCacheLanes|=c),E=b),l.memoizedState={parent:p,cache:E},Ov(l),Da(l,Jt,E)):((a.lanes&c)!==0&&(kv(a,l),ff(l,null,null,c),cf()),E=a.memoizedState,b=l.memoizedState,E.parent!==p?(E={parent:p,cache:p},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),Da(l,Jt,p)):(p=b.cache,Da(l,Jt,p),p!==E.cache&&Rv(l,[Jt],c,!0))),Nn(a,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Po(a){a.flags|=4}function g0(a,l,c,p,E){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(O1())a.flags|=8192;else throw Qs=Kh,Dv}else a.flags&=-16777217}function l1(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!SC(l))if(O1())a.flags|=8192;else throw Qs=Kh,Dv}function cp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?gh():536870912,a.lanes|=l,vu|=l)}function yf(a,l){if(!tt)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function wt(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(l)for(var E=a.child;E!==null;)c|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)c|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=p,a.childLanes=c,l}function IF(a,l,c){var p=l.pendingProps;switch(Av(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(l),null;case 1:return wt(l),null;case 3:return c=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Co(Jt),ae(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(ou(l)?Po(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xv())),wt(l),null;case 26:var E=l.type,b=l.memoizedState;return a===null?(Po(l),b!==null?(wt(l),l1(l,b)):(wt(l),g0(l,E,null,p,c))):b?b!==a.memoizedState?(Po(l),wt(l),l1(l,b)):(wt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&Po(l),wt(l),g0(l,E,a,p,c)),null;case 27:if($e(l),c=Le.current,E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Po(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return wt(l),null}a=me.current,ou(l)?Bw(l):(a=mC(E,p,c),l.stateNode=a,Po(l))}return wt(l),null;case 5:if($e(l),E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Po(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return wt(l),null}if(b=me.current,ou(l))Bw(l);else{var C=wp(Le.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?C.createElement("select",{is:p.is}):C.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?C.createElement(E,{is:p.is}):C.createElement(E)}}b[Kt]=l,b[gn]=p;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=b;e:switch(Pn(b,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Po(l)}}return wt(l),g0(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,c),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Po(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(a=Le.current,ou(l)){if(a=l.stateNode,c=l.memoizedProps,p=null,E=In,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}a[Kt]=l,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||iC(a.nodeValue,c)),a||Ma(l,!0)}else a=wp(a).createTextNode(p),a[Kt]=l,l.stateNode=a}return wt(l),null;case 31:if(c=l.memoizedState,a===null||a.memoizedState!==null){if(p=ou(l),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Kt]=l}else Ks(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wt(l),a=!1}else c=xv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return l.flags&256?(xr(l),l):(xr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return wt(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=ou(l),p!==null&&p.dehydrated!==null){if(a===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Kt]=l}else Ks(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wt(l),E=!1}else E=xv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(xr(l),l):(xr(l),null)}return xr(l),(l.flags&128)!==0?(l.lanes=c,l):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=l.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==E&&(p.flags|=2048)),c!==a&&c&&(l.child.flags|=8192),cp(l,l.updateQueue),wt(l),null);case 4:return ae(),a===null&&V0(l.stateNode.containerInfo),wt(l),null;case 10:return Co(l.type),wt(l),null;case 19:if(ie(Bt),p=l.memoizedState,p===null)return wt(l),null;if(E=(l.flags&128)!==0,b=p.rendering,b===null)if(E)yf(p,!1);else{if(kt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(b=Xh(a),b!==null){for(l.flags|=128,yf(p,!1),a=b.updateQueue,l.updateQueue=a,cp(l,a),l.subtreeFlags=0,a=c,c=l.child;c!==null;)Lw(c,a),c=c.sibling;return he(Bt,Bt.current&1|2),tt&&wo(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&Zn()>mp&&(l.flags|=128,E=!0,yf(p,!1),l.lanes=4194304)}else{if(!E)if(a=Xh(b),a!==null){if(l.flags|=128,E=!0,a=a.updateQueue,l.updateQueue=a,cp(l,a),yf(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!tt)return wt(l),null}else 2*Zn()-p.renderingStartTime>mp&&c!==536870912&&(l.flags|=128,E=!0,yf(p,!1),l.lanes=4194304);p.isBackwards?(b.sibling=l.child,l.child=b):(a=p.last,a!==null?a.sibling=b:l.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Zn(),a.sibling=null,c=Bt.current,he(Bt,E?c&1|2:c&1),tt&&wo(l,p.treeForkCount),a):(wt(l),null);case 22:case 23:return xr(l),Fv(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(c&536870912)!==0&&(l.flags&128)===0&&(wt(l),l.subtreeFlags&6&&(l.flags|=8192)):wt(l),c=l.updateQueue,c!==null&&cp(l,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==c&&(l.flags|=2048),a!==null&&ie(Js),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Co(Jt),wt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function RF(a,l){switch(Av(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Co(Jt),ae(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(xr(l),l.alternate===null)throw Error(r(340));Ks()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(xr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ks()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ie(Bt),null;case 4:return ae(),null;case 10:return Co(l.type),null;case 22:case 23:return xr(l),Fv(),a!==null&&ie(Js),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Co(Jt),null;case 25:return null;default:return null}}function u1(a,l){switch(Av(l),l.tag){case 3:Co(Jt),ae();break;case 26:case 27:case 5:$e(l);break;case 4:ae();break;case 31:l.memoizedState!==null&&xr(l);break;case 13:xr(l);break;case 19:ie(Bt);break;case 10:Co(l.type);break;case 22:case 23:xr(l),Fv(),a!==null&&ie(Js);break;case 24:Co(Jt)}}function vf(a,l){try{var c=l.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var E=p.next;c=E;do{if((c.tag&a)===a){p=void 0;var b=c.create,C=c.inst;p=b(),C.destroy=p}c=c.next}while(c!==E)}}catch(k){dt(l,l.return,k)}}function Fa(a,l,c){try{var p=l.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var b=E.next;p=b;do{if((p.tag&a)===a){var C=p.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,E=l;var $=c,Q=k;try{Q()}catch(oe){dt(E,$,oe)}}}p=p.next}while(p!==b)}}catch(oe){dt(l,l.return,oe)}}function c1(a){var l=a.updateQueue;if(l!==null){var c=a.stateNode;try{ex(l,c)}catch(p){dt(a,a.return,p)}}}function f1(a,l,c){c.props=tl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){dt(a,l,p)}}function _f(a,l){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(E){dt(a,l,E)}}function no(a,l){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(E){dt(a,l,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(E){dt(a,l,E)}else c.current=null}function d1(a){var l=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(E){dt(a,a.return,E)}}function y0(a,l,c){try{var p=a.stateNode;XF(p,a.type,c,l),p[gn]=l}catch(E){dt(a,a.return,E)}}function h1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&$a(a.type)||a.tag===4}function v0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||h1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&$a(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _0(a,l,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(a),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=pi));else if(p!==4&&(p===27&&$a(a.type)&&(c=a.stateNode,l=null),a=a.child,a!==null))for(_0(a,l,c),a=a.sibling;a!==null;)_0(a,l,c),a=a.sibling}function fp(a,l,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(p!==4&&(p===27&&$a(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(fp(a,l,c),a=a.sibling;a!==null;)fp(a,l,c),a=a.sibling}function p1(a){var l=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Pn(l,p,c),l[Kt]=a,l[gn]=c}catch(b){dt(a,a.return,b)}}var Mo=!1,Zt=!1,E0=!1,m1=typeof WeakSet=="function"?WeakSet:Set,vn=null;function NF(a,l){if(a=a.containerInfo,B0=Mp,a=Cw(a),hv(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var E=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,k=-1,$=-1,Q=0,oe=0,le=a,ee=null;t:for(;;){for(var ne;le!==c||E!==0&&le.nodeType!==3||(k=C+E),le!==b||p!==0&&le.nodeType!==3||($=C+p),le.nodeType===3&&(C+=le.nodeValue.length),(ne=le.firstChild)!==null;)ee=le,le=ne;for(;;){if(le===a)break t;if(ee===c&&++Q===E&&(k=C),ee===b&&++oe===p&&($=C),(ne=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=ne}c=k===-1||$===-1?null:{start:k,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(q0={focusedElem:a,selectionRange:c},Mp=!1,vn=l;vn!==null;)if(l=vn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,vn=a;else for(;vn!==null;){switch(l=vn,b=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)E=a[c],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=l,E=b.memoizedProps,b=b.memoizedState,p=c.stateNode;try{var be=tl(c.type,E);a=p.getSnapshotBeforeUpdate(be,b),p.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){dt(c,c.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,c=a.nodeType,c===9)j0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":j0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,vn=a;break}vn=l.return}}function g1(a,l,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Oo(a,c),p&4&&vf(5,c);break;case 1:if(Oo(a,c),p&4)if(a=c.stateNode,l===null)try{a.componentDidMount()}catch(C){dt(c,c.return,C)}else{var E=tl(c.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(E,l,a.__reactInternalSnapshotBeforeUpdate)}catch(C){dt(c,c.return,C)}}p&64&&c1(c),p&512&&_f(c,c.return);break;case 3:if(Oo(a,c),p&64&&(a=c.updateQueue,a!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{ex(a,l)}catch(C){dt(c,c.return,C)}}break;case 27:l===null&&p&4&&p1(c);case 26:case 5:Oo(a,c),l===null&&p&4&&d1(c),p&512&&_f(c,c.return);break;case 12:Oo(a,c);break;case 31:Oo(a,c),p&4&&_1(a,c);break;case 13:Oo(a,c),p&4&&E1(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=FF.bind(null,c),oz(a,c))));break;case 22:if(p=c.memoizedState!==null||Mo,!p){l=l!==null&&l.memoizedState!==null||Zt,E=Mo;var b=Zt;Mo=p,(Zt=l)&&!b?ko(a,c,(c.subtreeFlags&8772)!==0):Oo(a,c),Mo=E,Zt=b}break;case 30:break;default:Oo(a,c)}}function y1(a){var l=a.alternate;l!==null&&(a.alternate=null,y1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ql(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Rt=null,fr=!1;function Do(a,l,c){for(c=c.child;c!==null;)v1(a,l,c),c=c.sibling}function v1(a,l,c){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(ci,c)}catch{}switch(c.tag){case 26:Zt||no(c,l),Do(a,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Zt||no(c,l);var p=Rt,E=fr;$a(c.type)&&(Rt=c.stateNode,fr=!1),Do(a,l,c),If(c.stateNode),Rt=p,fr=E;break;case 5:Zt||no(c,l);case 6:if(p=Rt,E=fr,Rt=null,Do(a,l,c),Rt=p,fr=E,Rt!==null)if(fr)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(c.stateNode)}catch(b){dt(c,l,b)}else try{Rt.removeChild(c.stateNode)}catch(b){dt(c,l,b)}break;case 18:Rt!==null&&(fr?(a=Rt,cC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),xu(a)):cC(Rt,c.stateNode));break;case 4:p=Rt,E=fr,Rt=c.stateNode.containerInfo,fr=!0,Do(a,l,c),Rt=p,fr=E;break;case 0:case 11:case 14:case 15:Fa(2,c,l),Zt||Fa(4,c,l),Do(a,l,c);break;case 1:Zt||(no(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"&&f1(c,l,p)),Do(a,l,c);break;case 21:Do(a,l,c);break;case 22:Zt=(p=Zt)||c.memoizedState!==null,Do(a,l,c),Zt=p;break;default:Do(a,l,c)}}function _1(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{xu(a)}catch(c){dt(l,l.return,c)}}}function E1(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xu(a)}catch(c){dt(l,l.return,c)}}function PF(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new m1),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new m1),l;default:throw Error(r(435,a.tag))}}function dp(a,l){var c=PF(a);l.forEach(function(p){if(!c.has(p)){c.add(p);var E=zF.bind(null,a,p);p.then(E,E)}})}function dr(a,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var E=c[p],b=a,C=l,k=C;e:for(;k!==null;){switch(k.tag){case 27:if($a(k.type)){Rt=k.stateNode,fr=!1;break e}break;case 5:Rt=k.stateNode,fr=!1;break e;case 3:case 4:Rt=k.stateNode.containerInfo,fr=!0;break e}k=k.return}if(Rt===null)throw Error(r(160));v1(b,C,E),Rt=null,fr=!1,b=E.alternate,b!==null&&(b.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)T1(l,a),l=l.sibling}var Ei=null;function T1(a,l){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dr(l,a),hr(a),p&4&&(Fa(3,a,a.return),vf(3,a),Fa(5,a,a.return));break;case 1:dr(l,a),hr(a),p&512&&(Zt||c===null||no(c,c.return)),p&64&&Mo&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var E=Ei;if(dr(l,a),hr(a),p&512&&(Zt||c===null||no(c,c.return)),p&4){var b=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":b=E.getElementsByTagName("title")[0],(!b||b[qi]||b[Kt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=E.createElement(p),E.head.insertBefore(b,E.querySelector("head > title"))),Pn(b,p,c),b[Kt]=a,Yt(b),p=b;break e;case"link":var C=TC("link","href",E).get(p+(c.href||""));if(C){for(var k=0;k<C.length;k++)if(b=C[k],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(k,1);break t}}b=E.createElement(p),Pn(b,p,c),E.head.appendChild(b);break;case"meta":if(C=TC("meta","content",E).get(p+(c.content||""))){for(k=0;k<C.length;k++)if(b=C[k],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(k,1);break t}}b=E.createElement(p),Pn(b,p,c),E.head.appendChild(b);break;default:throw Error(r(468,p))}b[Kt]=a,Yt(b),p=b}a.stateNode=p}else bC(E,a.type,a.stateNode);else a.stateNode=EC(E,p,a.memoizedProps);else b!==p?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,p===null?bC(E,a.type,a.stateNode):EC(E,p,a.memoizedProps)):p===null&&a.stateNode!==null&&y0(a,a.memoizedProps,c.memoizedProps)}break;case 27:dr(l,a),hr(a),p&512&&(Zt||c===null||no(c,c.return)),c!==null&&p&4&&y0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(dr(l,a),hr(a),p&512&&(Zt||c===null||no(c,c.return)),a.flags&32){E=a.stateNode;try{cr(E,"")}catch(be){dt(a,a.return,be)}}p&4&&a.stateNode!=null&&(E=a.memoizedProps,y0(a,E,c!==null?c.memoizedProps:E)),p&1024&&(E0=!0);break;case 6:if(dr(l,a),hr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(be){dt(a,a.return,be)}}break;case 3:if(Ip=null,E=Ei,Ei=xp(l.containerInfo),dr(l,a),Ei=E,hr(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{xu(l.containerInfo)}catch(be){dt(a,a.return,be)}E0&&(E0=!1,b1(a));break;case 4:p=Ei,Ei=xp(a.stateNode.containerInfo),dr(l,a),hr(a),Ei=p;break;case 12:dr(l,a),hr(a);break;case 31:dr(l,a),hr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,dp(a,p)));break;case 13:dr(l,a),hr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(pp=Zn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,dp(a,p)));break;case 22:E=a.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,Q=Mo,oe=Zt;if(Mo=Q||E,Zt=oe||$,dr(l,a),Zt=oe,Mo=Q,hr(a),p&8192)e:for(l=a.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(c===null||$||Mo||Zt||nl(a)),c=null,l=a;;){if(l.tag===5||l.tag===26){if(c===null){$=c=l;try{if(b=$.stateNode,E)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=$.stateNode;var le=$.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(be){dt($,$.return,be)}}}else if(l.tag===6){if(c===null){$=l;try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(be){dt($,$.return,be)}}}else if(l.tag===18){if(c===null){$=l;try{var ne=$.stateNode;E?fC(ne,!0):fC($.stateNode,!1)}catch(be){dt($,$.return,be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,dp(a,c))));break;case 19:dr(l,a),hr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,dp(a,p)));break;case 30:break;case 21:break;default:dr(l,a),hr(a)}}function hr(a){var l=a.flags;if(l&2){try{for(var c,p=a.return;p!==null;){if(h1(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var E=c.stateNode,b=v0(a);fp(a,b,E);break;case 5:var C=c.stateNode;c.flags&32&&(cr(C,""),c.flags&=-33);var k=v0(a);fp(a,k,C);break;case 3:case 4:var $=c.stateNode.containerInfo,Q=v0(a);_0(a,Q,$);break;default:throw Error(r(161))}}catch(oe){dt(a,a.return,oe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function b1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;b1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Oo(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)g1(a,l.alternate,l),l=l.sibling}function nl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Fa(4,l,l.return),nl(l);break;case 1:no(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&f1(l,l.return,c),nl(l);break;case 27:If(l.stateNode);case 26:case 5:no(l,l.return),nl(l);break;case 22:l.memoizedState===null&&nl(l);break;case 30:nl(l);break;default:nl(l)}a=a.sibling}}function ko(a,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,E=a,b=l,C=b.flags;switch(b.tag){case 0:case 11:case 15:ko(E,b,c),vf(4,b);break;case 1:if(ko(E,b,c),p=b,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Q){dt(p,p.return,Q)}if(p=b,E=p.updateQueue,E!==null){var k=p.stateNode;try{var $=E.shared.hiddenCallbacks;if($!==null)for(E.shared.hiddenCallbacks=null,E=0;E<$.length;E++)Zw($[E],k)}catch(Q){dt(p,p.return,Q)}}c&&C&64&&c1(b),_f(b,b.return);break;case 27:p1(b);case 26:case 5:ko(E,b,c),c&&p===null&&C&4&&d1(b),_f(b,b.return);break;case 12:ko(E,b,c);break;case 31:ko(E,b,c),c&&C&4&&_1(E,b);break;case 13:ko(E,b,c),c&&C&4&&E1(E,b);break;case 22:b.memoizedState===null&&ko(E,b,c),_f(b,b.return);break;case 30:break;default:ko(E,b,c)}l=l.sibling}}function T0(a,l){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&of(c))}function b0(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&of(a))}function Ti(a,l,c,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)S1(a,l,c,p),l=l.sibling}function S1(a,l,c,p){var E=l.flags;switch(l.tag){case 0:case 11:case 15:Ti(a,l,c,p),E&2048&&vf(9,l);break;case 1:Ti(a,l,c,p);break;case 3:Ti(a,l,c,p),E&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&of(a)));break;case 12:if(E&2048){Ti(a,l,c,p),a=l.stateNode;try{var b=l.memoizedProps,C=b.id,k=b.onPostCommit;typeof k=="function"&&k(C,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){dt(l,l.return,$)}}else Ti(a,l,c,p);break;case 31:Ti(a,l,c,p);break;case 13:Ti(a,l,c,p);break;case 23:break;case 22:b=l.stateNode,C=l.alternate,l.memoizedState!==null?b._visibility&2?Ti(a,l,c,p):Ef(a,l):b._visibility&2?Ti(a,l,c,p):(b._visibility|=2,mu(a,l,c,p,(l.subtreeFlags&10256)!==0||!1)),E&2048&&T0(C,l);break;case 24:Ti(a,l,c,p),E&2048&&b0(l.alternate,l);break;default:Ti(a,l,c,p)}}function mu(a,l,c,p,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=a,C=l,k=c,$=p,Q=C.flags;switch(C.tag){case 0:case 11:case 15:mu(b,C,k,$,E),vf(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?mu(b,C,k,$,E):Ef(b,C):(oe._visibility|=2,mu(b,C,k,$,E)),E&&Q&2048&&T0(C.alternate,C);break;case 24:mu(b,C,k,$,E),E&&Q&2048&&b0(C.alternate,C);break;default:mu(b,C,k,$,E)}l=l.sibling}}function Ef(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=a,p=l,E=p.flags;switch(p.tag){case 22:Ef(c,p),E&2048&&T0(p.alternate,p);break;case 24:Ef(c,p),E&2048&&b0(p.alternate,p);break;default:Ef(c,p)}l=l.sibling}}var Tf=8192;function gu(a,l,c){if(a.subtreeFlags&Tf)for(a=a.child;a!==null;)A1(a,l,c),a=a.sibling}function A1(a,l,c){switch(a.tag){case 26:gu(a,l,c),a.flags&Tf&&a.memoizedState!==null&&yz(c,Ei,a.memoizedState,a.memoizedProps);break;case 5:gu(a,l,c);break;case 3:case 4:var p=Ei;Ei=xp(a.stateNode.containerInfo),gu(a,l,c),Ei=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Tf,Tf=16777216,gu(a,l,c),Tf=p):gu(a,l,c));break;default:gu(a,l,c)}}function w1(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function bf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];vn=p,C1(p,a)}w1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)x1(a),a=a.sibling}function x1(a){switch(a.tag){case 0:case 11:case 15:bf(a),a.flags&2048&&Fa(9,a,a.return);break;case 3:bf(a);break;case 12:bf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,hp(a)):bf(a);break;default:bf(a)}}function hp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];vn=p,C1(p,a)}w1(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Fa(8,l,l.return),hp(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,hp(l));break;default:hp(l)}a=a.sibling}}function C1(a,l){for(;vn!==null;){var c=vn;switch(c.tag){case 0:case 11:case 15:Fa(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:of(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,vn=p;else e:for(c=a;vn!==null;){p=vn;var E=p.sibling,b=p.return;if(y1(p),p===c){vn=null;break e}if(E!==null){E.return=b,vn=E;break e}vn=b}}}var MF={getCacheForType:function(a){var l=Rn(Jt),c=l.data.get(a);return c===void 0&&(c=a(),l.data.set(a,c)),c},cacheSignal:function(){return Rn(Jt).controller.signal}},DF=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,Ye=null,Je=0,ft=0,Cr=null,za=!1,yu=!1,S0=!1,Lo=0,kt=0,Ba=0,rl=0,A0=0,Ir=0,vu=0,Sf=null,pr=null,w0=!1,pp=0,I1=0,mp=1/0,gp=null,qa=null,ln=0,Ha=null,_u=null,Uo=0,x0=0,C0=null,R1=null,Af=0,I0=null;function Rr(){return(lt&2)!==0&&Je!==0?Je&-Je:Z.T!==null?O0():yh()}function N1(){if(Ir===0)if((Je&536870912)===0||tt){var a=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),Ir=a}else Ir=536870912;return a=wr.current,a!==null&&(a.flags|=32),Ir}function mr(a,l,c){(a===_t&&(ft===2||ft===9)||a.cancelPendingCommit!==null)&&(Eu(a,0),Ga(a,Je,Ir,!1)),Ps(a,c),((lt&2)===0||a!==_t)&&(a===_t&&((lt&2)===0&&(rl|=c),kt===4&&Ga(a,Je,Ir,!1)),ro(a))}function P1(a,l,c){if((lt&6)!==0)throw Error(r(327));var p=!c&&(l&127)===0&&(l&a.expiredLanes)===0||fi(a,l),E=p?LF(a,l):N0(a,l,!0),b=p;do{if(E===0){yu&&!p&&Ga(a,l,0,!1);break}else{if(c=a.current.alternate,b&&!OF(c)){E=N0(a,l,!1),b=!1;continue}if(E===2){if(b=l,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var k=a;E=Sf;var $=k.current.memoizedState.isDehydrated;if($&&(Eu(k,C).flags|=256),C=N0(k,C,!1),C!==2){if(S0&&!$){k.errorRecoveryDisabledLanes|=b,rl|=b,E=4;break e}b=pr,pr=E,b!==null&&(pr===null?pr=b:pr.push.apply(pr,b))}E=C}if(b=!1,E!==2)continue}}if(E===1){Eu(a,0),Ga(a,l,0,!0);break}e:{switch(p=a,b=E,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ga(p,l,Ir,!za);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=pp+300-Zn(),10<E)){if(Ga(p,l,Ir,!za),Fi(p,0,!0)!==0)break e;Uo=l,p.timeoutHandle=lC(M1.bind(null,p,c,pr,gp,w0,l,Ir,rl,vu,za,b,"Throttled",-0,0),E);break e}M1(p,c,pr,gp,w0,l,Ir,rl,vu,za,b,null,-0,0)}}break}while(!0);ro(a)}function M1(a,l,c,p,E,b,C,k,$,Q,oe,le,ee,ne){if(a.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},A1(l,b,le);var be=(b&62914560)===b?pp-Zn():(b&4194048)===b?I1-Zn():0;if(be=vz(le,be),be!==null){Uo=b,a.cancelPendingCommit=be(z1.bind(null,a,l,b,c,p,E,C,k,$,oe,le,null,ee,ne)),Ga(a,b,C,!Q);return}}z1(a,l,b,c,p,E,C,k,$)}function OF(a){for(var l=a;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var E=c[p],b=E.getSnapshot;E=E.value;try{if(!Sr(b(),E))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ga(a,l,c,p){l&=~A0,l&=~rl,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var E=l;0<E;){var b=31-Ft(E),C=1<<b;p[b]=-1,E&=~C}c!==0&&Ms(a,c,l)}function yp(){return(lt&6)===0?(wf(0),!1):!0}function R0(){if(Ye!==null){if(ft===0)var a=Ye.return;else a=Ye,xo=Ys=null,jv(a),cu=null,sf=0,a=Ye;for(;a!==null;)u1(a.alternate,a),a=a.return;Ye=null}}function Eu(a,l){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,ez(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Uo=0,R0(),_t=a,Ye=c=Ao(a.current,null),Je=l,ft=0,Cr=null,za=!1,yu=fi(a,l),S0=!1,vu=Ir=A0=rl=Ba=kt=0,pr=Sf=null,w0=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var E=31-Ft(p),b=1<<E;l|=a[E],p&=~b}return Lo=l,Vh(),c}function D1(a,l){He=null,Z.H=mf,l===uu||l===$h?(l=Ww(),ft=3):l===Dv?(l=Ww(),ft=4):ft=l===s0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Cr=l,Ye===null&&(kt=1,ap(a,jr(l,a.current)))}function O1(){var a=wr.current;return a===null?!0:(Je&4194048)===Je?Wr===null:(Je&62914560)===Je||(Je&536870912)!==0?a===Wr:!1}function k1(){var a=Z.H;return Z.H=mf,a===null?mf:a}function L1(){var a=Z.A;return Z.A=MF,a}function vp(){kt=4,za||(Je&4194048)!==Je&&wr.current!==null||(yu=!0),(Ba&134217727)===0&&(rl&134217727)===0||_t===null||Ga(_t,Je,Ir,!1)}function N0(a,l,c){var p=lt;lt|=2;var E=k1(),b=L1();(_t!==a||Je!==l)&&(gp=null,Eu(a,l)),l=!1;var C=kt;e:do try{if(ft!==0&&Ye!==null){var k=Ye,$=Cr;switch(ft){case 8:R0(),C=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(l=!0);var Q=ft;if(ft=0,Cr=null,Tu(a,k,$,Q),c&&yu){C=0;break e}break;default:Q=ft,ft=0,Cr=null,Tu(a,k,$,Q)}}kF(),C=kt;break}catch(oe){D1(a,oe)}while(!0);return l&&a.shellSuspendCounter++,xo=Ys=null,lt=p,Z.H=E,Z.A=b,Ye===null&&(_t=null,Je=0,Vh()),C}function kF(){for(;Ye!==null;)U1(Ye)}function LF(a,l){var c=lt;lt|=2;var p=k1(),E=L1();_t!==a||Je!==l?(gp=null,mp=Zn()+500,Eu(a,l)):yu=fi(a,l);e:do try{if(ft!==0&&Ye!==null){l=Ye;var b=Cr;t:switch(ft){case 1:ft=0,Cr=null,Tu(a,l,b,1);break;case 2:case 9:if(Kw(b)){ft=0,Cr=null,V1(l);break}l=function(){ft!==2&&ft!==9||_t!==a||(ft=7),ro(a)},b.then(l,l);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Kw(b)?(ft=0,Cr=null,V1(l)):(ft=0,Cr=null,Tu(a,l,b,7));break;case 5:var C=null;switch(Ye.tag){case 26:C=Ye.memoizedState;case 5:case 27:var k=Ye;if(C?SC(C):k.stateNode.complete){ft=0,Cr=null;var $=k.sibling;if($!==null)Ye=$;else{var Q=k.return;Q!==null?(Ye=Q,_p(Q)):Ye=null}break t}}ft=0,Cr=null,Tu(a,l,b,5);break;case 6:ft=0,Cr=null,Tu(a,l,b,6);break;case 8:R0(),kt=6;break e;default:throw Error(r(462))}}UF();break}catch(oe){D1(a,oe)}while(!0);return xo=Ys=null,Z.H=p,Z.A=E,lt=c,Ye!==null?0:(_t=null,Je=0,Vh(),kt)}function UF(){for(;Ye!==null&&!av();)U1(Ye)}function U1(a){var l=s1(a.alternate,a,Lo);a.memoizedProps=a.pendingProps,l===null?_p(a):Ye=l}function V1(a){var l=a,c=l.alternate;switch(l.tag){case 15:case 0:l=t1(c,l,l.pendingProps,l.type,void 0,Je);break;case 11:l=t1(c,l,l.pendingProps,l.type.render,l.ref,Je);break;case 5:jv(l);default:u1(c,l),l=Ye=Lw(l,Lo),l=s1(c,l,Lo)}a.memoizedProps=a.pendingProps,l===null?_p(a):Ye=l}function Tu(a,l,c,p){xo=Ys=null,jv(l),cu=null,sf=0;var E=l.return;try{if(wF(a,E,l,c,Je)){kt=1,ap(a,jr(c,a.current)),Ye=null;return}}catch(b){if(E!==null)throw Ye=E,b;kt=1,ap(a,jr(c,a.current)),Ye=null;return}l.flags&32768?(tt||p===1?a=!0:yu||(Je&536870912)!==0?a=!1:(za=a=!0,(p===2||p===9||p===3||p===6)&&(p=wr.current,p!==null&&p.tag===13&&(p.flags|=16384))),F1(l,a)):_p(l)}function _p(a){var l=a;do{if((l.flags&32768)!==0){F1(l,za);return}a=l.return;var c=IF(l.alternate,l,Lo);if(c!==null){Ye=c;return}if(l=l.sibling,l!==null){Ye=l;return}Ye=l=a}while(l!==null);kt===0&&(kt=5)}function F1(a,l){do{var c=RF(a.alternate,a);if(c!==null){c.flags&=32767,Ye=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=c}while(a!==null);kt=6,Ye=null}function z1(a,l,c,p,E,b,C,k,$){a.cancelPendingCommit=null;do Ep();while(ln!==0);if((lt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=vv,uv(a,c,b,C,k,$),a===_t&&(Ye=_t=null,Je=0),_u=l,Ha=a,Uo=c,x0=b,C0=E,R1=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,BF(Ea,function(){return j1(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null,E=fe.p,fe.p=2,C=lt,lt|=4;try{NF(a,l,c)}finally{lt=C,fe.p=E,Z.T=p}}ln=1,B1(),q1(),H1()}}function B1(){if(ln===1){ln=0;var a=Ha,l=_u,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var p=fe.p;fe.p=2;var E=lt;lt|=4;try{T1(l,a);var b=q0,C=Cw(a.containerInfo),k=b.focusedElem,$=b.selectionRange;if(C!==k&&k&&k.ownerDocument&&xw(k.ownerDocument.documentElement,k)){if($!==null&&hv(k)){var Q=$.start,oe=$.end;if(oe===void 0&&(oe=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(oe,k.value.length);else{var le=k.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),be=k.textContent.length,Pe=Math.min($.start,be),yt=$.end===void 0?Pe:Math.min($.end,be);!ne.extend&&Pe>yt&&(C=yt,yt=Pe,Pe=C);var W=ww(k,Pe),Y=ww(k,yt);if(W&&Y&&(ne.rangeCount!==1||ne.anchorNode!==W.node||ne.anchorOffset!==W.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var X=le.createRange();X.setStart(W.node,W.offset),ne.removeAllRanges(),Pe>yt?(ne.addRange(X),ne.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),ne.addRange(X))}}}}for(le=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var se=le[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Mp=!!B0,q0=B0=null}finally{lt=E,fe.p=p,Z.T=c}}a.current=l,ln=2}}function q1(){if(ln===2){ln=0;var a=Ha,l=_u,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var p=fe.p;fe.p=2;var E=lt;lt|=4;try{g1(a,l.alternate,l)}finally{lt=E,fe.p=p,Z.T=c}}ln=3}}function H1(){if(ln===4||ln===3){ln=0,ch();var a=Ha,l=_u,c=Uo,p=R1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ln=5:(ln=0,_u=Ha=null,G1(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(qa=null),Eo(c),l=l.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(ci,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=Z.T,E=fe.p,fe.p=2,Z.T=null;try{for(var b=a.onRecoverableError,C=0;C<p.length;C++){var k=p[C];b(k.value,{componentStack:k.stack})}}finally{Z.T=l,fe.p=E}}(Uo&3)!==0&&Ep(),ro(a),E=a.pendingLanes,(c&261930)!==0&&(E&42)!==0?a===I0?Af++:(Af=0,I0=a):Af=0,wf(0)}}function G1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,of(l)))}function Ep(){return B1(),q1(),H1(),j1()}function j1(){if(ln!==5)return!1;var a=Ha,l=x0;x0=0;var c=Eo(Uo),p=Z.T,E=fe.p;try{fe.p=32>c?32:c,Z.T=null,c=C0,C0=null;var b=Ha,C=Uo;if(ln=0,_u=Ha=null,Uo=0,(lt&6)!==0)throw Error(r(331));var k=lt;if(lt|=4,x1(b.current),S1(b,b.current,C,c),lt=k,wf(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(ci,b)}catch{}return!0}finally{fe.p=E,Z.T=p,G1(a,l)}}function $1(a,l,c){l=jr(c,l),l=a0(a.stateNode,l,2),a=La(a,l,2),a!==null&&(Ps(a,2),ro(a))}function dt(a,l,c){if(a.tag===3)$1(a,a,c);else for(;l!==null;){if(l.tag===3){$1(l,a,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qa===null||!qa.has(p))){a=jr(c,a),c=Kx(2),p=La(l,c,2),p!==null&&(Yx(c,p,l,a),Ps(p,2),ro(p));break}}l=l.return}}function P0(a,l,c){var p=a.pingCache;if(p===null){p=a.pingCache=new DF;var E=new Set;p.set(l,E)}else E=p.get(l),E===void 0&&(E=new Set,p.set(l,E));E.has(c)||(S0=!0,E.add(c),a=VF.bind(null,a,l,c),l.then(a,a))}function VF(a,l,c){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,_t===a&&(Je&c)===c&&(kt===4||kt===3&&(Je&62914560)===Je&&300>Zn()-pp?(lt&2)===0&&Eu(a,0):A0|=c,vu===Je&&(vu=0)),ro(a)}function K1(a,l){l===0&&(l=gh()),a=js(a,l),a!==null&&(Ps(a,l),ro(a))}function FF(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),K1(a,c)}function zF(a,l){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,E=a.memoizedState;E!==null&&(c=E.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),K1(a,c)}function BF(a,l){return sn(a,l)}var Tp=null,bu=null,M0=!1,bp=!1,D0=!1,ja=0;function ro(a){a!==bu&&a.next===null&&(bu===null?Tp=bu=a:bu=bu.next=a),bp=!0,M0||(M0=!0,HF())}function wf(a,l){if(!D0&&bp){D0=!0;do for(var c=!1,p=Tp;p!==null;){if(a!==0){var E=p.pendingLanes;if(E===0)var b=0;else{var C=p.suspendedLanes,k=p.pingedLanes;b=(1<<31-Ft(42|a)+1)-1,b&=E&~(C&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,X1(p,b))}else b=Je,b=Fi(p,p===_t?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||fi(p,b)||(c=!0,X1(p,b));p=p.next}while(c);D0=!1}}function qF(){Y1()}function Y1(){bp=M0=!1;var a=0;ja!==0&&ZF()&&(a=ja);for(var l=Zn(),c=null,p=Tp;p!==null;){var E=p.next,b=W1(p,l);b===0?(p.next=null,c===null?Tp=E:c.next=E,E===null&&(bu=c)):(c=p,(a!==0||(b&3)!==0)&&(bp=!0)),p=E}ln!==0&&ln!==5||wf(a),ja!==0&&(ja=0)}function W1(a,l){for(var c=a.suspendedLanes,p=a.pingedLanes,E=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-Ft(b),k=1<<C,$=E[C];$===-1?((k&c)===0||(k&p)!==0)&&(E[C]=lv(k,l)):$<=l&&(a.expiredLanes|=k),b&=~k}if(l=_t,c=Je,c=Fi(a,a===l?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===l&&(ft===2||ft===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&_a(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||fi(a,c)){if(l=c&-c,l===a.callbackPriority)return l;switch(p!==null&&_a(p),Eo(c)){case 2:case 8:c=Oc;break;case 32:c=Ea;break;case 268435456:c=fh;break;default:c=Ea}return p=J1.bind(null,a),c=sn(c,p),a.callbackPriority=l,a.callbackNode=c,l}return p!==null&&p!==null&&_a(p),a.callbackPriority=2,a.callbackNode=null,2}function J1(a,l){if(ln!==0&&ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Ep()&&a.callbackNode!==c)return null;var p=Je;return p=Fi(a,a===_t?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(P1(a,p,l),W1(a,Zn()),a.callbackNode!=null&&a.callbackNode===c?J1.bind(null,a):null)}function X1(a,l){if(Ep())return null;P1(a,l,!0)}function HF(){tz(function(){(lt&6)!==0?sn(Dc,qF):Y1()})}function O0(){if(ja===0){var a=su;a===0&&(a=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),ja=a}return ja}function Q1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$l(""+a)}function Z1(a,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,a.id&&c.setAttribute("form",a.id),l.parentNode.insertBefore(c,l),a=new FormData(a),c.parentNode.removeChild(c),a}function GF(a,l,c,p,E){if(l==="submit"&&c&&c.stateNode===E){var b=Q1((E[gn]||null).action),C=p.submitter;C&&(l=(l=C[gn]||null)?Q1(l.formAction):C.getAttribute("formAction"),l!==null&&(b=l,C=null));var k=new Ji("action","action",null,p,E);a.push({event:k,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ja!==0){var $=C?Z1(E,C):new FormData(E);e0(c,{pending:!0,data:$,method:E.method,action:b},null,$)}}else typeof b=="function"&&(k.preventDefault(),$=C?Z1(E,C):new FormData(E),e0(c,{pending:!0,data:$,method:E.method,action:b},b,$))},currentTarget:E}]})}}for(var k0=0;k0<yv.length;k0++){var L0=yv[k0],jF=L0.toLowerCase(),$F=L0[0].toUpperCase()+L0.slice(1);_i(jF,"on"+$F)}_i(Nw,"onAnimationEnd"),_i(Pw,"onAnimationIteration"),_i(Mw,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(lF,"onTransitionRun"),_i(uF,"onTransitionStart"),_i(cF,"onTransitionCancel"),_i(Dw,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function eC(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],E=p.event;p=p.listeners;e:{var b=void 0;if(l)for(var C=p.length-1;0<=C;C--){var k=p[C],$=k.instance,Q=k.currentTarget;if(k=k.listener,$!==b&&E.isPropagationStopped())break e;b=k,E.currentTarget=Q;try{b(E)}catch(oe){Uh(oe)}E.currentTarget=null,b=$}else for(C=0;C<p.length;C++){if(k=p[C],$=k.instance,Q=k.currentTarget,k=k.listener,$!==b&&E.isPropagationStopped())break e;b=k,E.currentTarget=Q;try{b(E)}catch(oe){Uh(oe)}E.currentTarget=null,b=$}}}}function We(a,l){var c=l[Bl];c===void 0&&(c=l[Bl]=new Set);var p=a+"__bubble";c.has(p)||(tC(l,a,2,!1),c.add(p))}function U0(a,l,c){var p=0;l&&(p|=4),tC(c,a,p,l)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function V0(a){if(!a[Sp]){a[Sp]=!0,Uc.forEach(function(c){c!=="selectionchange"&&(KF.has(c)||U0(c,!1,a),U0(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Sp]||(l[Sp]=!0,U0("selectionchange",!1,l))}}function tC(a,l,c,p){switch(NC(l)){case 2:var E=Tz;break;case 8:E=bz;break;default:E=Z0}c=E.bind(null,l,c,a),E=void 0,!Us||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),p?E!==void 0?a.addEventListener(l,c,{capture:!0,passive:E}):a.addEventListener(l,c,!0):E!==void 0?a.addEventListener(l,c,{passive:E}):a.addEventListener(l,c,!1)}function F0(a,l,c,p,E){var b=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var k=p.stateNode.containerInfo;if(k===E)break;if(C===4)for(C=p.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===E)return;C=C.return}for(;k!==null;){if(C=Hi(k),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){p=b=C;continue e}k=k.parentNode}}p=p.return}xa(function(){var Q=b,oe=Br(c),le=[];e:{var ee=Ow.get(a);if(ee!==void 0){var ne=Ji,be=a;switch(a){case"keypress":if(Fs(c)===0)break e;case"keydown":case"keyup":ne=Oh;break;case"focusin":be="focus",ne=Bs;break;case"focusout":be="blur",ne=Bs;break;case"beforeblur":case"afterblur":ne=Bs;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=w;break;case Nw:case Pw:case Mw:ne=Ch;break;case Dw:ne=U;break;case"scroll":case"scrollend":ne=Wc;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=So;break;case"toggle":case"beforetoggle":ne=qe}var Pe=(l&4)!==0,yt=!Pe&&(a==="scroll"||a==="scrollend"),W=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var Y=Q,X;Y!==null;){var se=Y;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||W===null||(se=mi(Y,W),se!=null&&Pe.push(Cf(Y,se,X))),yt)break;Y=Y.return}0<Pe.length&&(ee=new ne(ee,be,null,c,oe),le.push({event:ee,listeners:Pe}))}}if((l&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",ee&&c!==$c&&(be=c.relatedTarget||c.fromElement)&&(Hi(be)||be[Bi]))break e;if((ne||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(be=c.relatedTarget||c.toElement,ne=Q,be=be?Hi(be):null,be!==null&&(yt=o(be),Pe=be.tag,be!==yt||Pe!==5&&Pe!==27&&Pe!==6)&&(be=null)):(ne=null,be=Q),ne!==be)){if(Pe=Jc,se="onMouseLeave",W="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=So,se="onPointerLeave",W="onPointerEnter",Y="pointer"),yt=ne==null?ee:Tr(ne),X=be==null?ee:Tr(be),ee=new Pe(se,Y+"leave",ne,c,oe),ee.target=yt,ee.relatedTarget=X,se=null,Hi(oe)===Q&&(Pe=new Pe(W,Y+"enter",be,c,oe),Pe.target=X,Pe.relatedTarget=yt,se=Pe),yt=se,ne&&be)t:{for(Pe=YF,W=ne,Y=be,X=0,se=W;se;se=Pe(se))X++;se=0;for(var Ce=Y;Ce;Ce=Pe(Ce))se++;for(;0<X-se;)W=Pe(W),X--;for(;0<se-X;)Y=Pe(Y),se--;for(;X--;){if(W===Y||Y!==null&&W===Y.alternate){Pe=W;break t}W=Pe(W),Y=Pe(Y)}Pe=null}else Pe=null;ne!==null&&nC(le,ee,ne,Pe,!1),be!==null&&yt!==null&&nC(le,yt,be,Pe,!0)}}e:{if(ee=Q?Tr(Q):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var rt=_w;else if(yw(ee))if(Ew)rt=oF;else{rt=rF;var Ae=nF}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&jl(Q.elementType)&&(rt=_w):rt=iF;if(rt&&(rt=rt(a,Q))){vw(le,rt,c,oe);break e}Ae&&Ae(a,ee,Q),a==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&Hc(ee,"number",ee.value)}switch(Ae=Q?Tr(Q):window,a){case"focusin":(yw(Ae)||Ae.contentEditable==="true")&&(Zl=Ae,pv=Q,tf=null);break;case"focusout":tf=pv=Zl=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,Iw(le,c,oe);break;case"selectionchange":if(sF)break;case"keydown":case"keyup":Iw(le,c,oe)}var Ge;if(st)e:{switch(a){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ql?qs(a,c)&&(Xe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Xe="onCompositionStart");Xe&&(Zi&&c.locale!=="ko"&&(Ql||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ql&&(Ge=Yc()):(Wi=oe,Kc="value"in Wi?Wi.value:Wi.textContent,Ql=!0)),Ae=Ap(Q,Xe),0<Ae.length&&(Xe=new Qi(Xe,a,null,c,oe),le.push({event:Xe,listeners:Ae}),Ge?Xe.data=Ge:(Ge=Xl(c),Ge!==null&&(Xe.data=Ge)))),(Ge=Hr?Q6(a,c):Z6(a,c))&&(Xe=Ap(Q,"onBeforeInput"),0<Xe.length&&(Ae=new Qi("onBeforeInput","beforeinput",null,c,oe),le.push({event:Ae,listeners:Xe}),Ae.data=Ge)),GF(le,a,Q,c,oe)}eC(le,l)})}function Cf(a,l,c){return{instance:a,listener:l,currentTarget:c}}function Ap(a,l){for(var c=l+"Capture",p=[];a!==null;){var E=a,b=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||b===null||(E=mi(a,c),E!=null&&p.unshift(Cf(a,E,b)),E=mi(a,l),E!=null&&p.push(Cf(a,E,b))),a.tag===3)return p;a=a.return}return[]}function YF(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nC(a,l,c,p,E){for(var b=l._reactName,C=[];c!==null&&c!==p;){var k=c,$=k.alternate,Q=k.stateNode;if(k=k.tag,$!==null&&$===p)break;k!==5&&k!==26&&k!==27||Q===null||($=Q,E?(Q=mi(c,b),Q!=null&&C.unshift(Cf(c,Q,$))):E||(Q=mi(c,b),Q!=null&&C.push(Cf(c,Q,$)))),c=c.return}C.length!==0&&a.push({event:l,listeners:C})}var WF=/\r\n?/g,JF=/\u0000|\uFFFD/g;function rC(a){return(typeof a=="string"?a:""+a).replace(WF,`
`).replace(JF,"")}function iC(a,l){return l=rC(l),rC(a)===l}function gt(a,l,c,p,E,b){switch(c){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||cr(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&cr(a,""+p);break;case"className":br(a,"class",p);break;case"tabIndex":br(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":br(a,c,p);break;case"style":jc(a,p,b);break;case"data":if(l!=="object"){br(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=$l(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(l!=="input"&&gt(a,l,"name",E.name,E,null),gt(a,l,"formEncType",E.formEncType,E,null),gt(a,l,"formMethod",E.formMethod,E,null),gt(a,l,"formTarget",E.formTarget,E,null)):(gt(a,l,"encType",E.encType,E,null),gt(a,l,"method",E.method,E,null),gt(a,l,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=$l(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=pi);break;case"onScroll":p!=null&&We("scroll",a);break;case"onScrollEnd":p!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=$l(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":We("beforetoggle",a),We("toggle",a),Hl(a,"popover",p);break;case"xlinkActuate":Wt(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Wt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Wt(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Wt(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Wt(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Wt(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Wt(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Wt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Wt(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Hl(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ah.get(c)||c,Hl(a,c,p))}}function z0(a,l,c,p,E,b){switch(c){case"style":jc(a,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?cr(a,p):(typeof p=="number"||typeof p=="bigint")&&cr(a,""+p);break;case"onScroll":p!=null&&We("scroll",a);break;case"onScrollEnd":p!=null&&We("scrollend",a);break;case"onClick":p!=null&&(a.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(E=c.endsWith("Capture"),l=c.slice(2,E?c.length-7:void 0),b=a[gn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(l,b,E),typeof p=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(l,p,E);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):Hl(a,c,p)}}}function Pn(a,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var p=!1,E=!1,b;for(b in c)if(c.hasOwnProperty(b)){var C=c[b];if(C!=null)switch(b){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(a,l,b,C,c,null)}}E&&gt(a,l,"srcSet",c.srcSet,c,null),p&&gt(a,l,"src",c.src,c,null);return;case"input":We("invalid",a);var k=b=C=E=null,$=null,Q=null;for(p in c)if(c.hasOwnProperty(p)){var oe=c[p];if(oe!=null)switch(p){case"name":E=oe;break;case"type":C=oe;break;case"checked":$=oe;break;case"defaultChecked":Q=oe;break;case"value":b=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:gt(a,l,p,oe,c,null)}}Th(a,b,k,$,Q,C,E,!1);return;case"select":We("invalid",a),p=C=b=null;for(E in c)if(c.hasOwnProperty(E)&&(k=c[E],k!=null))switch(E){case"value":b=k;break;case"defaultValue":C=k;break;case"multiple":p=k;default:gt(a,l,E,k,c,null)}l=b,c=C,a.multiple=!!p,l!=null?ba(a,!!p,l,!1):c!=null&&ba(a,!!p,c,!0);return;case"textarea":We("invalid",a),b=E=p=null;for(C in c)if(c.hasOwnProperty(C)&&(k=c[C],k!=null))switch(C){case"value":p=k;break;case"defaultValue":E=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:gt(a,l,C,k,c,null)}Sa(a,p,E,b);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(p=c[$],p!=null))switch($){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:gt(a,l,$,p,c,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(p=0;p<xf.length;p++)We(xf[p],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(p=c[Q],p!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(a,l,Q,p,c,null)}return;default:if(jl(l)){for(oe in c)c.hasOwnProperty(oe)&&(p=c[oe],p!==void 0&&z0(a,l,oe,p,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(p=c[k],p!=null&&gt(a,l,k,p,c,null))}function XF(a,l,c,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,b=null,C=null,k=null,$=null,Q=null,oe=null;for(ne in c){var le=c[ne];if(c.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=le;default:p.hasOwnProperty(ne)||gt(a,l,ne,null,p,le)}}for(var ee in p){var ne=p[ee];if(le=c[ee],p.hasOwnProperty(ee)&&(ne!=null||le!=null))switch(ee){case"type":b=ne;break;case"name":E=ne;break;case"checked":Q=ne;break;case"defaultChecked":oe=ne;break;case"value":C=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==le&&gt(a,l,ee,ne,p,le)}}Gl(a,C,k,$,Q,oe,b,E);return;case"select":ne=C=k=ee=null;for(b in c)if($=c[b],c.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":ne=$;default:p.hasOwnProperty(b)||gt(a,l,b,null,p,$)}for(E in p)if(b=p[E],$=c[E],p.hasOwnProperty(E)&&(b!=null||$!=null))switch(E){case"value":ee=b;break;case"defaultValue":k=b;break;case"multiple":C=b;default:b!==$&&gt(a,l,E,b,p,$)}l=k,c=C,p=ne,ee!=null?ba(a,!!c,ee,!1):!!p!=!!c&&(l!=null?ba(a,!!c,l,!0):ba(a,!!c,c?[]:"",!1));return;case"textarea":ne=ee=null;for(k in c)if(E=c[k],c.hasOwnProperty(k)&&E!=null&&!p.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:gt(a,l,k,null,p,E)}for(C in p)if(E=p[C],b=c[C],p.hasOwnProperty(C)&&(E!=null||b!=null))switch(C){case"value":ee=E;break;case"defaultValue":ne=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==b&&gt(a,l,C,E,p,b)}bh(a,ee,ne);return;case"option":for(var be in c)if(ee=c[be],c.hasOwnProperty(be)&&ee!=null&&!p.hasOwnProperty(be))switch(be){case"selected":a.selected=!1;break;default:gt(a,l,be,null,p,ee)}for($ in p)if(ee=p[$],ne=c[$],p.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null))switch($){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:gt(a,l,$,ee,p,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in c)ee=c[Pe],c.hasOwnProperty(Pe)&&ee!=null&&!p.hasOwnProperty(Pe)&&gt(a,l,Pe,null,p,ee);for(Q in p)if(ee=p[Q],ne=c[Q],p.hasOwnProperty(Q)&&ee!==ne&&(ee!=null||ne!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:gt(a,l,Q,ee,p,ne)}return;default:if(jl(l)){for(var yt in c)ee=c[yt],c.hasOwnProperty(yt)&&ee!==void 0&&!p.hasOwnProperty(yt)&&z0(a,l,yt,void 0,p,ee);for(oe in p)ee=p[oe],ne=c[oe],!p.hasOwnProperty(oe)||ee===ne||ee===void 0&&ne===void 0||z0(a,l,oe,ee,p,ne);return}}for(var W in c)ee=c[W],c.hasOwnProperty(W)&&ee!=null&&!p.hasOwnProperty(W)&&gt(a,l,W,null,p,ee);for(le in p)ee=p[le],ne=c[le],!p.hasOwnProperty(le)||ee===ne||ee==null&&ne==null||gt(a,l,le,ee,p,ne)}function oC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QF(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var E=c[p],b=E.transferSize,C=E.initiatorType,k=E.duration;if(b&&k&&oC(C)){for(C=0,k=E.responseEnd,p+=1;p<c.length;p++){var $=c[p],Q=$.startTime;if(Q>k)break;var oe=$.transferSize,le=$.initiatorType;oe&&oC(le)&&($=$.responseEnd,C+=oe*($<k?1:(k-Q)/($-Q)))}if(--p,l+=8*(b+C)/(E.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var B0=null,q0=null;function wp(a){return a.nodeType===9?a:a.ownerDocument}function aC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sC(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function H0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var G0=null;function ZF(){var a=window.event;return a&&a.type==="popstate"?a===G0?!1:(G0=a,!0):(G0=null,!1)}var lC=typeof setTimeout=="function"?setTimeout:void 0,ez=typeof clearTimeout=="function"?clearTimeout:void 0,uC=typeof Promise=="function"?Promise:void 0,tz=typeof queueMicrotask=="function"?queueMicrotask:typeof uC<"u"?function(a){return uC.resolve(null).then(a).catch(nz)}:lC;function nz(a){setTimeout(function(){throw a})}function $a(a){return a==="head"}function cC(a,l){var c=l,p=0;do{var E=c.nextSibling;if(a.removeChild(c),E&&E.nodeType===8)if(c=E.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(E),xu(l);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")If(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,If(c);for(var b=c.firstChild;b;){var C=b.nextSibling,k=b.nodeName;b[qi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=C}}else c==="body"&&If(a.ownerDocument.body);c=E}while(c);xu(l)}function fC(a,l){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function j0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":j0(c),ql(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function rz(a,l,c,p){for(;a.nodeType===1;){var E=c;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[qi])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var b=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Jr(a.nextSibling),a===null)break}return null}function iz(a,l,c){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Jr(a.nextSibling),a===null))return null;return a}function dC(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Jr(a.nextSibling),a===null))return null;return a}function $0(a){return a.data==="$?"||a.data==="$~"}function K0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function oz(a,l){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||c.readyState!=="loading")l();else{var p=function(){l(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Jr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Y0=null;function hC(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(l===0)return Jr(a.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}a=a.nextSibling}return null}function pC(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return a;l--}else c!=="/$"&&c!=="/&"||l++}a=a.previousSibling}return null}function mC(a,l,c){switch(l=wp(c),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function If(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ql(a)}var Xr=new Map,gC=new Set;function xp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Vo=fe.d;fe.d={f:az,r:sz,D:lz,C:uz,L:cz,m:fz,X:hz,S:dz,M:pz};function az(){var a=Vo.f(),l=yp();return a||l}function sz(a){var l=zr(a);l!==null&&l.tag===5&&l.type==="form"?Dx(l):Vo.r(a)}var Su=typeof document>"u"?null:document;function yC(a,l,c){var p=Su;if(p&&typeof l=="string"&&l){var E=ur(l);E='link[rel="'+a+'"][href="'+E+'"]',typeof c=="string"&&(E+='[crossorigin="'+c+'"]'),gC.has(E)||(gC.add(E),a={rel:a,crossOrigin:c,href:l},p.querySelector(E)===null&&(l=p.createElement("link"),Pn(l,"link",a),Yt(l),p.head.appendChild(l)))}}function lz(a){Vo.D(a),yC("dns-prefetch",a,null)}function uz(a,l){Vo.C(a,l),yC("preconnect",a,l)}function cz(a,l,c){Vo.L(a,l,c);var p=Su;if(p&&a&&l){var E='link[rel="preload"][as="'+ur(l)+'"]';l==="image"&&c&&c.imageSrcSet?(E+='[imagesrcset="'+ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(E+='[imagesizes="'+ur(c.imageSizes)+'"]')):E+='[href="'+ur(a)+'"]';var b=E;switch(l){case"style":b=Au(a);break;case"script":b=wu(a)}Xr.has(b)||(a=m({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:a,as:l},c),Xr.set(b,a),p.querySelector(E)!==null||l==="style"&&p.querySelector(Rf(b))||l==="script"&&p.querySelector(Nf(b))||(l=p.createElement("link"),Pn(l,"link",a),Yt(l),p.head.appendChild(l)))}}function fz(a,l){Vo.m(a,l);var c=Su;if(c&&a){var p=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+ur(p)+'"][href="'+ur(a)+'"]',b=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=wu(a)}if(!Xr.has(b)&&(a=m({rel:"modulepreload",href:a},l),Xr.set(b,a),c.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Nf(b)))return}p=c.createElement("link"),Pn(p,"link",a),Yt(p),c.head.appendChild(p)}}}function dz(a,l,c){Vo.S(a,l,c);var p=Su;if(p&&a){var E=Gi(p).hoistableStyles,b=Au(a);l=l||"default";var C=E.get(b);if(!C){var k={loading:0,preload:null};if(C=p.querySelector(Rf(b)))k.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},c),(c=Xr.get(b))&&W0(a,c);var $=C=p.createElement("link");Yt($),Pn($,"link",a),$._p=new Promise(function(Q,oe){$.onload=Q,$.onerror=oe}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cp(C,l,p)}C={type:"stylesheet",instance:C,count:1,state:k},E.set(b,C)}}}function hz(a,l){Vo.X(a,l);var c=Su;if(c&&a){var p=Gi(c).hoistableScripts,E=wu(a),b=p.get(E);b||(b=c.querySelector(Nf(E)),b||(a=m({src:a,async:!0},l),(l=Xr.get(E))&&J0(a,l),b=c.createElement("script"),Yt(b),Pn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(E,b))}}function pz(a,l){Vo.M(a,l);var c=Su;if(c&&a){var p=Gi(c).hoistableScripts,E=wu(a),b=p.get(E);b||(b=c.querySelector(Nf(E)),b||(a=m({src:a,async:!0,type:"module"},l),(l=Xr.get(E))&&J0(a,l),b=c.createElement("script"),Yt(b),Pn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(E,b))}}function vC(a,l,c,p){var E=(E=Le.current)?xp(E):null;if(!E)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Au(c.href),c=Gi(E).hoistableStyles,p=c.get(l),p||(p={type:"style",instance:null,count:0,state:null},c.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Au(c.href);var b=Gi(E).hoistableStyles,C=b.get(a);if(C||(E=E.ownerDocument||E,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=E.querySelector(Rf(a)))&&!b._p&&(C.instance=b,C.state.loading=5),Xr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Xr.set(a,c),b||mz(E,a,c,C.state))),l&&p===null)throw Error(r(528,""));return C}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=wu(c),c=Gi(E).hoistableScripts,p=c.get(l),p||(p={type:"script",instance:null,count:0,state:null},c.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Au(a){return'href="'+ur(a)+'"'}function Rf(a){return'link[rel="stylesheet"]['+a+"]"}function _C(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function mz(a,l,c,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Pn(l,"link",c),Yt(l),a.head.appendChild(l))}function wu(a){return'[src="'+ur(a)+'"]'}function Nf(a){return"script[async]"+a}function EC(a,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+ur(c.href)+'"]');if(p)return l.instance=p,Yt(p),p;var E=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Yt(p),Pn(p,"style",E),Cp(p,c.precedence,a),l.instance=p;case"stylesheet":E=Au(c.href);var b=a.querySelector(Rf(E));if(b)return l.state.loading|=4,l.instance=b,Yt(b),b;p=_C(c),(E=Xr.get(E))&&W0(p,E),b=(a.ownerDocument||a).createElement("link"),Yt(b);var C=b;return C._p=new Promise(function(k,$){C.onload=k,C.onerror=$}),Pn(b,"link",p),l.state.loading|=4,Cp(b,c.precedence,a),l.instance=b;case"script":return b=wu(c.src),(E=a.querySelector(Nf(b)))?(l.instance=E,Yt(E),E):(p=c,(E=Xr.get(b))&&(p=m({},c),J0(p,E)),a=a.ownerDocument||a,E=a.createElement("script"),Yt(E),Pn(E,"link",p),a.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Cp(p,c.precedence,a));return l.instance}function Cp(a,l,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,b=E,C=0;C<p.length;C++){var k=p[C];if(k.dataset.precedence===l)b=k;else if(b!==E)break}b?b.parentNode.insertBefore(a,b.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(a,l.firstChild))}function W0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function J0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ip=null;function TC(a,l,c){if(Ip===null){var p=new Map,E=Ip=new Map;E.set(c,p)}else E=Ip,p=E.get(c),p||(p=new Map,E.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),E=0;E<c.length;E++){var b=c[E];if(!(b[qi]||b[Kt]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(l)||"";C=a+C;var k=p.get(C);k?k.push(b):p.set(C,[b])}}return p}function bC(a,l,c){a=a.ownerDocument||a,a.head.insertBefore(c,l==="title"?a.querySelector("head > title"):null)}function gz(a,l,c){if(c===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function SC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function yz(a,l,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=Au(p.href),b=l.querySelector(Rf(E));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Rp.bind(a),l.then(a,a)),c.state.loading|=4,c.instance=b,Yt(b);return}b=l.ownerDocument||l,p=_C(p),(E=Xr.get(E))&&W0(p,E),b=b.createElement("link"),Yt(b);var C=b;C._p=new Promise(function(k,$){C.onload=k,C.onerror=$}),Pn(b,"link",p),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Rp.bind(a),l.addEventListener("load",c),l.addEventListener("error",c))}}var X0=0;function vz(a,l){return a.stylesheets&&a.count===0&&Pp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&Pp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+l);0<a.imgBytes&&X0===0&&(X0=62500*QF());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Pp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>X0?50:800)+l);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function Rp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Np=null;function Pp(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Np=new Map,l.forEach(_z,a),Np=null,Rp.call(a))}function _z(a,l){if(!(l.state.loading&4)){var c=Np.get(a);if(c)var p=c.get(null);else{c=new Map,Np.set(a,c);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<E.length;b++){var C=E[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),p=C)}p&&c.set(null,p)}E=l.instance,C=E.getAttribute("data-precedence"),b=c.get(C)||p,b===p&&c.set(null,E),c.set(C,E),this.count++,p=Rp.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),b?b.parentNode.insertBefore(E,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),l.state.loading|=4}}var Pf={$$typeof:L,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Ez(a,l,c,p,E,b,C,k,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function AC(a,l,c,p,E,b,C,k,$,Q,oe,le){return a=new Ez(a,l,c,C,$,Q,oe,le,k),l=1,b===!0&&(l|=24),b=Ar(3,null,null,l),a.current=b,b.stateNode=a,l=Nv(),l.refCount++,a.pooledCache=l,l.refCount++,b.memoizedState={element:p,isDehydrated:c,cache:l},Ov(b),a}function wC(a){return a?(a=nu,a):nu}function xC(a,l,c,p,E,b){E=wC(E),p.context===null?p.context=E:p.pendingContext=E,p=ka(l),p.payload={element:c},b=b===void 0?null:b,b!==null&&(p.callback=b),c=La(a,p,l),c!==null&&(mr(c,a,l),uf(c,a,l))}function CC(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function Q0(a,l){CC(a,l),(a=a.alternate)&&CC(a,l)}function IC(a){if(a.tag===13||a.tag===31){var l=js(a,67108864);l!==null&&mr(l,a,67108864),Q0(a,67108864)}}function RC(a){if(a.tag===13||a.tag===31){var l=Rr();l=Ds(l);var c=js(a,l);c!==null&&mr(c,a,l),Q0(a,l)}}var Mp=!0;function Tz(a,l,c,p){var E=Z.T;Z.T=null;var b=fe.p;try{fe.p=2,Z0(a,l,c,p)}finally{fe.p=b,Z.T=E}}function bz(a,l,c,p){var E=Z.T;Z.T=null;var b=fe.p;try{fe.p=8,Z0(a,l,c,p)}finally{fe.p=b,Z.T=E}}function Z0(a,l,c,p){if(Mp){var E=e_(p);if(E===null)F0(a,l,p,Dp,c),PC(a,p);else if(Az(E,a,l,c,p))p.stopPropagation();else if(PC(a,p),l&4&&-1<Sz.indexOf(a)){for(;E!==null;){var b=zr(E);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=Vi(b.pendingLanes);if(C!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var $=1<<31-Ft(C);k.entanglements[1]|=$,C&=~$}ro(b),(lt&6)===0&&(mp=Zn()+500,wf(0))}}break;case 31:case 13:k=js(b,2),k!==null&&mr(k,b,2),yp(),Q0(b,2)}if(b=e_(p),b===null&&F0(a,l,p,Dp,c),b===E)break;E=b}E!==null&&p.stopPropagation()}else F0(a,l,p,null,c)}}function e_(a){return a=Br(a),t_(a)}var Dp=null;function t_(a){if(Dp=null,a=Hi(a),a!==null){var l=o(a);if(l===null)a=null;else{var c=l.tag;if(c===13){if(a=s(l),a!==null)return a;a=null}else if(c===31){if(a=u(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Dp=a,null}function NC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case Dc:return 2;case Oc:return 8;case Ea:case sv:return 32;case fh:return 268435456;default:return 32}default:return 32}}var n_=!1,Ka=null,Ya=null,Wa=null,Mf=new Map,Df=new Map,Ja=[],Sz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PC(a,l){switch(a){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Mf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(l.pointerId)}}function Of(a,l,c,p,E,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[E]},l!==null&&(l=zr(l),l!==null&&IC(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function Az(a,l,c,p,E){switch(l){case"focusin":return Ka=Of(Ka,a,l,c,p,E),!0;case"dragenter":return Ya=Of(Ya,a,l,c,p,E),!0;case"mouseover":return Wa=Of(Wa,a,l,c,p,E),!0;case"pointerover":var b=E.pointerId;return Mf.set(b,Of(Mf.get(b)||null,a,l,c,p,E)),!0;case"gotpointercapture":return b=E.pointerId,Df.set(b,Of(Df.get(b)||null,a,l,c,p,E)),!0}return!1}function MC(a){var l=Hi(a.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=s(c),l!==null){a.blockedOn=l,di(a.priority,function(){RC(c)});return}}else if(l===31){if(l=u(c),l!==null){a.blockedOn=l,di(a.priority,function(){RC(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Op(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=e_(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);$c=p,c.target.dispatchEvent(p),$c=null}else return l=zr(c),l!==null&&IC(l),a.blockedOn=c,!1;l.shift()}return!0}function DC(a,l,c){Op(a)&&c.delete(l)}function wz(){n_=!1,Ka!==null&&Op(Ka)&&(Ka=null),Ya!==null&&Op(Ya)&&(Ya=null),Wa!==null&&Op(Wa)&&(Wa=null),Mf.forEach(DC),Df.forEach(DC)}function kp(a,l){a.blockedOn===l&&(a.blockedOn=null,n_||(n_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wz)))}var Lp=null;function OC(a){Lp!==a&&(Lp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lp===a&&(Lp=null);for(var l=0;l<a.length;l+=3){var c=a[l],p=a[l+1],E=a[l+2];if(typeof p!="function"){if(t_(p||c)===null)continue;break}var b=zr(c);b!==null&&(a.splice(l,3),l-=3,e0(b,{pending:!0,data:E,method:c.method,action:p},p,E))}}))}function xu(a){function l($){return kp($,a)}Ka!==null&&kp(Ka,a),Ya!==null&&kp(Ya,a),Wa!==null&&kp(Wa,a),Mf.forEach(l),Df.forEach(l);for(var c=0;c<Ja.length;c++){var p=Ja[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Ja.length&&(c=Ja[0],c.blockedOn===null);)MC(c),c.blockedOn===null&&Ja.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var E=c[p],b=c[p+1],C=E[gn]||null;if(typeof b=="function")C||OC(c);else if(C){var k=null;if(b&&b.hasAttribute("formAction")){if(E=b,C=b[gn]||null)k=C.formAction;else if(t_(E)!==null)continue}else k=C.action;typeof k=="function"?c[p+1]=k:(c.splice(p,3),p-=3),OC(c)}}}function kC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return E=C})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function r_(a){this._internalRoot=a}Up.prototype.render=r_.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,p=Rr();xC(c,p,a,l,null,null)},Up.prototype.unmount=r_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;xC(a.current,2,null,a,null,null),yp(),l[Bi]=null}};function Up(a){this._internalRoot=a}Up.prototype.unstable_scheduleHydration=function(a){if(a){var l=yh();a={blockedOn:null,target:a,priority:l};for(var c=0;c<Ja.length&&l!==0&&l<Ja[c].priority;c++);Ja.splice(c,0,a),c===0&&MC(a)}};var LC=e.version;if(LC!=="19.2.3")throw Error(r(527,LC,"19.2.3"));fe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var xz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{ci=Vp.inject(xz),xn=Vp}catch{}}return Lf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var c=!1,p="",E=Hx,b=Gx,C=jx;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=AC(a,1,!1,null,null,c,p,null,E,b,C,kC),a[Bi]=l.current,V0(a),new r_(l)},Lf.hydrateRoot=function(a,l,c){if(!i(a))throw Error(r(299));var p=!1,E="",b=Hx,C=Gx,k=jx,$=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),l=AC(a,1,!0,l,c??null,p,E,$,b,C,k,kC),l.context=wC(null),c=l.current,p=Rr(),p=Ds(p),E=ka(p),E.callback=null,La(c,E,p),c=p,l.current.lanes=c,Ps(l,c),ro(l),a[Bi]=l.current,V0(a),new Up(l)},Lf.version="19.2.3",Lf}var $C;function Fz(){if($C)return s_.exports;$C=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s_.exports=Vz(),s_.exports}var zz=Fz();const Bz=la(zz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),KC=t=>{const e=Hz(t);return e.charAt(0).toUpperCase()+e.slice(1)},IO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Gz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...u},f)=>N.createElement("svg",{ref:f,...jz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:IO("lucide",i),...!o&&!Gz(u)&&{"aria-hidden":"true"},...u},[...s.map(([d,h])=>N.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement($z,{ref:o,iconNode:e,className:IO(`lucide-${qz(KC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=KC(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mm=je("activity",Kz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wz=je("arrow-right",Yz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xz=je("ban",Jz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zz=je("bell",Qz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tB=je("chevron-left",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rB=je("chevron-right",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oB=je("circle-alert",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sB=je("circle-check-big",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uB=je("circle-question-mark",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YC=je("clock",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],dB=je("cloud-upload",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],RO=je("cpu",hB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],mB=je("database",pB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yB=je("eye",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],_B=je("file-headphone",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],TB=je("file-image",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],SB=je("file-play",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wB=je("file-text",AB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],NO=je("fingerprint-pattern",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],IB=je("history",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],PO=je("loader-circle",RB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],MO=je("lock",NB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MB=je("log-out",PB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],OB=je("octagon-alert",DB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],LB=je("refresh-cw",kB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],VB=je("save",UB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],Vb=je("scan-eye",FB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iT=je("search",zB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],qB=je("server",BB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DO=je("settings",HB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],OO=je("shield-alert",GB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WC=je("shield-check",jB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],KB=je("shield",$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],kO=je("terminal",YB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],JB=je("toggle-left",WB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],QB=je("toggle-right",XB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eq=je("trash-2",ZB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fb=je("triangle-alert",tq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],rq=je("user-plus",nq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oq=je("x",iq);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sq=je("zap",aq),lq=({activeTab:t,setActiveTab:e,isCollapsed:n,onToggle:r,user:i,onLogout:o})=>{const s=[{id:"analysis",label:"Forensic Lab",icon:Vb},{id:"alerts",label:"Live Signals",icon:OO},{id:"history",label:"Case Logs",icon:IB},{id:"settings",label:"System Config",icon:DO}];return R.jsxs("div",{className:`${n?"w-20":"w-64"} h-screen bg-slate-950/80 backdrop-blur-md border-r border-slate-800/60 flex flex-col fixed left-0 top-0 z-50 transition-all duration-300 ease-in-out`,children:[R.jsx("button",{onClick:r,className:"absolute -right-3 top-9 bg-slate-900 border border-slate-700 text-slate-400 hover:text-emerald-500 hover:border-emerald-500 rounded-full p-1 shadow-lg z-50 transition-all",children:n?R.jsx(rB,{size:14}):R.jsx(tB,{size:14})}),R.jsxs("div",{className:`p-6 border-b border-slate-800/50 flex flex-col ${n?"items-center":""}`,children:[R.jsxs("div",{className:"flex items-center gap-3 mb-1 overflow-hidden",children:[R.jsx("div",{className:"w-6 h-6 bg-emerald-500 rounded flex-shrink-0 flex items-center justify-center shadow-[0_0_10px_rgba(16,185,129,0.5)]",children:R.jsx("div",{className:"w-3 h-3 bg-slate-950 rotate-45"})}),R.jsxs("h1",{className:`text-lg font-bold text-white tracking-widest font-mono transition-opacity duration-200 ${n?"opacity-0 w-0 hidden":"opacity-100"}`,children:["DEEP",R.jsx("span",{className:"text-emerald-500",children:"FRAUD"})]})]}),R.jsxs("div",{className:`flex items-center gap-2 mt-2 transition-opacity duration-200 ${n?"opacity-0 hidden":"opacity-100"}`,children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),R.jsx("span",{className:"text-[10px] uppercase tracking-wider text-emerald-500 font-bold whitespace-nowrap",children:"System Operational"})]})]}),R.jsx("nav",{className:"flex-1 px-3 py-6 space-y-2",children:s.map(u=>{const f=u.icon,d=t===u.id;return R.jsxs("button",{onClick:()=>e(u.id),className:`w-full group flex items-center ${n?"justify-center px-2":"px-4"} py-3 rounded-md text-sm transition-all duration-200 border-l-2 ${d?"bg-slate-900 border-emerald-500 text-white shadow-lg shadow-black/20":"border-transparent text-slate-500 hover:text-slate-300 hover:bg-slate-900/50"}`,title:n?u.label:"",children:[R.jsx(f,{className:`w-4 h-4 flex-shrink-0 ${d?"text-emerald-500":"text-slate-600 group-hover:text-slate-400"}`}),!n&&R.jsxs(R.Fragment,{children:[R.jsx("span",{className:`font-medium ml-3 whitespace-nowrap ${d?"tracking-wide":""}`,children:u.label}),d&&R.jsx(sq,{className:"w-3 h-3 ml-auto text-emerald-500 fill-emerald-500/20"})]})]},u.id)})}),R.jsxs("div",{className:`p-4 border-t border-slate-800/50 bg-slate-900/30 flex items-center ${n?"justify-center flex-col gap-2":"gap-3"}`,children:[R.jsx("div",{className:"w-9 h-9 rounded bg-slate-800 flex items-center justify-center text-xs font-bold text-slate-400 border border-slate-700 font-mono flex-shrink-0 group-hover:border-emerald-500/50 transition-colors",children:i.username.substring(0,2).toUpperCase()}),R.jsxs("div",{className:`flex-1 min-w-0 transition-opacity duration-200 ${n?"opacity-0 w-0 hidden":"opacity-100"}`,children:[R.jsx("p",{className:"text-xs font-bold text-slate-300 font-mono uppercase whitespace-nowrap",children:i.username}),R.jsxs("p",{className:"text-[10px] text-slate-600 uppercase tracking-wider whitespace-nowrap",children:["Level ",i.clearanceLevel," Clearance"]})]}),R.jsx("button",{onClick:o,className:"text-slate-500 hover:text-rose-500 transition-colors p-2 rounded hover:bg-slate-800 ",title:"Disconnect Session",children:R.jsx(MB,{className:"w-4 h-4"})})]})]})};var uq={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cq,fq;function dq(){return{geminiUrl:cq,vertexUrl:fq}}function hq(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=dq();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ua{}function ve(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];v(h,e.slice(o+1),n[d])}else for(const d of f)v(d,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];v(f[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function pq(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}oT(t,i,o,0,s)}}function oT(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const f of u[s])oT(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=s[d];for(const[d,h]of Object.entries(f)){const m=[];for(const y of n.slice(r))y==="*"?m.push(d):m.push(y);v(s,m,h)}for(const d of u)delete s[d]}}else{const s=t;o in s&&oT(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mq(t){const e={},n=g(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function gq(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response","generateVideoResponse"]);return s!=null&&v(e,["response"],vq(s)),e}function yq(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response"]);return s!=null&&v(e,["response"],_q(s)),e}function vq(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Eq(s))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function _q(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Tq(s))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Eq(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],Cq(n)),e}function Tq(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],Iq(n)),e}function bq(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Sq(t){const e={},n=g(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Aq(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response"]);return s!=null&&v(e,["response"],wq(s)),e}function wq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&v(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function LO(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response"]);return s!=null&&v(e,["response"],xq(s)),e}function xq(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&v(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Cq(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],zb(r));const i=g(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function Iq(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],zb(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var JC;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(JC||(JC={}));var XC;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(XC||(XC={}));var QC;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(QC||(QC={}));var kn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(kn||(kn={}));var ZC;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ZC||(ZC={}));var eI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(eI||(eI={}));var tI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(tI||(tI={}));var nI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(nI||(nI={}));var rI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(rI||(rI={}));var iI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(iI||(iI={}));var oI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(oI||(oI={}));var aI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(aI||(aI={}));var sI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sI||(sI={}));var lI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(lI||(lI={}));var uI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(uI||(uI={}));var cI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(cI||(cI={}));var fI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(fI||(fI={}));var dI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dI||(dI={}));var hI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hI||(hI={}));var pI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(pI||(pI={}));var mI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mI||(mI={}));var Om;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Om||(Om={}));var gI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gI||(gI={}));var yI;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(yI||(yI={}));var vI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vI||(vI={}));var aT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(aT||(aT={}));var _I;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(_I||(_I={}));var EI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(EI||(EI={}));var TI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(TI||(TI={}));var bI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(bI||(bI={}));var SI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(SI||(SI={}));var AI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(AI||(AI={}));var wI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(wI||(wI={}));var xI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xI||(xI={}));var CI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(CI||(CI={}));var II;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(II||(II={}));var RI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(RI||(RI={}));var NI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(NI||(NI={}));var PI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(PI||(PI={}));var MI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(MI||(MI={}));var DI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(DI||(DI={}));var OI;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(OI||(OI={}));var kI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(kI||(kI={}));var LI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(LI||(LI={}));var UI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(UI||(UI={}));var VI;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(VI||(VI={}));var FI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(FI||(FI={}));var zI;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zI||(zI={}));var BI;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(BI||(BI={}));var qI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qI||(qI={}));var HI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HI||(HI={}));var GI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(GI||(GI={}));var jI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jI||(jI={}));var $I;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($I||($I={}));var KI;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(KI||(KI={}));var Uu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Uu||(Uu={}));class sT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Uf{get text(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const y of(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[T,S]of Object.entries(y))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(T);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,d+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[y,T]of Object.entries(m))y!=="inlineData"&&(T!==null||T!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,s,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,s,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class YI{}class WI{}class Rq{}class Nq{}class Pq{}class Mq{}class JI{}class XI{}class QI{}class Dq{}class km{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new km;let i;const o=e;return n?i=yq(o):i=gq(o),Object.assign(r,i),r}}class ZI{}class eR{}class tR{}class nR{}class Oq{}class kq{}class Lq{}class Bb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Bb,o=Aq(e);return Object.assign(r,o),r}}class Uq{}class Vq{}class Fq{}class rR{}class zq{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&s.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(s))u!=="inlineData"&&f!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Bq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qb{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qb,o=LO(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function UO(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function VO(t){return Array.isArray(t)?t.map(e=>Lm(e)):[Lm(t)]}function Lm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function FO(t){const e=Lm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zO(t){const e=Lm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function BO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>iR(e)):[iR(t)]}function lT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function oR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function aR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Jn(t){if(t==null)throw new Error("ContentUnion is required");return lT(t)?t:{role:"user",parts:BO(t)}}function Hb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Jn(n)):[Jn(e)]}function ri(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(oR(t)||aR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jn(t)]}const e=[],n=[],r=lT(t[0]);for(const i of t){const o=lT(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(oR(i)||aR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:BO(n)}),e}function qq(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(kn).includes(n[0].toUpperCase())?n[0].toUpperCase():kn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(kn).includes(r.toUpperCase())?r.toUpperCase():kn.TYPE_UNSPECIFIED})}}function qu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&qq(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(kn).includes(u.toUpperCase())?u.toUpperCase():kn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=qu(u);else if(r.includes(s)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(qu(d))}e[s]=f}else if(i.includes(s)){const f={};for(const[d,h]of Object.entries(u))f[d]=qu(h);e[s]=f}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Gb(t){return qu(t)}function jb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function $b(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function hc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qu(e.response));return t}function pc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Hq(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ca(t,e){if(typeof e!="string")throw new Error("name must be a string");return Hq(t,e,"cachedContents")}function qO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function bs(t){return zb(t)}function Gq(t){return t!=null&&typeof t=="object"&&"name"in t}function jq(t){return t!=null&&typeof t=="object"&&"video"in t}function $q(t){return t!=null&&typeof t=="object"&&"uri"in t}function HO(t){var e;let n;if(Gq(t)&&(n=t.name),!($q(t)&&(n=t.uri,n===void 0))&&!(jq(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function GO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function jO(t){for(const e of["models","tunedModels","publisherModels"])if(Kq(t,e))return t[e];return[]}function Kq(t,e){return t!==null&&typeof t=="object"&&e in t}function Yq(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Wq(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Yq(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function $O(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Jq(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function KO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const f=s.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function mc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function YO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xq(t){const e={},n=g(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>P9(s))),v(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["inlinedEmbedContentResponses"],o)}return e}function Qq(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function Zq(t){const e={},n=g(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function gm(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&v(e,["state"],YO(i));const o=g(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const s=g(t,["metadata","endTime"]);s!=null&&v(e,["endTime"],s);const u=g(t,["metadata","updateTime"]);u!=null&&v(e,["updateTime"],u);const f=g(t,["metadata","model"]);f!=null&&v(e,["model"],f);const d=g(t,["metadata","output"]);return d!=null&&v(e,["dest"],Xq(KO(d))),e}function uT(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["state"]);i!=null&&v(e,["state"],YO(i));const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["createTime"]);s!=null&&v(e,["createTime"],s);const u=g(t,["startTime"]);u!=null&&v(e,["startTime"],u);const f=g(t,["endTime"]);f!=null&&v(e,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&v(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&v(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&v(e,["src"],e9(m));const y=g(t,["outputConfig"]);y!=null&&v(e,["dest"],Qq(KO(y)));const T=g(t,["completionStats"]);return T!=null&&v(e,["completionStats"],T),e}function e9(t){const e={},n=g(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function t9(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>N9(t,s))),v(n,["requests","requests"],o)}return n}function n9(t){const e={},n=g(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function r9(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function i9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],mc(t,r)),n}function o9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],mc(t,r)),n}function a9(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],s9(r));const i=g(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const s=g(t,["avgLogprobs"]);s!=null&&v(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&v(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(T=>T)),v(e,["safetyRatings"],y)}const m=g(t,["urlContextMetadata"]);return m!=null&&v(e,["urlContextMetadata"],m),e}function s9(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function WO(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>V9(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function l9(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function u9(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],Zq(Jq(i))),n}function sR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["src"]);i!=null&&v(n,["batch","inputConfig"],t9(t,$O(t,i)));const o=g(e,["config"]);return o!=null&&l9(o,n),n}function c9(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],ot(t,r));const i=g(e,["src"]);i!=null&&v(n,["inputConfig"],n9($O(t,i)));const o=g(e,["config"]);return o!=null&&u9(o,n),n}function f9(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function d9(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["src"]);i!=null&&v(n,["batch","inputConfig"],_9(t,i));const o=g(e,["config"]);return o!=null&&f9(o,n),n}function h9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],mc(t,r)),n}function p9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],mc(t,r)),n}function m9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);return o!=null&&v(e,["error"],o),e}function g9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);return o!=null&&v(e,["error"],o),e}function y9(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=Hb(t,r);Array.isArray(o)&&(o=o.map(s=>s)),v(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(v(n,["_self"],v9(i,n)),pq(n,{"requests[].*":"requests[].request.*"})),n}function v9(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _9(t,e){const n={},r=g(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],y9(t,i)),n}function E9(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function T9(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b9(t){const e={},n=g(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=g(t,["mode"]);if(r!=null&&v(e,["mode"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function S9(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],WO(Jn(i)));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const T=g(e,["presencePenalty"]);T!=null&&v(r,["presencePenalty"],T);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const x=g(e,["seed"]);x!=null&&v(r,["seed"],x);const A=g(e,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const P=g(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],Gb(P));const V=g(e,["responseJsonSchema"]);if(V!=null&&v(r,["responseJsonSchema"],V),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=g(e,["safetySettings"]);if(n!==void 0&&L!=null){let B=L;Array.isArray(B)&&(B=B.map(ge=>F9(ge))),v(n,["safetySettings"],B)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let B=pc(H);Array.isArray(B)&&(B=B.map(ge=>B9(hc(ge)))),v(n,["tools"],B)}const G=g(e,["toolConfig"]);if(n!==void 0&&G!=null&&v(n,["toolConfig"],z9(G)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=g(e,["cachedContent"]);n!==void 0&&j!=null&&v(n,["cachedContent"],ca(t,j));const D=g(e,["responseModalities"]);D!=null&&v(r,["responseModalities"],D);const O=g(e,["mediaResolution"]);O!=null&&v(r,["mediaResolution"],O);const M=g(e,["speechConfig"]);if(M!=null&&v(r,["speechConfig"],jb(M)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=g(e,["thinkingConfig"]);q!=null&&v(r,["thinkingConfig"],q);const z=g(e,["imageConfig"]);z!=null&&v(r,["imageConfig"],R9(z));const F=g(e,["enableEnhancedCivicAnswers"]);return F!=null&&v(r,["enableEnhancedCivicAnswers"],F),r}function A9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>a9(d))),v(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const s=g(t,["responseId"]);s!=null&&v(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function w9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],mc(t,r)),n}function x9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],mc(t,r)),n}function C9(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function I9(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function R9(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),g(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function N9(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["request","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let u=ri(i);Array.isArray(u)&&(u=u.map(f=>WO(f))),v(n,["request","contents"],u)}const o=g(e,["metadata"]);o!=null&&v(n,["metadata"],o);const s=g(e,["config"]);return s!=null&&v(n,["request","generationConfig"],S9(t,s,g(n,["request"],{}))),n}function P9(t){const e={},n=g(t,["response"]);n!=null&&v(e,["response"],A9(n));const r=g(t,["error"]);return r!=null&&v(e,["error"],r),e}function M9(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function D9(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function O9(t){const e={},n=g(t,["config"]);return n!=null&&M9(n,e),e}function k9(t){const e={},n=g(t,["config"]);return n!=null&&D9(n,e),e}function L9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>gm(s))),v(e,["batchJobs"],o)}return e}function U9(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uT(s))),v(e,["batchJobs"],o)}return e}function V9(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],E9(o));const s=g(t,["functionCall"]);s!=null&&v(e,["functionCall"],T9(s));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&v(e,["inlineData"],r9(f));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function F9(t){const e={},n=g(t,["category"]);if(n!=null&&v(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function z9(t){const e={},n=g(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=g(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],b9(r)),e}function B9(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}const s=g(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],C9(s));const u=g(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],I9(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Xo||(Xo={}));class Dl{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q9 extends ua{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Dl(Xo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=sR(this.apiClient,e),r=n._url,i=ve("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const y=m.systemInstruction;delete m.systemInstruction;const T=m.request;T.systemInstruction=y,m.request=T}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=c9(this.apiClient,e);return u=ve("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>uT(h))}else{const d=sR(this.apiClient,e);return u=ve("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>gm(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d9(this.apiClient,e);return o=ve("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>gm(f))}}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=x9(this.apiClient,e);return u=ve("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>uT(h))}else{const d=w9(this.apiClient,e);return u=ve("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>gm(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const f=o9(this.apiClient,e);s=ve("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=i9(this.apiClient,e);s=ve("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=k9(e);return u=ve("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=U9(h),y=new rR;return Object.assign(y,m),y})}else{const d=O9(e);return u=ve("batches",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=L9(h),y=new rR;return Object.assign(y,m),y})}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=p9(this.apiClient,e);return u=ve("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>g9(h))}else{const d=h9(this.apiClient,e);return u=ve("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>m9(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H9(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function lR(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dH(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function G9(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let h=ri(s);Array.isArray(h)&&(h=h.map(m=>lR(m))),v(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],lR(Jn(u)));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>pH(m))),v(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&v(e,["toolConfig"],hH(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function j9(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let m=ri(s);Array.isArray(m)&&(m=m.map(y=>y)),v(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&v(e,["systemInstruction"],Jn(u));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>mH(y))),v(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&v(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function $9(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],UO(t,r));const i=g(e,["config"]);return i!=null&&G9(i,n),n}function K9(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],UO(t,r));const i=g(e,["config"]);return i!=null&&j9(i,n),n}function Y9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ca(t,r)),n}function W9(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ca(t,r)),n}function J9(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function X9(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Q9(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Z9(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eH(t){const e={},n=g(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=g(t,["mode"]);if(r!=null&&v(e,["mode"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tH(t){const e={},n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=g(t,["response"]);s!=null&&v(e,["response"],s);const u=g(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function nH(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ca(t,r)),n}function rH(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],ca(t,r)),n}function iH(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function oH(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function aH(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function sH(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function lH(t){const e={},n=g(t,["config"]);return n!=null&&aH(n,e),e}function uH(t){const e={},n=g(t,["config"]);return n!=null&&sH(n,e),e}function cH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["cachedContents"],o)}return e}function fH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["cachedContents"],o)}return e}function dH(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Q9(o));const s=g(t,["functionCall"]);s!=null&&v(e,["functionCall"],Z9(s));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&v(e,["inlineData"],H9(f));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function hH(t){const e={},n=g(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=g(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],eH(r)),e}function pH(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}const s=g(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],iH(s));const u=g(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],oH(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function mH(t){const e={},n=g(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=g(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=g(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const s=g(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>tH(y))),v(e,["functionDeclarations"],m)}const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const f=g(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=g(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const h=g(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function gH(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function yH(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function vH(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],ca(t,r));const i=g(e,["config"]);return i!=null&&gH(i,n),n}function _H(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],ca(t,r));const i=g(e,["config"]);return i!=null&&yH(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EH extends ua{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Dl(Xo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=K9(this.apiClient,e);return u=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=$9(this.apiClient,e);return u=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=rH(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=nH(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=W9(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=X9(h),y=new tR;return Object.assign(y,m),y})}else{const d=Y9(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=J9(h),y=new tR;return Object.assign(y,m),y})}}async update(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=_H(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=vH(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=uH(e);return u=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=fH(h),y=new nR;return Object.assign(y,m),y})}else{const d=lH(e);return u=ve("cachedContents",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=cH(h),y=new nR;return Object.assign(y,m),y})}}}function Um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(t){return this instanceof Ue?(this.v=t,this):new Ue(t)}function Ci(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(T){return function(S){return Promise.resolve(S).then(T,m)}}function u(T,S){r[T]&&(i[T]=function(x){return new Promise(function(A,P){o.push([T,x,A,P])>1||f(T,x)})},S&&(i[T]=S(i[T])))}function f(T,S){try{d(r[T](S))}catch(x){y(o[0][3],x)}}function d(T){T.value instanceof Ue?Promise.resolve(T.value.v).then(h,m):y(o[0][2],T)}function h(T){f("next",T)}function m(T){f("throw",T)}function y(T,S){T(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Ii(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof uR=="function"?uR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,f){s=t[o](s),i(u,f,s.done,s.value)})}}function i(o,s,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:JO(n)}function JO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function cR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!JO(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class SH{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new AH(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class AH{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),bH(o)}async sendMessage(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const f=await i,d=(s=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const T=d?[d]:[];this.recordHistory(r,T,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?cR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ci(this,arguments,function*(){var i,o,s,u,f,d;const h=[];try{for(var m=!0,y=Ii(e),T;T=yield Ue(y.next()),i=T.done,!i;m=!0){u=T.value,m=!1;const S=u;if(TH(S)){const x=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;x!==void 0&&h.push(x)}yield yield Ue(S)}}catch(S){o={error:S}}finally{try{!m&&!i&&(s=y.return)&&(yield Ue(s.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...cR(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xg extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xg.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wH(t){const e={},n=g(t,["file"]);return n!=null&&v(e,["file"],n),e}function xH(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function CH(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],HO(n)),e}function IH(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function RH(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","file"],HO(n)),e}function NH(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function PH(t){const e={},n=g(t,["config"]);return n!=null&&NH(n,e),e}function MH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DH extends ua{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Dl(Xo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PH(e);return o=ve("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=MH(f),h=new Uq;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wH(e);return o=ve("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=xH(f),h=new Vq;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RH(e);return o=ve("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CH(e);return o=ve("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=IH(f),h=new Fq;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ym(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function OH(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>JH(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function kH(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function LH(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UH(t){const e={},n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=g(t,["response"]);s!=null&&v(e,["response"],s);const u=g(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function VH(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const s=g(t,["enableAffectiveDialog"]);s!=null&&v(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&v(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&v(e,["presencePenalty"],m);const y=g(t,["responseLogprobs"]);y!=null&&v(e,["responseLogprobs"],y);const T=g(t,["responseMimeType"]);T!=null&&v(e,["responseMimeType"],T);const S=g(t,["responseModalities"]);S!=null&&v(e,["responseModalities"],S);const x=g(t,["responseSchema"]);x!=null&&v(e,["responseSchema"],x);const A=g(t,["routingConfig"]);A!=null&&v(e,["routingConfig"],A);const P=g(t,["seed"]);P!=null&&v(e,["seed"],P);const V=g(t,["speechConfig"]);V!=null&&v(e,["speechConfig"],V);const L=g(t,["stopSequences"]);L!=null&&v(e,["stopSequences"],L);const H=g(t,["temperature"]);H!=null&&v(e,["temperature"],H);const G=g(t,["thinkingConfig"]);G!=null&&v(e,["thinkingConfig"],G);const j=g(t,["topK"]);j!=null&&v(e,["topK"],j);const D=g(t,["topP"]);if(D!=null&&v(e,["topP"],D),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FH(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function zH(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function BH(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=g(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],$b(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const T=g(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],OH(Jn(S)));const x=g(t,["tools"]);if(e!==void 0&&x!=null){let j=pc(x);Array.isArray(j)&&(j=j.map(D=>QH(hc(D)))),v(e,["setup","tools"],j)}const A=g(t,["sessionResumption"]);e!==void 0&&A!=null&&v(e,["setup","sessionResumption"],XH(A));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const V=g(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&v(e,["setup","outputAudioTranscription"],V);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&v(e,["setup","realtimeInputConfig"],L);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const G=g(t,["proactivity"]);if(e!==void 0&&G!=null&&v(e,["setup","proactivity"],G),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function qH(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],VH(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=g(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],$b(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const T=g(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],Jn(S));const x=g(t,["tools"]);if(e!==void 0&&x!=null){let D=pc(x);Array.isArray(D)&&(D=D.map(O=>ZH(hc(O)))),v(e,["setup","tools"],D)}const A=g(t,["sessionResumption"]);e!==void 0&&A!=null&&v(e,["setup","sessionResumption"],A);const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const V=g(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&v(e,["setup","outputAudioTranscription"],V);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&v(e,["setup","realtimeInputConfig"],L);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const G=g(t,["proactivity"]);e!==void 0&&G!=null&&v(e,["setup","proactivity"],G);const j=g(t,["explicitVadSignal"]);return e!==void 0&&j!=null&&v(e,["setup","explicitVadSignal"],j),n}function HH(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],BH(i,n)),n}function GH(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],qH(i,n)),n}function jH(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function $H(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function KH(t){const e={},n=g(t,["media"]);if(n!=null){let d=VO(n);Array.isArray(d)&&(d=d.map(h=>ym(h))),v(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&v(e,["audio"],ym(zO(r)));const i=g(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&v(e,["video"],ym(FO(o)));const s=g(t,["text"]);s!=null&&v(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function YH(t){const e={},n=g(t,["media"]);if(n!=null){let d=VO(n);Array.isArray(d)&&(d=d.map(h=>h)),v(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&v(e,["audio"],zO(r));const i=g(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&v(e,["video"],FO(o));const s=g(t,["text"]);s!=null&&v(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&v(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function WH(t){const e={},n=g(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const s=g(t,["usageMetadata"]);s!=null&&v(e,["usageMetadata"],e8(s));const u=g(t,["goAway"]);u!=null&&v(e,["goAway"],u);const f=g(t,["sessionResumptionUpdate"]);f!=null&&v(e,["sessionResumptionUpdate"],f);const d=g(t,["voiceActivityDetectionSignal"]);d!=null&&v(e,["voiceActivityDetectionSignal"],d);const h=g(t,["voiceActivity"]);return h!=null&&v(e,["voiceActivity"],t8(h)),e}function JH(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],kH(o));const s=g(t,["functionCall"]);s!=null&&v(e,["functionCall"],LH(s));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&v(e,["inlineData"],ym(f));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function XH(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QH(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}const s=g(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],FH(s));const u=g(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],zH(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function ZH(t){const e={},n=g(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=g(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=g(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const s=g(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>UH(y))),v(e,["functionDeclarations"],m)}const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const f=g(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=g(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const h=g(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function e8(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const s=g(t,["thoughtsTokenCount"]);s!=null&&v(e,["thoughtsTokenCount"],s);const u=g(t,["totalTokenCount"]);u!=null&&v(e,["totalTokenCount"],u);const f=g(t,["promptTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>S)),v(e,["promptTokensDetails"],T)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>S)),v(e,["cacheTokensDetails"],T)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(S=>S)),v(e,["responseTokensDetails"],T)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(S=>S)),v(e,["toolUsePromptTokensDetails"],T)}const y=g(t,["trafficType"]);return y!=null&&v(e,["trafficType"],y),e}function t8(t){const e={},n=g(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n8(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function r8(t){const e={},n=g(t,["content"]);n!=null&&v(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],i8(r));const i=g(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const s=g(t,["avgLogprobs"]);s!=null&&v(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&v(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&v(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(T=>T)),v(e,["safetyRatings"],y)}const m=g(t,["urlContextMetadata"]);return m!=null&&v(e,["urlContextMetadata"],m),e}function i8(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function o8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let o=ri(i);Array.isArray(o)&&(o=o.map(s=>s)),v(n,["contents"],o)}return n}function a8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["tokensInfo"],i)}return e}function s8(t){const e={},n=g(t,["values"]);n!=null&&v(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&v(e,["statistics"],l8(r)),e}function l8(t){const e={},n=g(t,["truncated"]);n!=null&&v(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function Qg(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yG(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function u8(t){const e={},n=g(t,["controlType"]);n!=null&&v(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function c8(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function f8(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],Jn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>ek(u))),v(e,["tools"],s)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],nG(o)),n}function d8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let s=ri(i);Array.isArray(s)&&(s=s.map(u=>Qg(u))),v(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&c8(o),n}function h8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let s=ri(i);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&f8(o,n),n}function p8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&v(e,["cachedContentTokenCount"],i),e}function m8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function g8(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function y8(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function v8(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function _8(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function E8(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&v(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&v(e,["parameters","includeSafetyAttributes"],m);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const T=g(t,["language"]);e!==void 0&&T!=null&&v(e,["parameters","language"],T);const S=g(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const x=g(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&v(e,["parameters","outputOptions","compressionQuality"],x);const A=g(t,["addWatermark"]);e!==void 0&&A!=null&&v(e,["parameters","addWatermark"],A);const P=g(t,["labels"]);e!==void 0&&P!=null&&v(e,["labels"],P);const V=g(t,["editMode"]);e!==void 0&&V!=null&&v(e,["parameters","editMode"],V);const L=g(t,["baseSteps"]);return e!==void 0&&L!=null&&v(e,["parameters","editConfig","baseSteps"],L),n}function T8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>SG(f))),v(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&E8(s,n),n}function b8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zg(o))),v(e,["generatedImages"],i)}return e}function S8(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function A8(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&v(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const s=g(t,["mimeType"]);e!==void 0&&s!=null&&v(e,["instances[]","mimeType"],s);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&v(e,["parameters","autoTruncate"],u),n}function w8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let u=Hb(t,i);Array.isArray(u)&&(u=u.map(f=>f)),v(n,["requests[]","content"],u)}const o=g(e,["config"]);o!=null&&S8(o,n);const s=g(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],ot(t,s)),n}function x8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let s=Hb(t,i);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["instances[]","content"],s)}const o=g(e,["config"]);return o!=null&&A8(o,n),n}function C8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function I8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s8(s))),v(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function R8(t){const e={},n=g(t,["endpoint"]);n!=null&&v(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function N8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function P8(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function M8(t){const e={},n=g(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=g(t,["mode"]);if(r!=null&&v(e,["mode"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function D8(t){const e={},n=g(t,["description"]);n!=null&&v(e,["description"],n);const r=g(t,["name"]);r!=null&&v(e,["name"],r);const i=g(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=g(t,["response"]);s!=null&&v(e,["response"],s);const u=g(t,["responseJsonSchema"]);if(u!=null&&v(e,["responseJsonSchema"],u),g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function O8(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Qg(Jn(i)));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const T=g(e,["presencePenalty"]);T!=null&&v(r,["presencePenalty"],T);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const x=g(e,["seed"]);x!=null&&v(r,["seed"],x);const A=g(e,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const P=g(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],Gb(P));const V=g(e,["responseJsonSchema"]);if(V!=null&&v(r,["responseJsonSchema"],V),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=g(e,["safetySettings"]);if(n!==void 0&&L!=null){let B=L;Array.isArray(B)&&(B=B.map(ge=>AG(ge))),v(n,["safetySettings"],B)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let B=pc(H);Array.isArray(B)&&(B=B.map(ge=>PG(hc(ge)))),v(n,["tools"],B)}const G=g(e,["toolConfig"]);if(n!==void 0&&G!=null&&v(n,["toolConfig"],NG(G)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=g(e,["cachedContent"]);n!==void 0&&j!=null&&v(n,["cachedContent"],ca(t,j));const D=g(e,["responseModalities"]);D!=null&&v(r,["responseModalities"],D);const O=g(e,["mediaResolution"]);O!=null&&v(r,["mediaResolution"],O);const M=g(e,["speechConfig"]);if(M!=null&&v(r,["speechConfig"],jb(M)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=g(e,["thinkingConfig"]);q!=null&&v(r,["thinkingConfig"],q);const z=g(e,["imageConfig"]);z!=null&&v(r,["imageConfig"],sG(z));const F=g(e,["enableEnhancedCivicAnswers"]);return F!=null&&v(r,["enableEnhancedCivicAnswers"],F),r}function k8(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Jn(i));const o=g(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const T=g(e,["presencePenalty"]);T!=null&&v(r,["presencePenalty"],T);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const x=g(e,["seed"]);x!=null&&v(r,["seed"],x);const A=g(e,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const P=g(e,["responseSchema"]);P!=null&&v(r,["responseSchema"],Gb(P));const V=g(e,["responseJsonSchema"]);V!=null&&v(r,["responseJsonSchema"],V);const L=g(e,["routingConfig"]);L!=null&&v(r,["routingConfig"],L);const H=g(e,["modelSelectionConfig"]);H!=null&&v(r,["modelConfig"],H);const G=g(e,["safetySettings"]);if(n!==void 0&&G!=null){let Z=G;Array.isArray(Z)&&(Z=Z.map(fe=>fe)),v(n,["safetySettings"],Z)}const j=g(e,["tools"]);if(n!==void 0&&j!=null){let Z=pc(j);Array.isArray(Z)&&(Z=Z.map(fe=>ek(hc(fe)))),v(n,["tools"],Z)}const D=g(e,["toolConfig"]);n!==void 0&&D!=null&&v(n,["toolConfig"],D);const O=g(e,["labels"]);n!==void 0&&O!=null&&v(n,["labels"],O);const M=g(e,["cachedContent"]);n!==void 0&&M!=null&&v(n,["cachedContent"],ca(t,M));const q=g(e,["responseModalities"]);q!=null&&v(r,["responseModalities"],q);const z=g(e,["mediaResolution"]);z!=null&&v(r,["mediaResolution"],z);const F=g(e,["speechConfig"]);F!=null&&v(r,["speechConfig"],jb(F));const B=g(e,["audioTimestamp"]);B!=null&&v(r,["audioTimestamp"],B);const ge=g(e,["thinkingConfig"]);ge!=null&&v(r,["thinkingConfig"],ge);const Re=g(e,["imageConfig"]);if(Re!=null&&v(r,["imageConfig"],lG(Re)),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function fR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let s=ri(i);Array.isArray(s)&&(s=s.map(u=>Qg(u))),v(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&v(n,["generationConfig"],O8(t,o,n)),n}function dR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let s=ri(i);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&v(n,["generationConfig"],k8(t,o,n)),n}function hR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>r8(d))),v(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const s=g(t,["responseId"]);s!=null&&v(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&v(e,["usageMetadata"],u),e}function pR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),v(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const s=g(t,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const u=g(t,["responseId"]);u!=null&&v(e,["responseId"],u);const f=g(t,["usageMetadata"]);return f!=null&&v(e,["usageMetadata"],f),e}function L8(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&v(e,["parameters","safetySetting"],s);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&v(e,["parameters","personGeneration"],u);const f=g(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&v(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","mimeType"],m);const y=g(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&v(e,["parameters","outputOptions","compressionQuality"],y),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=g(t,["imageSize"]);if(e!==void 0&&T!=null&&v(e,["parameters","sampleImageSize"],T),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function U8(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&v(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&v(e,["parameters","includeSafetyAttributes"],m);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&v(e,["parameters","includeRaiReason"],y);const T=g(t,["language"]);e!==void 0&&T!=null&&v(e,["parameters","language"],T);const S=g(t,["outputMimeType"]);e!==void 0&&S!=null&&v(e,["parameters","outputOptions","mimeType"],S);const x=g(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&v(e,["parameters","outputOptions","compressionQuality"],x);const A=g(t,["addWatermark"]);e!==void 0&&A!=null&&v(e,["parameters","addWatermark"],A);const P=g(t,["labels"]);e!==void 0&&P!=null&&v(e,["labels"],P);const V=g(t,["imageSize"]);e!==void 0&&V!=null&&v(e,["parameters","sampleImageSize"],V);const L=g(t,["enhancePrompt"]);return e!==void 0&&L!=null&&v(e,["parameters","enhancePrompt"],L),n}function V8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&L8(o,n),n}function F8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&U8(o,n),n}function z8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Q8(s))),v(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],QO(i)),e}function B8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Zg(s))),v(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],ZO(i)),e}function q8(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&v(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const s=g(t,["resolution"]);e!==void 0&&s!=null&&v(e,["parameters","resolution"],s);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&v(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(t,["negativePrompt"]);e!==void 0&&f!=null&&v(e,["parameters","negativePrompt"],f);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&v(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&v(e,["instances[0]","lastFrame"],ey(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(T=>GG(T))),v(e,["instances[0]","referenceImages"],y)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function H8(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const s=g(t,["durationSeconds"]);e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s);const u=g(t,["seed"]);e!==void 0&&u!=null&&v(e,["parameters","seed"],u);const f=g(t,["aspectRatio"]);e!==void 0&&f!=null&&v(e,["parameters","aspectRatio"],f);const d=g(t,["resolution"]);e!==void 0&&d!=null&&v(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&v(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&v(e,["parameters","pubsubTopic"],m);const y=g(t,["negativePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","negativePrompt"],y);const T=g(t,["enhancePrompt"]);e!==void 0&&T!=null&&v(e,["parameters","enhancePrompt"],T);const S=g(t,["generateAudio"]);e!==void 0&&S!=null&&v(e,["parameters","generateAudio"],S);const x=g(t,["lastFrame"]);e!==void 0&&x!=null&&v(e,["instances[0]","lastFrame"],Li(x));const A=g(t,["referenceImages"]);if(e!==void 0&&A!=null){let L=A;Array.isArray(L)&&(L=L.map(H=>jG(H))),v(e,["instances[0]","referenceImages"],L)}const P=g(t,["mask"]);e!==void 0&&P!=null&&v(e,["instances[0]","mask"],HG(P));const V=g(t,["compressionQuality"]);return e!==void 0&&V!=null&&v(e,["parameters","compressionQuality"],V),n}function G8(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response","generateVideoResponse"]);return s!=null&&v(e,["response"],Y8(s)),e}function j8(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response"]);return s!=null&&v(e,["response"],W8(s)),e}function $8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&v(n,["instances[0]","image"],ey(o));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],tk(s));const u=g(e,["source"]);u!=null&&J8(u,n);const f=g(e,["config"]);return f!=null&&q8(f,n),n}function K8(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&v(n,["instances[0]","image"],Li(o));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],nk(s));const u=g(e,["source"]);u!=null&&X8(u,n);const f=g(e,["config"]);return f!=null&&H8(f,n),n}function Y8(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>eG(s))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function W8(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>tG(s))),v(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function J8(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],ey(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],tk(o)),n}function X8(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],Li(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],nk(o)),n}function Q8(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],uG(n));const r=g(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&v(e,["safetyAttributes"],QO(i)),e}function Zg(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["image"],XO(n));const r=g(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&v(e,["safetyAttributes"],ZO(i));const o=g(t,["prompt"]);return o!=null&&v(e,["enhancedPrompt"],o),e}function Z8(t){const e={},n=g(t,["_self"]);n!=null&&v(e,["mask"],XO(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["labels"],i)}return e}function eG(t){const e={},n=g(t,["video"]);return n!=null&&v(e,["video"],BG(n)),e}function tG(t){const e={},n=g(t,["_self"]);return n!=null&&v(e,["video"],qG(n)),e}function nG(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const s=g(t,["enableAffectiveDialog"]);s!=null&&v(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&v(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&v(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&v(e,["presencePenalty"],m);const y=g(t,["responseLogprobs"]);y!=null&&v(e,["responseLogprobs"],y);const T=g(t,["responseMimeType"]);T!=null&&v(e,["responseMimeType"],T);const S=g(t,["responseModalities"]);S!=null&&v(e,["responseModalities"],S);const x=g(t,["responseSchema"]);x!=null&&v(e,["responseSchema"],x);const A=g(t,["routingConfig"]);A!=null&&v(e,["routingConfig"],A);const P=g(t,["seed"]);P!=null&&v(e,["seed"],P);const V=g(t,["speechConfig"]);V!=null&&v(e,["speechConfig"],V);const L=g(t,["stopSequences"]);L!=null&&v(e,["stopSequences"],L);const H=g(t,["temperature"]);H!=null&&v(e,["temperature"],H);const G=g(t,["thinkingConfig"]);G!=null&&v(e,["thinkingConfig"],G);const j=g(t,["topK"]);j!=null&&v(e,["topK"],j);const D=g(t,["topP"]);if(D!=null&&v(e,["topP"],D),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function rG(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function iG(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["_url","name"],ot(t,r)),n}function oG(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function aG(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function sG(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),g(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lG(t){const e={},n=g(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&v(e,["imageSize"],r);const i=g(t,["personGeneration"]);i!=null&&v(e,["personGeneration"],i);const o=g(t,["outputMimeType"]);o!=null&&v(e,["imageOutputOptions","mimeType"],o);const s=g(t,["outputCompressionQuality"]);return s!=null&&v(e,["imageOutputOptions","compressionQuality"],s),e}function uG(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],bs(n));const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function XO(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],bs(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function ey(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],bs(n));const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Li(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],bs(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function cG(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],GO(t,u)),r}function fG(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],GO(t,u)),r}function dG(t,e){const n={},r=g(e,["config"]);return r!=null&&cG(t,r,n),n}function hG(t,e){const n={},r=g(e,["config"]);return r!=null&&fG(t,r,n),n}function pG(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=jO(i);Array.isArray(o)&&(o=o.map(s=>cT(s))),v(e,["models"],o)}return e}function mG(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=jO(i);Array.isArray(o)&&(o=o.map(s=>fT(s))),v(e,["models"],o)}return e}function gG(t){const e={},n=g(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&v(e,["dilation"],i),e}function cT(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);i!=null&&v(e,["description"],i);const o=g(t,["version"]);o!=null&&v(e,["version"],o);const s=g(t,["_self"]);s!=null&&v(e,["tunedModelInfo"],MG(s));const u=g(t,["inputTokenLimit"]);u!=null&&v(e,["inputTokenLimit"],u);const f=g(t,["outputTokenLimit"]);f!=null&&v(e,["outputTokenLimit"],f);const d=g(t,["supportedGenerationMethods"]);d!=null&&v(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&v(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&v(e,["maxTemperature"],m);const y=g(t,["topP"]);y!=null&&v(e,["topP"],y);const T=g(t,["topK"]);T!=null&&v(e,["topK"],T);const S=g(t,["thinking"]);return S!=null&&v(e,["thinking"],S),e}function fT(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);i!=null&&v(e,["description"],i);const o=g(t,["versionId"]);o!=null&&v(e,["version"],o);const s=g(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>R8(y))),v(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&v(e,["labels"],u);const f=g(t,["_self"]);f!=null&&v(e,["tunedModelInfo"],DG(f));const d=g(t,["defaultCheckpointId"]);d!=null&&v(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),v(e,["checkpoints"],m)}return e}function yG(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],N8(o));const s=g(t,["functionCall"]);s!=null&&v(e,["functionCall"],P8(s));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&v(e,["inlineData"],n8(f));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function vG(t){const e={},n=g(t,["productImage"]);return n!=null&&v(e,["image"],Li(n)),e}function _G(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&v(e,["parameters","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const s=g(t,["seed"]);e!==void 0&&s!=null&&v(e,["parameters","seed"],s);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const f=g(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&v(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&v(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&v(e,["parameters","outputOptions","compressionQuality"],m);const y=g(t,["enhancePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","enhancePrompt"],y);const T=g(t,["labels"]);return e!==void 0&&T!=null&&v(e,["labels"],T),n}function EG(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["source"]);i!=null&&bG(i,n);const o=g(e,["config"]);return o!=null&&_G(o,n),n}function TG(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Zg(i))),v(e,["generatedImages"],r)}return e}function bG(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&v(e,["instances[0]","personImage","image"],Li(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>vG(u))),v(e,["instances[0]","productImages"],s)}return n}function SG(t){const e={},n=g(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],Li(n));const r=g(t,["referenceId"]);r!=null&&v(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&v(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&v(e,["maskImageConfig"],gG(o));const s=g(t,["controlImageConfig"]);s!=null&&v(e,["controlImageConfig"],u8(s));const u=g(t,["styleImageConfig"]);u!=null&&v(e,["styleImageConfig"],u);const f=g(t,["subjectImageConfig"]);return f!=null&&v(e,["subjectImageConfig"],f),e}function QO(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function ZO(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function AG(t){const e={},n=g(t,["category"]);if(n!=null&&v(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function wG(t){const e={},n=g(t,["image"]);return n!=null&&v(e,["image"],Li(n)),e}function xG(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&v(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&v(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const s=g(t,["maskDilation"]);e!==void 0&&s!=null&&v(e,["parameters","maskDilation"],s);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&v(e,["parameters","binaryColorThreshold"],u);const f=g(t,["labels"]);return e!==void 0&&f!=null&&v(e,["labels"],f),n}function CG(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["source"]);i!=null&&RG(i,n);const o=g(e,["config"]);return o!=null&&xG(o,n),n}function IG(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Z8(i))),v(e,["generatedMasks"],r)}return e}function RG(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],Li(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],wG(o)),n}function NG(t){const e={},n=g(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=g(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],M8(r)),e}function PG(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}const s=g(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],oG(s));const u=g(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],aG(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function ek(t){const e={},n=g(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=g(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const o=g(t,["enterpriseWebSearch"]);o!=null&&v(e,["enterpriseWebSearch"],o);const s=g(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>D8(y))),v(e,["functionDeclarations"],m)}const u=g(t,["googleMaps"]);u!=null&&v(e,["googleMaps"],u);const f=g(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=g(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const h=g(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function MG(t){const e={},n=g(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function DG(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function OG(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function kG(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function LG(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],ot(t,r));const i=g(e,["config"]);return i!=null&&OG(i,n),n}function UG(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&kG(i,n),n}function VG(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&v(e,["parameters","safetySetting"],i);const o=g(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const s=g(t,["includeRaiReason"]);e!==void 0&&s!=null&&v(e,["parameters","includeRaiReason"],s);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&v(e,["parameters","outputOptions","mimeType"],u);const f=g(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&v(e,["labels"],m);const y=g(t,["numberOfImages"]);e!==void 0&&y!=null&&v(e,["parameters","sampleCount"],y);const T=g(t,["mode"]);return e!==void 0&&T!=null&&v(e,["parameters","mode"],T),n}function FG(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],ot(t,r));const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],Li(i));const o=g(e,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=g(e,["config"]);return s!=null&&VG(s,n),n}function zG(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zg(o))),v(e,["generatedImages"],i)}return e}function BG(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],bs(r));const i=g(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function qG(t){const e={},n=g(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],bs(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function HG(t){const e={},n=g(t,["image"]);n!=null&&v(e,["_self"],Li(n));const r=g(t,["maskMode"]);return r!=null&&v(e,["maskMode"],r),e}function GG(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],ey(n));const r=g(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function jG(t){const e={},n=g(t,["image"]);n!=null&&v(e,["image"],Li(n));const r=g(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function tk(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&v(e,["encodedVideo"],bs(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["encoding"],i),e}function nk(t){const e={},n=g(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],bs(r));const i=g(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $G(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function KG(t){const e={},n=g(t,["config"]);return n!=null&&$G(n,e),e}function YG(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function WG(t){const e={},n=g(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&YG(r,e),e}function JG(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function XG(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["customMetadata"],o)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function QG(t){const e={},n=g(t,["name"]);n!=null&&v(e,["name"],n);const r=g(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=g(t,["done"]);i!=null&&v(e,["done"],i);const o=g(t,["error"]);o!=null&&v(e,["error"],o);const s=g(t,["response"]);return s!=null&&v(e,["response"],ej(s)),e}function ZG(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&XG(i,e),e}function ej(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&v(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function tj(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function nj(t){const e={},n=g(t,["config"]);return n!=null&&tj(n,e),e}function rj(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["fileSearchStores"],o)}return e}function rk(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=g(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),v(e,["customMetadata"],u)}const s=g(t,["chunkingConfig"]);return e!==void 0&&s!=null&&v(e,["chunkingConfig"],s),n}function ij(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&rk(r,e),e}function oj(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aj="Content-Type",sj="X-Server-Timeout",lj="User-Agent",dT="x-goog-api-client",uj="1.37.0",cj=`google-genai-sdk/${uj}`,fj="v1beta1",dj="v1beta";class hj{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:fj,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dj,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&pj(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await mR(i),new sT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await mR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ci(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield Ue(i.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const x=JSON.parse(JSON.stringify(S.error)),A=x.status,P=x.code,V=`got status: ${A}. ${JSON.stringify(S)}`;if(P>=400&&P<600)throw new Xg({message:V,status:P})}}catch(S){if(S.name==="ApiError")throw S}s+=m;let y=-1,T=0;for(;;){y=-1,T=0;for(const A of f){const P=s.indexOf(A);P!==-1&&(y===-1||P<y)&&(y=P,T=A.length)}if(y===-1)break;const S=s.substring(0,y);s=s.substring(y+T);const x=S.trim();if(x.startsWith(u)){const A=x.substring(u.length).trim();try{const P=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new sT(P))}catch(P){throw new Error(`exception parsing stream chunk ${A}. ${P}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=cj+" "+this.clientOptions.userAgentExtra;return e[lj]=n,e[dT]=n,e[aj]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(sj,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),h=ve("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),u=String(s.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&rk(r,m);const y=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var u;let f={};s?f=s:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function mR(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Xg({message:i,status:n}):new Error(i)}}function pj(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const f in s)if(Object.prototype.hasOwnProperty.call(s,f)){const d=s[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mj="mcp_used/unknown";let gj=!1;function ik(t){for(const e of t)if(yj(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gj}function ok(t){var e;const n=(e=t[dT])!==null&&e!==void 0?e:"";t[dT]=(n+` ${mj}`).trimStart()}function yj(t){return t!==null&&typeof t=="object"&&t instanceof Kb}function vj(t){return Ci(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Ue(n.listTools({cursor:i}));for(const u of s.tools)yield yield Ue(u),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class Kb{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Kb(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,Ii(vj(h))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;s.push(m);const y=m.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Wq(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _j(t,e,n){const r=new Bq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Ej{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=Sj(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(L=>{d=L}),m=e.callbacks,y=function(){d({})},T=this.apiClient,S={onopen:y,onmessage:L=>{_j(T,m.onmessage,L)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(L){}},x=this.webSocketFactory.create(f,bj(s),S);x.connect(),await h;const V={setup:{model:ot(this.apiClient,e.model)}};return x.send(JSON.stringify(V)),new Tj(x,this.apiClient)}}class Tj{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$H(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=jH(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Uu.PLAY)}pause(){this.sendPlaybackControl(Uu.PAUSE)}stop(){this.sendPlaybackControl(Uu.STOP)}resetContext(){this.sendPlaybackControl(Uu.RESET_CONTEXT)}close(){this.conn.close()}}function bj(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Sj(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aj="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wj(t,e,n){const r=new zq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=WH(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class xj{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Ej(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&ik(e.config.tools)&&ok(m);const y=Nj(m);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h);else{const M=this.apiClient.getApiKey();let q="BidiGenerateContent",z="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",z="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${z}=${M}`}let T=()=>{};const S=new Promise(M=>{T=M}),x=e.callbacks,A=function(){var M;(M=x==null?void 0:x.onopen)===null||M===void 0||M.call(x),T({})},P=this.apiClient,V={onopen:A,onmessage:M=>{wj(P,x.onmessage,M)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(M){}},L=this.webSocketFactory.create(h,Rj(y),V);L.connect(),await S;let H=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const M=this.apiClient.getProject(),q=this.apiClient.getLocation();H=`projects/${M}/locations/${q}/`+H}let G={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Om.AUDIO]}:e.config.responseModalities=[Om.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],D=[];for(const M of j)if(this.isCallableTool(M)){const q=M;D.push(await q.tool())}else D.push(M);D.length>0&&(e.config.tools=D);const O={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=GH(this.apiClient,O):G=HH(this.apiClient,O),delete G.config,L.send(JSON.stringify(G)),new Ij(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Cj={turnComplete:!0};class Ij{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ri(n.turns),e.isVertexAI()||(r=r.map(i=>Qg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Aj)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Cj),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:YH(e)}:n={realtimeInput:KH(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Rj(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Nj(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gR=10;function yR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Hu(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Hu(t){return"callTool"in t&&typeof t.callTool=="function"}function Pj(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Hu(i)))!==null&&r!==void 0?r:!1}function vR(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Hu(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function _R(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mj extends ua{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Pj(n)||yR(n.config))return await this.generateContentInternal(f);const d=vR(n);if(d.length>0){const x=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let h,m;const y=ri(f.contents),T=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:gR;let S=0;for(;S<T&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const x=h.candidates[0].content,A=[];for(const P of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Hu(P)){const L=await P.callTool(h.functionCalls);A.push(...L)}S++,m={role:"user",parts:A},f.contents=ri(f.contents),f.contents.push(x),f.contents.push(m),_R(f.config)&&(y.push(x),y.push(m))}return _R(f.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,o,s,u;if(this.maybeMoveToResponseJsonSchem(n),yR(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=vR(n);if(f.length>0){const m=f.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:s.push(f);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Dl(Xo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async f=>Hu(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&ik(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),ok(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Hu(s)){const u=s,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:gR;let s=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,h,m){return Ci(this,arguments,function*(){for(var y,T,S,x,A,P;u<o;){s&&(u++,s=!1);const G=yield Ue(d.processParamsMaybeAddMcpUsage(m)),j=yield Ue(d.generateContentStreamInternal(G)),D=[],O=[];try{for(var V=!0,L=(T=void 0,Ii(j)),H;H=yield Ue(L.next()),y=H.done,!y;V=!0){x=H.value,V=!1;const M=x;if(yield yield Ue(M),M.candidates&&(!((A=M.candidates[0])===null||A===void 0)&&A.content)){O.push(M.candidates[0].content);for(const q of(P=M.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(u<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(q.functionCall.name)){const z=yield Ue(h.get(q.functionCall.name).callTool([q.functionCall]));D.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(M){T={error:M}}finally{try{!V&&!y&&(S=L.return)&&(yield Ue(S.call(L)))}finally{if(T)throw T.error}}if(D.length>0){s=!0;const M=new Uf;M.candidates=[{content:{role:"user",parts:D}}],yield yield Ue(M);const q=[];q.push(...O),q.push({role:"user",parts:D});const z=ri(m.contents).concat(q);m.contents=z}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=dR(this.apiClient,e);return u=ve("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=pR(h),y=new Uf;return Object.assign(y,m),y})}else{const d=fR(this.apiClient,e);return u=ve("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=hR(h),y=new Uf;return Object.assign(y,m),y})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=dR(this.apiClient,e);return u=ve("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return Ci(this,arguments,function*(){var y,T,S,x;try{for(var A=!0,P=Ii(m),V;V=yield Ue(P.next()),y=V.done,!y;A=!0){x=V.value,A=!1;const L=x,H=pR(yield Ue(L.json()));H.sdkHttpResponse={headers:L.headers};const G=new Uf;Object.assign(G,H),yield yield Ue(G)}}catch(L){T={error:L}}finally{try{!A&&!y&&(S=P.return)&&(yield Ue(S.call(P)))}finally{if(T)throw T.error}}})})}else{const d=fR(this.apiClient,e);return u=ve("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return Ci(this,arguments,function*(){var y,T,S,x;try{for(var A=!0,P=Ii(m),V;V=yield Ue(P.next()),y=V.done,!y;A=!0){x=V.value,A=!1;const L=x,H=hR(yield Ue(L.json()));H.sdkHttpResponse={headers:L.headers};const G=new Uf;Object.assign(G,H),yield yield Ue(G)}}catch(L){T={error:L}}finally{try{!A&&!y&&(S=P.return)&&(yield Ue(S.call(P)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=x8(this.apiClient,e);return u=ve("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=I8(h),y=new YI;return Object.assign(y,m),y})}else{const d=w8(this.apiClient,e);return u=ve("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=C8(h),y=new YI;return Object.assign(y,m),y})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=F8(this.apiClient,e);return u=ve("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=B8(h),y=new WI;return Object.assign(y,m),y})}else{const d=V8(this.apiClient,e);return u=ve("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=z8(h),y=new WI;return Object.assign(y,m),y})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=T8(this.apiClient,e);return o=ve("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=b8(f),h=new Rq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=FG(this.apiClient,e);return o=ve("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=zG(f),h=new Nq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=EG(this.apiClient,e);return o=ve("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=TG(f),h=new Pq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=CG(this.apiClient,e);return o=ve("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=IG(f),h=new Mq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=iG(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fT(h))}else{const d=rG(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>cT(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=hG(this.apiClient,e);return u=ve("{models_url}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=mG(h),y=new JI;return Object.assign(y,m),y})}else{const d=dG(this.apiClient,e);return u=ve("{models_url}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=pG(h),y=new JI;return Object.assign(y,m),y})}}async update(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=UG(this.apiClient,e);return u=ve("{model}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fT(h))}else{const d=LG(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>cT(h))}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=y8(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=_8(h),y=new XI;return Object.assign(y,m),y})}else{const d=g8(this.apiClient,e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=v8(h),y=new XI;return Object.assign(y,m),y})}}async countTokens(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=h8(this.apiClient,e);return u=ve("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=m8(h),y=new QI;return Object.assign(y,m),y})}else{const d=d8(this.apiClient,e);return u=ve("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=p8(h),y=new QI;return Object.assign(y,m),y})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=o8(this.apiClient,e);return o=ve("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=a8(f),h=new Dq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=K8(this.apiClient,e);return u=ve("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=j8(h),y=new km;return Object.assign(y,m),y})}else{const d=$8(this.apiClient,e);return u=ve("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const m=G8(h),y=new km;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dj extends ua{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=Sq(e);return u=ve("{operationName}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=bq(e);return u=ve("{operationName}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=mq(e);return o=ve("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oj(t){const e={},n=g(t,["data"]);if(n!=null&&v(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function kj(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gj(o))),v(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&v(e,["role"],r),e}function Lj(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const s=g(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],Hj(t,u));const f=g(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),r}function Uj(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Lj(t,r,n)),n}function Vj(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Fj(t){const e={},n=g(t,["id"]);n!=null&&v(e,["id"],n);const r=g(t,["args"]);r!=null&&v(e,["args"],r);const i=g(t,["name"]);if(i!=null&&v(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zj(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Bj(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function qj(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=g(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","speechConfig"],$b(m));const y=g(t,["thinkingConfig"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","thinkingConfig"],y);const T=g(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],kj(Jn(S)));const x=g(t,["tools"]);if(e!==void 0&&x!=null){let j=pc(x);Array.isArray(j)&&(j=j.map(D=>$j(hc(D)))),v(e,["setup","tools"],j)}const A=g(t,["sessionResumption"]);e!==void 0&&A!=null&&v(e,["setup","sessionResumption"],jj(A));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&v(e,["setup","inputAudioTranscription"],P);const V=g(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&v(e,["setup","outputAudioTranscription"],V);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&v(e,["setup","realtimeInputConfig"],L);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const G=g(t,["proactivity"]);if(e!==void 0&&G!=null&&v(e,["setup","proactivity"],G),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Hj(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&v(n,["config"],qj(i,n)),n}function Gj(t){const e={},n=g(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&v(e,["fileData"],Vj(o));const s=g(t,["functionCall"]);s!=null&&v(e,["functionCall"],Fj(s));const u=g(t,["functionResponse"]);u!=null&&v(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&v(e,["inlineData"],Oj(f));const d=g(t,["text"]);d!=null&&v(e,["text"],d);const h=g(t,["thought"]);h!=null&&v(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&v(e,["thoughtSignature"],m);const y=g(t,["videoMetadata"]);return y!=null&&v(e,["videoMetadata"],y),e}function jj(t){const e={},n=g(t,["handle"]);if(n!=null&&v(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $j(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(e,["functionDeclarations"],h)}const s=g(t,["googleMaps"]);s!=null&&v(e,["googleMaps"],zj(s));const u=g(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],Bj(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kj(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Yj(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Kj(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Wj extends ua{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Uj(this.apiClient,e);o=ve("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const f=Yj(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jj(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function Xj(t){const e={},n=g(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&Jj(r,e),e}function Qj(t){const e={},n=g(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function Zj(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function e7(t){const e={},n=g(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&Zj(r,e),e}function t7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n7 extends ua{constructor(e){super(),this.apiClient=e,this.list=async n=>new Dl(Xo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qj(e);return o=ve("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xj(e);i=ve("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e7(e);return o=ve("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=t7(f),h=new Oq;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r7 extends ua{constructor(e,n=new n7(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Dl(Xo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KG(e);return o=ve("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JG(e);return o=ve("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WG(e);i=ve("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nj(e);return o=ve("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=rj(f),h=new kq;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ij(e);return o=ve("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=oj(f),h=new Lq;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZG(e);return o=ve("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=QG(f),h=new Bb;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ak=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return ak=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const i7=()=>ak();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hT(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const pT=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii extends Error{}class ir extends ii{constructor(e,n,r,i){super(`${ir.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new ty({message:r,cause:pT(n)});const o=n;return e===400?new lk(e,o,r,i):e===401?new uk(e,o,r,i):e===403?new ck(e,o,r,i):e===404?new fk(e,o,r,i):e===409?new dk(e,o,r,i):e===422?new hk(e,o,r,i):e===429?new pk(e,o,r,i):e>=500?new mk(e,o,r,i):new ir(e,o,r,i)}}class mT extends ir{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ty extends ir{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class sk extends ty{constructor({message:e}={}){super({message:e??"Request timed out."})}}class lk extends ir{}class uk extends ir{}class ck extends ir{}class fk extends ir{}class dk extends ir{}class hk extends ir{}class pk extends ir{}class mk extends ir{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o7=/^[a-z][a-z0-9+.-]*:/i,a7=t=>o7.test(t);let gT=t=>(gT=Array.isArray,gT(t));const s7=gT;let l7=s7;const ER=l7;function u7(t){if(!t)return!0;for(const e in t)return!1;return!0}function c7(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const f7=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ii(`${t} must be an integer`);if(e<0)throw new ii(`${t} must be a positive integer`);return e},d7=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h7=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p7(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const m7=()=>{var t,e,n,r,i;const o=p7();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pu,"X-Stainless-OS":bR(Deno.build.os),"X-Stainless-Arch":TR(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pu,"X-Stainless-OS":bR((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":TR((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=g7();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function g7(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const TR=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",bR=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fp;const y7=()=>Fp??(Fp=m7());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v7(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function gk(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function _7(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return gk({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function yk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function E7(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T7=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function f_(t,e,n){return vk(),new File(t,e??"unknown_file",n)}function b7(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const S7=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _k=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",A7=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&_k(t),w7=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function x7(t,e,n){if(vk(),t=await t,A7(t))return t instanceof File?t:f_([await t.arrayBuffer()],t.name);if(w7(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),f_(await yT(i),e,n)}const r=await yT(t);if(e||(e=b7(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return f_(r,e,n)}async function yT(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(_k(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(S7(t))try{for(var u=!0,f=Ii(t),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const h=i;s.push(...await yT(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${C7(t)}`)}return s}function C7(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ek{constructor(e){this._client=e}}Ek._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const SR=Object.freeze(Object.create(null)),I7=(t=Tk)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((h,m,y)=>{var T,S,x;/[?#]/.test(m)&&(i=!0);const A=r[y];let P=(i?encodeURIComponent:t)(""+A);return y!==r.length&&(A==null||typeof A=="object"&&A.toString===((x=Object.getPrototypeOf((S=Object.getPrototypeOf((T=A.hasOwnProperty)!==null&&T!==void 0?T:SR))!==null&&S!==void 0?S:SR))===null||x===void 0?void 0:x.toString))&&(P=A+"",o.push({start:h.length+m.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),h+m+(y===r.length?"":P)},""),u=s.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((h,m)=>h.start-m.start),o.length>0){let h=0;const m=o.reduce((y,T)=>{const S=" ".repeat(T.start-h),x="^".repeat(T.length);return h=T.start+T.length,y+S+x},"");throw new ii(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${s}
${m}`)}return s}),zp=I7(Tk);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bk extends Ek{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Um(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new ii("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new ii("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zp`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(zp`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(zp`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,u=Um(o,["api_version"]);return this._client.get(zp`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}bk._key=Object.freeze(["interactions"]);class Sk extends bk{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R7(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Bp;function Yb(t){let e;return(Bp??(e=new globalThis.TextEncoder,Bp=e.encode.bind(e)))(t)}let qp;function AR(t){let e;return(qp??(e=new globalThis.TextDecoder,qp=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ny{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Yb(e):e;this.buffer=R7([this.buffer,n]);const r=[];let i;for(;(i=N7(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(AR(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=AR(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ny.NEWLINE_CHARS=new Set([`
`,"\r"]);ny.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function N7(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function P7(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vm={off:0,error:200,warn:300,info:400,debug:500},wR=(t,e,n)=>{if(t){if(c7(Vm,t))return t;nr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Vm))}`)}};function Kf(){}function Hp(t,e,n){return!e||Vm[t]>Vm[n]?Kf:e[t].bind(e)}const M7={error:Kf,warn:Kf,info:Kf,debug:Kf};let xR=new WeakMap;function nr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return M7;const i=xR.get(n);if(i&&i[0]===r)return i[1];const o={error:Hp("error",n,r),warn:Hp("warn",n,r),info:Hp("info",n,r),debug:Hp("debug",n,r)};return xR.set(n,[r,o]),o}const ol=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vu{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?nr(r):console;function s(){return Ci(this,arguments,function*(){var f,d,h,m;if(i)throw new ii("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var T=!0,S=Ii(D7(e,n)),x;x=yield Ue(S.next()),f=x.done,!f;T=!0){m=x.value,T=!1;const A=m;if(!y)if(A.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Ue(JSON.parse(A.data))}catch(P){throw o.error("Could not parse message into JSON:",A.data),o.error("From chunk:",A.raw),P}}}catch(A){d={error:A}}finally{try{!T&&!f&&(h=S.return)&&(yield Ue(h.call(S)))}finally{if(d)throw d.error}}y=!0}catch(A){if(hT(A))return yield Ue(void 0);throw A}finally{y||n.abort()}})}return new Vu(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Ci(this,arguments,function*(){var f,d,h,m;const y=new ny,T=yk(e);try{for(var S=!0,x=Ii(T),A;A=yield Ue(x.next()),f=A.done,!f;S=!0){m=A.value,S=!1;const P=m;for(const V of y.decode(P))yield yield Ue(V)}}catch(P){d={error:P}}finally{try{!S&&!f&&(h=x.return)&&(yield Ue(h.call(x)))}finally{if(d)throw d.error}}for(const P of y.flush())yield yield Ue(P)})}function s(){return Ci(this,arguments,function*(){var f,d,h,m;if(i)throw new ii("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var T=!0,S=Ii(o()),x;x=yield Ue(S.next()),f=x.done,!f;T=!0){m=x.value,T=!1;const A=m;y||A&&(yield yield Ue(JSON.parse(A)))}}catch(A){d={error:A}}finally{try{!T&&!f&&(h=S.return)&&(yield Ue(h.call(S)))}finally{if(d)throw d.error}}y=!0}catch(A){if(hT(A))return yield Ue(void 0);throw A}finally{y||n.abort()}})}return new Vu(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Vu(()=>i(e),this.controller,this.client),new Vu(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return gk({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=Yb(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function D7(t,e){return Ci(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ii("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ii("Attempted to iterate over a response with no body");const u=new k7,f=new ny,d=yk(t.body);try{for(var h=!0,m=Ii(O7(d)),y;y=yield Ue(m.next()),r=y.done,!r;h=!0){s=y.value,h=!1;const T=s;for(const S of f.decode(T)){const x=u.decode(S);x&&(yield yield Ue(x))}}}catch(T){i={error:T}}finally{try{!h&&!r&&(o=m.return)&&(yield Ue(o.call(m)))}finally{if(i)throw i.error}}for(const T of f.flush()){const S=u.decode(T);S&&(yield yield Ue(S))}})}function O7(t){return Ci(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var u=!0,f=Ii(t),d;d=yield Ue(f.next()),n=d.done,!n;u=!0){o=d.value,u=!1;const h=o;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Yb(h):h;let y=new Uint8Array(s.length+m.length);y.set(s),y.set(m,s.length),s=y;let T;for(;(T=P7(s))!==-1;)yield yield Ue(s.slice(0,T)),s=s.slice(T)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=f.return)&&(yield Ue(i.call(f)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Ue(s))})}class k7{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=L7(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function L7(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function U7(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var u;if(e.options.stream)return nr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Vu.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(u=f==null?void 0:f.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return nr(t).debug(`[${r}] response parsed`,ol({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb extends Promise{constructor(e,n,r=U7){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Wb(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ak=Symbol("brand.privateNullableHeaders");function*V7(t){if(!t)return;if(Ak in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ER(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=ER(r[1])?r[1]:[r[1]];let s=!1;for(const u of o)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const Vf=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of V7(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),s===null?(e.delete(o),n.add(u)):(e.append(o,s),n.delete(u))}}return{[Ak]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d_=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=uq)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wk;class ry{constructor(e){var n,r,i,o,s,u,f,{baseURL:d=d_("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=d_("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,y=Um(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:h,apiVersion:m},y),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:ry.DEFAULT_TIMEOUT,this.logger=(i=T.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(o=wR(T.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:wR(d_("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=T.fetchOptions,this.maxRetries=(u=T.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=T.fetch)!==null&&f!==void 0?f:v7(),this.encoder=T7,this._options=T,this.apiKey=h,this.apiVersion=m,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Vf([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Vf([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Vf([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ii(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Pu}`}defaultIdempotencyKey(){return`stainless-node-retry-${i7()}`}makeStatusError(e,n,r,i){return ir.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=a7(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return u7(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Wb(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const u=await e,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:d,url:h,timeout:m}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:u});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(nr(this).debug(`[${y}] sending request`,ol({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:d.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new mT;const x=new AbortController,A=await this.fetchWithTimeout(h,d,m,x).catch(pT),P=Date.now();if(A instanceof globalThis.Error){const L=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new mT;const H=hT(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return nr(this).info(`[${y}] connection ${H?"timed out":"failed"} - ${L}`),nr(this).debug(`[${y}] connection ${H?"timed out":"failed"} (${L})`,ol({retryOfRequestLogID:r,url:h,durationMs:P-S,message:A.message})),this.retryRequest(u,n,r??y);throw nr(this).info(`[${y}] connection ${H?"timed out":"failed"} - error; no more retries left`),nr(this).debug(`[${y}] connection ${H?"timed out":"failed"} (error; no more retries left)`,ol({retryOfRequestLogID:r,url:h,durationMs:P-S,message:A.message})),H?new sk:new ty({cause:A})}const V=`[${y}${T}] ${d.method} ${h} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${P-S}ms`;if(!A.ok){const L=await this.shouldRetry(A);if(n&&L){const M=`retrying, ${n} attempts remaining`;return await E7(A.body),nr(this).info(`${V} - ${M}`),nr(this).debug(`[${y}] response error (${M})`,ol({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:P-S})),this.retryRequest(u,n,r??y,A.headers)}const H=L?"error; no more retries left":"error; not retryable";nr(this).info(`${V} - ${H}`);const G=await A.text().catch(M=>pT(M).message),j=d7(G),D=j?void 0:G;throw nr(this).debug(`[${y}] response error (${H})`,ol({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:D,durationMs:Date.now()-S})),this.makeStatusError(A.status,j,D,A.headers)}return nr(this).info(V),nr(this).debug(`[${y}] response start`,ol({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:P-S})),{response:A,options:u,controller:x,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:u}=o,f=Um(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),f);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(s=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!s){const d=parseFloat(f);Number.isNaN(d)?s=Date.parse(f)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await h7(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:u,path:f,query:d,defaultBaseURL:h}=s,m=this.buildURL(f,d,h);"timeout"in s&&f7("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:T}=this.buildBody({options:s}),S=await this.buildHeaders({options:e,method:u,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=Vf([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),y7()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Vf([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:_7(e)}:this.encoder({body:e,headers:r})}}ry.DEFAULT_TIMEOUT=6e4;class An extends ry{constructor(){super(...arguments),this.interactions=new Sk(this)}}wk=An;An.GeminiNextGenAPIClient=wk;An.GeminiNextGenAPIClientError=ii;An.APIError=ir;An.APIConnectionError=ty;An.APIConnectionTimeoutError=sk;An.APIUserAbortError=mT;An.NotFoundError=fk;An.ConflictError=dk;An.RateLimitError=pk;An.BadRequestError=lk;An.AuthenticationError=uk;An.InternalServerError=mk;An.PermissionDeniedError=ck;An.UnprocessableEntityError=hk;An.toFile=x7;An.Interactions=Sk;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F7(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function z7(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function B7(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function q7(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function H7(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(t,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const s=g(t,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&v(e,["tuningTask","hyperparameters","batchSize"],u);const f=g(t,["learningRate"]);if(e!==void 0&&f!=null&&v(e,["tuningTask","hyperparameters","learningRate"],f),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function G7(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const T=g(t,["validationDataset"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec"],CR(T))}else if(i==="PREFERENCE_TUNING"){const T=g(t,["validationDataset"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec"],CR(T))}const o=g(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const s=g(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=g(t,["epochCount"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(u==="PREFERENCE_TUNING"){const T=g(t,["epochCount"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=g(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(f==="PREFERENCE_TUNING"){const T=g(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=g(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(d==="PREFERENCE_TUNING"){const T=g(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=g(t,["adapterSize"]);e!==void 0&&T!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(h==="PREFERENCE_TUNING"){const T=g(t,["adapterSize"]);e!==void 0&&T!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&v(e,["labels"],m);const y=g(t,["beta"]);return e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function j7(t,e){const n={},r=g(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&n$(o);const s=g(t,["config"]);return s!=null&&H7(s,n),n}function $7(t,e){const n={},r=g(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&r$(o,n,e);const s=g(t,["config"]);return s!=null&&G7(s,n,e),n}function K7(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Y7(t,e){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function W7(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const s=g(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),r}function J7(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const s=g(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),r}function X7(t,e){const n={},r=g(t,["config"]);return r!=null&&W7(r,n),n}function Q7(t,e){const n={},r=g(t,["config"]);return r!=null&&J7(r,n),n}function Z7(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>xk(u))),v(n,["tuningJobs"],s)}return n}function e$(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>vT(u))),v(n,["tuningJobs"],s)}return n}function t$(t,e){const n={},r=g(t,["name"]);r!=null&&v(n,["model"],r);const i=g(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function n$(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function r$(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xk(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&v(n,["name"],i);const o=g(t,["state"]);o!=null&&v(n,["state"],qO(o));const s=g(t,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=g(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&v(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(t,["_self"]);return y!=null&&v(n,["tunedModel"],t$(y)),n}function vT(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&v(n,["name"],i);const o=g(t,["state"]);o!=null&&v(n,["state"],qO(o));const s=g(t,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=g(t,["endTime"]);f!=null&&v(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&v(n,["error"],h);const m=g(t,["description"]);m!=null&&v(n,["description"],m);const y=g(t,["baseModel"]);y!=null&&v(n,["baseModel"],y);const T=g(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],T);const S=g(t,["preTunedModel"]);S!=null&&v(n,["preTunedModel"],S);const x=g(t,["supervisedTuningSpec"]);x!=null&&v(n,["supervisedTuningSpec"],x);const A=g(t,["preferenceOptimizationSpec"]);A!=null&&v(n,["preferenceOptimizationSpec"],A);const P=g(t,["tuningDataStats"]);P!=null&&v(n,["tuningDataStats"],P);const V=g(t,["encryptionSpec"]);V!=null&&v(n,["encryptionSpec"],V);const L=g(t,["partnerModelTuningSpec"]);L!=null&&v(n,["partnerModelTuningSpec"],L);const H=g(t,["customBaseModel"]);H!=null&&v(n,["customBaseModel"],H);const G=g(t,["experiment"]);G!=null&&v(n,["experiment"],G);const j=g(t,["labels"]);j!=null&&v(n,["labels"],j);const D=g(t,["outputUri"]);D!=null&&v(n,["outputUri"],D);const O=g(t,["pipelineJob"]);O!=null&&v(n,["pipelineJob"],O);const M=g(t,["serviceAccount"]);M!=null&&v(n,["serviceAccount"],M);const q=g(t,["tunedModelDisplayName"]);q!=null&&v(n,["tunedModelDisplayName"],q);const z=g(t,["veoTuningSpec"]);return z!=null&&v(n,["veoTuningSpec"],z),n}function i$(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&v(n,["name"],i);const o=g(t,["metadata"]);o!=null&&v(n,["metadata"],o);const s=g(t,["done"]);s!=null&&v(n,["done"],s);const u=g(t,["error"]);return u!=null&&v(n,["error"],u),n}function CR(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o$ extends ua{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Dl(Xo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:aT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=Y7(e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>vT(h))}else{const d=K7(e);return u=ve("{name}",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>xk(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=Q7(e);return u=ve("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=e$(h),y=new ZI;return Object.assign(y,m),y})}else{const d=X7(e);return u=ve("tunedModels",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=Z7(h),y=new ZI;return Object.assign(y,m),y})}}async cancel(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const d=z7(e);return u=ve("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=q7(h),y=new eR;return Object.assign(y,m),y})}else{const d=F7(e);return u=ve("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),s.then(h=>{const m=B7(h),y=new eR;return Object.assign(y,m),y})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=$7(e,e);return o=ve("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>vT(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j7(e);return o=ve("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>i$(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a${async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const s$=1024*1024*8,l$=3,u$=1e3,c$=2,Fm="x-goog-upload-status";async function f$(t,e,n){var r;const i=await Ck(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Fm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function d$(t,e,n){var r;const i=await Ck(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Fm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=LO(o),u=new qb;return Object.assign(u,s),u}async function Ck(t,e,n){var r,i;let o=0,s=0,u=new sT(new Response),f="upload";for(o=t.size;s<o;){const d=Math.min(s$,o-s),h=t.slice(s,s+d);s+d>=o&&(f+=", finalize");let m=0,y=u$;for(;m<l$&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Fm]));)m++,await p$(y),y=y*c$;if(s+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Fm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function h$(t){return{size:t.size,type:t.type}}function p$(t){return new Promise(e=>setTimeout(e,t))}class m${async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f$(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d$(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h$(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g${create(e,n,r){return new y$(e,n,r)}}class y${constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IR="x-goog-api-key";class v${constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(IR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(IR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _$="gl-node/";class E${get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new An({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=hq(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new v$(this.apiKey);this.apiClient=new hj({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:_$+"web",uploader:new m$,downloader:new a$}),this.models=new Mj(this.apiClient),this.live=new xj(this.apiClient,i,new g$),this.batches=new q9(this.apiClient),this.chats=new SH(this.models,this.apiClient),this.caches=new EH(this.apiClient),this.files=new DH(this.apiClient),this.operations=new Dj(this.apiClient),this.authTokens=new Wj(this.apiClient),this.tunings=new o$(this.apiClient),this.fileSearchStores=new r7(this.apiClient)}}var Kn=(t=>(t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.CRITICAL="CRITICAL",t))(Kn||{});const T$=new E$({apiKey:"PLACEHOLDER_API_KEY"}),b$=t=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{const i=r.result.split(",")[1];e(i)},r.onerror=n,r.readAsDataURL(t)}),S$=async(t,e)=>{const n=`
    You are DeepFraud, a world-class forensic AI expert specializing in deepfake detection, synthetic identity fraud, and digital manipulation analysis.
    
    Analyze the provided media artifact (Image, Audio, Video, or Text). 
    
    For Image/Video/Audio:
    1. Look for Visual artifacts (warping, inconsistencies in lighting, unnatural eye blinking, lip-sync errors).
    2. Look for Audio artifacts (robotic intonation, background noise gating inconsistencies, spectral anomalies).
    3. Look for Metadata or content context that suggests synthetic generation.

    For Text:
    1. Analyze for patterns typical of LLM generation (excessive balance, lack of perplexity, specific repetitive sentence structures).
    2. Check for phishing indicators or social engineering tactics.
    3. Verify factual consistency (hallucination checks).

    Also perform a specific Liveness Verification assessment to determine if the subject is a real, live human present at the time of capture, or a reproduction (screen, mask, deepfake). For Text, liveness refers to "Human Written" vs "AI Generated".

    Return a JSON object with:
    - score: number (0-100, where 0 is perfectly authentic and 100 is definitely fraud/deepfake/AI-generated)
    - verdict: "REAL" | "FAKE" | "SUSPICIOUS"
    - reasoning: A concise technical explanation of the findings (max 2 sentences).
    - indicators: An array of strings listing specific detected anomalies (e.g., "Mismatched ear rings", "Irregular blinking pattern", "Flat audio spectrum", "AI formatting patterns").
    - liveness: An object containing:
        - score: number (0-100, where 100 is definitely a Live Real Person/Human Author and 0 is definitely a Spoof/Fake/AI).
        - analysis: A brief explanation of liveness signs detected (e.g. "Micro-movements present", "Human-like stylistic errors").

    Be strict.
  `;try{const r="gemini-3-pro-preview";let i=[];if(e==="text"&&typeof t=="string")i=[{text:`Analyze this text content:

${t}`},{text:n}];else if(t instanceof Blob){const d=await b$(t);let h=t.type;h||(e==="image"&&(h="image/jpeg"),e==="audio"&&(h="audio/mp3"),e==="video"&&(h="video/mp4")),i=[{inlineData:{mimeType:h,data:d}},{text:n}]}else throw new Error("Invalid input format for selected media type");const s=(await T$.models.generateContent({model:r,contents:{parts:i},config:{responseMimeType:"application/json",responseSchema:{type:kn.OBJECT,properties:{score:{type:kn.NUMBER},verdict:{type:kn.STRING},reasoning:{type:kn.STRING},indicators:{type:kn.ARRAY,items:{type:kn.STRING}},liveness:{type:kn.OBJECT,properties:{score:{type:kn.NUMBER},analysis:{type:kn.STRING}},required:["score","analysis"]}},required:["score","verdict","reasoning","indicators","liveness"]}}})).text;if(!s)throw new Error("No response from AI");const u=JSON.parse(s);let f=Kn.LOW;return u.score>30&&(f=Kn.MEDIUM),u.score>70&&(f=Kn.HIGH),u.score>90&&(f=Kn.CRITICAL),{score:u.score,verdict:u.verdict,riskLevel:f,reasoning:u.reasoning,indicators:u.indicators,timestamp:new Date().toISOString(),mediaType:e,liveness:u.liveness}}catch(r){return console.error("Gemini Analysis Error:",r),{score:0,verdict:"UNKNOWN",riskLevel:Kn.LOW,reasoning:"Analysis failed due to API connection or format error.",indicators:["API Error"],timestamp:new Date().toISOString(),mediaType:e,liveness:{score:0,analysis:"Could not verify liveness due to error."}}}},A$=()=>{};var RR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let y=(u&15)<<2|d>>6,T=d&63;f||(T=64,s||(y=64)),r.push(n[h],n[m],n[y],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new x$;const y=o<<2|u>>4;if(r.push(y),d!==64){const T=u<<4&240|d>>2;if(r.push(T),m!==64){const S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C$=function(t){const e=Ik(t);return Rk.encodeByteArray(e,!0)},zm=function(t){return C$(t).replace(/\./g,"")},Nk=function(t){try{return Rk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=()=>I$().__FIREBASE_DEFAULTS__,N$=()=>{if(typeof process>"u"||typeof RR>"u")return;const t=RR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nk(t[1]);return e&&JSON.parse(e)},iy=()=>{try{return A$()||R$()||N$()||P$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pk=t=>{var e,n;return(n=(e=iy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},M$=t=>{const e=Pk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mk=()=>{var t;return(t=iy())==null?void 0:t.config},Dk=t=>{var e;return(e=iy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ok(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zm(JSON.stringify(n)),zm(JSON.stringify(s)),""].join(".")}const td={};function k$(){const t={prod:[],emulator:[]};for(const e of Object.keys(td))td[e]?t.emulator.push(e):t.prod.push(e);return t}function L$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let NR=!1;function kk(t,e){if(typeof window>"u"||typeof document>"u"||!gc(window.location.host)||td[t]===e||td[t]||NR)return;td[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=k$().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,T){y.setAttribute("width","24"),y.setAttribute("id",T),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{NR=!0,s()},y}function h(y,T){y.setAttribute("id",T),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=L$(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),x=n("learnmore"),A=document.getElementById(x)||document.createElement("a"),P=n("preprendIcon"),V=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const L=y.element;u(L),h(A,x);const H=d();f(V,P),L.append(V,S,A,H),document.body.appendChild(L)}o?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function V$(){var e;const t=(e=iy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q$(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H$(){return!V$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G$(){try{return typeof indexedDB=="object"}catch{return!1}}function j$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="FirebaseError";class fa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$$,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Od.prototype.create)}}class Od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?K$(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new fa(i,u,r)}}function K$(t,e){return t.replace(Y$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Y$=/\{\$([^}]+)}/g;function W$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function El(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(PR(o)&&PR(s)){if(!El(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Wf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J$(t,e){const n=new X$(t,e);return n.subscribe.bind(n)}class X${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h_),i.error===void 0&&(i.error=h_),i.complete===void 0&&(i.complete=h_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function h_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new D$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tK(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eK(t){return t===al?void 0:t}function tK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const rK={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},iK=Qe.INFO,oK={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},aK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jb{constructor(e){this.name=e,this._logLevel=iK,this._logHandler=aK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const sK=(t,e)=>e.some(n=>t instanceof n);let MR,DR;function lK(){return MR||(MR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uK(){return DR||(DR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lk=new WeakMap,_T=new WeakMap,Uk=new WeakMap,p_=new WeakMap,Xb=new WeakMap;function cK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ss(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Lk.set(n,t)}).catch(()=>{}),Xb.set(e,t),e}function fK(t){if(_T.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_T.set(t,e)}let ET={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _T.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dK(t){ET=t(ET)}function hK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(m_(this),e,...n);return Uk.set(r,e.sort?e.sort():[e]),ss(r)}:uK().includes(t)?function(...e){return t.apply(m_(this),e),ss(Lk.get(this))}:function(...e){return ss(t.apply(m_(this),e))}}function pK(t){return typeof t=="function"?hK(t):(t instanceof IDBTransaction&&fK(t),sK(t,lK())?new Proxy(t,ET):t)}function ss(t){if(t instanceof IDBRequest)return cK(t);if(p_.has(t))return p_.get(t);const e=pK(t);return e!==t&&(p_.set(t,e),Xb.set(e,t)),e}const m_=t=>Xb.get(t);function mK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=ss(s);return r&&s.addEventListener("upgradeneeded",f=>{r(ss(s.result),f.oldVersion,f.newVersion,ss(s.transaction),f)}),n&&s.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const gK=["get","getKey","getAll","getAllKeys","count"],yK=["put","add","delete","clear"],g_=new Map;function OR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(g_.get(e))return g_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gK.includes(n)))return;const o=async function(s,...u){const f=this.transaction(s,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return g_.set(e,o),o}dK(t=>({...t,get:(e,n,r)=>OR(e,n)||t.get(e,n,r),has:(e,n)=>!!OR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_K(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _K(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const TT="@firebase/app",kR="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Jb("@firebase/app"),EK="@firebase/app-compat",TK="@firebase/analytics-compat",bK="@firebase/analytics",SK="@firebase/app-check-compat",AK="@firebase/app-check",wK="@firebase/auth",xK="@firebase/auth-compat",CK="@firebase/database",IK="@firebase/data-connect",RK="@firebase/database-compat",NK="@firebase/functions",PK="@firebase/functions-compat",MK="@firebase/installations",DK="@firebase/installations-compat",OK="@firebase/messaging",kK="@firebase/messaging-compat",LK="@firebase/performance",UK="@firebase/performance-compat",VK="@firebase/remote-config",FK="@firebase/remote-config-compat",zK="@firebase/storage",BK="@firebase/storage-compat",qK="@firebase/firestore",HK="@firebase/ai",GK="@firebase/firestore-compat",jK="firebase",$K="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="[DEFAULT]",KK={[TT]:"fire-core",[EK]:"fire-core-compat",[bK]:"fire-analytics",[TK]:"fire-analytics-compat",[AK]:"fire-app-check",[SK]:"fire-app-check-compat",[wK]:"fire-auth",[xK]:"fire-auth-compat",[CK]:"fire-rtdb",[IK]:"fire-data-connect",[RK]:"fire-rtdb-compat",[NK]:"fire-fn",[PK]:"fire-fn-compat",[MK]:"fire-iid",[DK]:"fire-iid-compat",[OK]:"fire-fcm",[kK]:"fire-fcm-compat",[LK]:"fire-perf",[UK]:"fire-perf-compat",[VK]:"fire-rc",[FK]:"fire-rc-compat",[zK]:"fire-gcs",[BK]:"fire-gcs-compat",[qK]:"fire-fst",[GK]:"fire-fst-compat",[HK]:"fire-vertex","fire-js":"fire-js",[jK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Map,YK=new Map,ST=new Map;function LR(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zu(t){const e=t.name;if(ST.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;ST.set(e,t);for(const n of Bm.values())LR(n,t);for(const n of YK.values())LR(n,t);return!0}function Qb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Od("app","Firebase",WK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=$K;function Vk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ls.create("bad-app-name",{appName:String(i)});if(n||(n=Mk()),!n)throw ls.create("no-options");const o=Bm.get(i);if(o){if(El(n,o.options)&&El(r,o.config))return o;throw ls.create("duplicate-app",{appName:i})}const s=new nK(i);for(const f of ST.values())s.addComponent(f);const u=new JK(n,r,s);return Bm.set(i,u),u}function Fk(t=bT){const e=Bm.get(t);if(!e&&t===bT&&Mk())return Vk();if(!e)throw ls.create("no-app",{appName:t});return e}function us(t,e,n){let r=KK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(s.join(" "));return}Zu(new Tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK="firebase-heartbeat-database",QK=1,ld="firebase-heartbeat-store";let y_=null;function zk(){return y_||(y_=mK(XK,QK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ld)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),y_}async function ZK(t){try{const n=(await zk()).transaction(ld),r=await n.objectStore(ld).get(Bk(t));return await n.done,r}catch(e){if(e instanceof fa)Qo.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function UR(t,e){try{const r=(await zk()).transaction(ld,"readwrite");await r.objectStore(ld).put(e,Bk(t)),await r.done}catch(n){if(n instanceof fa)Qo.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function Bk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=1024,tY=30;class nY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>tY){const s=oY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VR(),{heartbeatsToSend:r,unsentEntries:i}=rY(this._heartbeatsCache.heartbeats),o=zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qo.warn(n),""}}}function VR(){return new Date().toISOString().substring(0,10)}function rY(t,e=eY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G$()?j$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function FR(t){return zm(JSON.stringify({version:2,heartbeats:t})).length}function oY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t){Zu(new Tl("platform-logger",e=>new vK(e),"PRIVATE")),Zu(new Tl("heartbeat",e=>new nY(e),"PRIVATE")),us(TT,kR,t),us(TT,kR,"esm2020"),us("fire-js","")}aY("");var sY="firebase",lY="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(sY,lY,"app");function qk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uY=qk,Hk=new Od("auth","Firebase",qk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Jb("@firebase/auth");function cY(t,...e){qm.logLevel<=Qe.WARN&&qm.warn(`Auth (${yc}): ${t}`,...e)}function vm(t,...e){qm.logLevel<=Qe.ERROR&&qm.error(`Auth (${yc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw eS(t,...e)}function Ri(t,...e){return eS(t,...e)}function Zb(t,e,n){const r={...uY(),[e]:n};return new Od("auth","Firebase",r).create(e,{appName:t.name})}function Ko(t){return Zb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&oi(t,"argument-error"),Zb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Hk.create(t,...e)}function Oe(t,e,...n){if(!t)throw eS(e,...n)}function Ho(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vm(e),new Error(e)}function Zo(t,e){t||Ho(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dY(){return zR()==="http:"||zR()==="https:"}function zR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dY()||z$()||"connection"in navigator)?navigator.onLine:!0}function pY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zo(n>e,"Short delay should be less than long delay!"),this.isMobile=U$()||B$()}get(){return hY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){Zo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yY=new Ld(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function As(t,e,n,r,i={}){return jk(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=kd({key:t.config.apiKey,...s}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...o};return F$()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&gc(t.emulatorConfig.host)&&(d.credentials="include"),Gk.fetch()(await $k(t,t.config.apiHost,n,u),d)})}async function jk(t,e,n){t._canInitEmulator=!1;const r={...mY,...e};try{const i=new _Y(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Gp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(t,"credential-already-in-use",s);if(f==="EMAIL_EXISTS")throw Gp(t,"email-already-in-use",s);if(f==="USER_DISABLED")throw Gp(t,"user-disabled",s);const h=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Zb(t,h,d);oi(t,h)}}catch(i){if(i instanceof fa)throw i;oi(t,"network-request-failed",{message:String(i)})}}async function Ud(t,e,n,r,i={}){const o=await As(t,e,n,r,i);return"mfaPendingCredential"in o&&oi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function $k(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?tS(t.config,i):`${t.config.apiScheme}://${i}`;return gY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function vY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _Y{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),yY.get())})}}function Gp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ri(t,e,r);return i.customData._tokenResponse=n,i}function BR(t){return t!==void 0&&t.enterprise!==void 0}class EY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TY(t,e){return As(t,"GET","/v2/recaptchaConfig",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bY(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function Hm(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SY(t,e=!1){const n=or(t),r=await n.getIdToken(e),i=nS(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:nd(v_(i.auth_time)),issuedAtTime:nd(v_(i.iat)),expirationTime:nd(v_(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function v_(t){return Number(t)*1e3}function nS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nk(n);return i?JSON.parse(i):(vm("Failed to decode base64 JWT payload"),null)}catch(i){return vm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qR(t){const e=nS(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fa&&AY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await ud(t,Hm(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?Kk(i.providerUserInfo):[],s=CY(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=u?f:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function xY(t){const e=or(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IY(t,e){const n=await jk(t,{},async()=>{const r=kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await $k(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&gc(t.emulatorConfig.host)&&(f.credentials="include"),Gk.fetch()(s,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RY(t,e){return As(t,"POST","/v2/accounts:revokeToken",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=qR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await IY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Gu;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return Ho("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new wY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ud(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SY(this,e)}reload(){return xY(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Ko(this.auth));const e=await this.getIdToken();return await ud(this,bY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:T,providerData:S,stsTokenManager:x}=n;Oe(m&&x,e,"internal-error");const A=Gu.fromJSON(this.name,x);Oe(typeof m=="string",e,"internal-error"),Qa(r,e.name),Qa(i,e.name),Oe(typeof y=="boolean",e,"internal-error"),Oe(typeof T=="boolean",e,"internal-error"),Qa(o,e.name),Qa(s,e.name),Qa(u,e.name),Qa(f,e.name),Qa(d,e.name),Qa(h,e.name);const P=new wi({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:T,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:A,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(P.providerData=S.map(V=>({...V}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gu;i.updateFromServerResponse(n);const o=new wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Kk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Gu;u.updateFromIdToken(r);const f=new wi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Map;function Go(t){Zo(t instanceof Function,"Expected a class definition");let e=HR.get(t);return e?(Zo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yk.type="NONE";const GR=Yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_m(this.userKey,i.apiKey,o),this.fullPersistenceKey=_m("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hm(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(Go(GR),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Go(GR);const s=_m(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(s);if(h){let m;if(typeof h=="string"){const y=await Hm(e,{idToken:h}).catch(()=>{});if(!y)break;m=await wi._fromGetAccountInfoResponse(e,y,h)}else m=wi._fromJSON(e,h);d!==o&&(u=m),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ju(o,e,r):(o=f[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eL(e))return"Blackberry";if(tL(e))return"Webos";if(Jk(e))return"Safari";if((e.includes("chrome/")||Xk(e))&&!e.includes("edge/"))return"Chrome";if(Zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wk(t=Qn()){return/firefox\//i.test(t)}function Jk(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xk(t=Qn()){return/crios\//i.test(t)}function Qk(t=Qn()){return/iemobile/i.test(t)}function Zk(t=Qn()){return/android/i.test(t)}function eL(t=Qn()){return/blackberry/i.test(t)}function tL(t=Qn()){return/webos/i.test(t)}function rS(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NY(t=Qn()){var e;return rS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function PY(){return q$()&&document.documentMode===10}function nL(t=Qn()){return rS(t)||Zk(t)||tL(t)||eL(t)||/windows phone/i.test(t)||Qk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e=[]){let n;switch(t){case"Browser":n=jR(Qn());break;case"Worker":n=`${jR(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const f=e(o);s(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DY(t,e={}){return As(t,"GET","/v2/passwordPolicy",Ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=6;class kY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $R(this),this.idTokenSubscription=new $R(this),this.beforeStateQueue=new MY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Go(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hm(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Pr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!s||s===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Ko(this));const n=e?or(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DY(this),n=new kY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Go(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[Go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{s=!0,f()}}else{const f=e.addObserver(n);return()=>{s=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ws(t){return or(t)}class $R{constructor(e){this.auth=e,this.observer=null,this.addObserver=J$(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UY(t){oy=t}function iL(t){return oy.loadJS(t)}function VY(){return oy.recaptchaEnterpriseScript}function FY(){return oy.gapiScript}function zY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BY{constructor(){this.enterprise=new qY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HY="recaptcha-enterprise",oL="NO_RECAPTCHA";class GY{constructor(e){this.type=HY,this.auth=ws(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,u)=>{TY(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new EY(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(f=>{u(f)})})}function i(o,s,u){const f=window.grecaptcha;BR(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(oL)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BY().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(u=>{if(!n&&BR(window.grecaptcha))i(u,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let f=VY();f.length!==0&&(f+=u),iL(f).then(()=>{i(u,o,s)}).catch(d=>{s(d)})}}).catch(u=>{s(u)})})}}async function KR(t,e,n,r=!1,i=!1){const o=new GY(t);let s;if(i)s=oL;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xT(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await KR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await KR(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t,e){const n=Qb(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(El(o,e??{}))return i;oi(i,"already-initialized")}return n.initialize({options:e})}function $Y(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Go);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KY(t,e,n){const r=ws(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=aL(e),{host:s,port:u}=YY(e),f=u===null?"":`:${u}`,d={url:`${o}//${s}${f}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(El(d,r.config.emulator)&&El(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,gc(s)?(Ok(`${o}//${s}${f}`),kk("Auth",!0)):WY()}function aL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YY(t){const e=aL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:YR(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:YR(s)}}}function YR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ho("not implemented")}_getIdTokenResponse(e){return Ho("not implemented")}_linkToIdToken(e,n){return Ho("not implemented")}_getReauthenticationResolver(e){return Ho("not implemented")}}async function JY(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XY(t,e){return Ud(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QY(t,e){return Ud(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}async function ZY(t,e){return Ud(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends iS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xT(e,n,"signInWithPassword",XY);case"emailLink":return QY(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xT(e,r,"signUpPassword",JY);case"emailLink":return ZY(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e){return Ud(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="http://localhost";class bl extends iS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new bl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return $u(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$u(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$u(e,n)}buildRequest(){const e={requestUri:eW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nW(t){const e=Yf(Wf(t)).link,n=e?Yf(Wf(e)).deep_link_id:null,r=Yf(Wf(t)).deep_link_id;return(r?Yf(Wf(r)).link:null)||r||n||e||t}class oS{constructor(e){const n=Yf(Wf(e)),r=n.apiKey??null,i=n.oobCode??null,o=tW(n.mode??null);Oe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nW(e);try{return new oS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.providerId=vc.PROVIDER_ID}static credential(e,n){return cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=oS.parseLink(n);return Oe(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}vc.PROVIDER_ID="password";vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends aS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Vd{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Vd{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Vd{constructor(){super("twitter.com")}static credential(e,n){return bl._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rW(t,e){return Ud(t,"POST","/v1/accounts:signUp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await wi._fromIdTokenResponse(e,r,i),s=WR(r);return new Sl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WR(r);return new Sl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends fa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jm(e,n,r,i)}}function sL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(t,o,e,r):o})}async function iW(t,e,n=!1){const r=await ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oW(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Ko(r));const i="reauthenticate";try{const o=await ud(t,sL(r,i,e,t),n);Oe(o.idToken,r,"internal-error");const s=nS(o.idToken);Oe(s,r,"internal-error");const{sub:u}=s;return Oe(t.uid===u,r,"user-mismatch"),Sl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e,n=!1){if(Pr(t.app))return Promise.reject(Ko(t));const r="signIn",i=await sL(t,r,e),o=await Sl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function aW(t,e){return lL(ws(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t){const e=ws(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sW(t,e,n){if(Pr(t.app))return Promise.reject(Ko(t));const r=ws(t),s=await xT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rW).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&uL(t),f}),u=await Sl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function lW(t,e,n){return Pr(t.app)?Promise.reject(Ko(t)):aW(or(t),vc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uL(t),r})}function uW(t,e,n,r){return or(t).onIdTokenChanged(e,n,r)}function cW(t,e,n){return or(t).beforeAuthStateChanged(e,n)}function fW(t,e,n,r){return or(t).onAuthStateChanged(e,n,r)}function dW(t){return or(t).signOut()}const $m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($m,"1"),this.storage.removeItem($m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=1e3,pW=10;class fL extends cL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,f)=>{this.notifyListeners(s,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);PY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fL.type="LOCAL";const mW=fL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL extends cL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dL.type="SESSION";const hL=dL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ay(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async d=>d(n.origin,o)),f=await gW(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ay.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,f)=>{const d=sS("",20);i.port1.start();const h=setTimeout(()=>{f(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(h),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(){return window}function vW(t){lo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){return typeof lo().WorkerGlobalScope<"u"&&typeof lo().importScripts=="function"}async function _W(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function TW(){return pL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="firebaseLocalStorageDb",bW=1,Km="firebaseLocalStorage",gL="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sy(t,e){return t.transaction([Km],e?"readwrite":"readonly").objectStore(Km)}function SW(){const t=indexedDB.deleteDatabase(mL);return new Fd(t).toPromise()}function CT(){const t=indexedDB.open(mL,bW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Km,{keyPath:gL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Km)?e(r):(r.close(),await SW(),e(await CT()))})})}async function JR(t,e,n){const r=sy(t,!0).put({[gL]:e,value:n});return new Fd(r).toPromise()}async function AW(t,e){const n=sy(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function XR(t,e){const n=sy(t,!0).delete(e);return new Fd(n).toPromise()}const wW=800,xW=3;class yL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ay._getInstance(TW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await _W(),!this.activeServiceWorker)return;this.sender=new yW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CT();return await JR(e,$m,"1"),await XR(e,$m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=sy(i,!1).getAll();return new Fd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yL.type="LOCAL";const CW=yL;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){return e?Go(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends iS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $u(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $u(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $u(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IW(t){return lL(t.auth,new lS(t),t.bypassAuthState)}function RW(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),oW(n,new lS(t),t.bypassAuthState)}async function NW(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),iW(n,new lS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IW;case"linkViaPopup":case"linkViaRedirect":return NW;case"reauthViaPopup":case"reauthViaRedirect":return RW;default:oi(this.auth,"internal-error")}}resolve(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=new Ld(2e3,1e4);async function MW(t,e,n){if(Pr(t.app))return Promise.reject(Ri(t,"operation-not-supported-in-this-environment"));const r=ws(t);fY(t,e,aS);const i=vL(r,n);return new cl(r,"signInViaPopup",e,i).executeNotNull()}class cl extends _L{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Zo(this.filter.length===1,"Popup operations only handle one event");const e=sS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PW.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW="pendingRedirect",Em=new Map;class OW extends _L{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const r=await kW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kW(t,e){const n=VW(e),r=UW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LW(t,e){Em.set(t._key(),e)}function UW(t){return Go(t._redirectPersistence)}function VW(t){return _m(DW,t.config.apiKey,t.name)}async function FW(t,e,n=!1){if(Pr(t.app))return Promise.reject(Ko(t));const r=ws(t),i=vL(r,e),s=await new OW(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=600*1e3;class BW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zW&&this.cachedEventUids.clear(),this.cachedEventUids.has(QR(e))}saveEventToCache(e){this.cachedEventUids.add(QR(e)),this.lastProcessedEventTime=Date.now()}}function QR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jW=/^https?/;async function $W(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HW(t);for(const n of e)try{if(KW(n))return}catch{}oi(t,"unauthorized-domain")}function KW(t){const e=AT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!jW.test(n))return!1;if(GW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=new Ld(3e4,6e4);function ZR(){const t=lo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WW(t){return new Promise((e,n)=>{var i,o,s;function r(){ZR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZR(),n(Ri(t,"network-request-failed"))},timeout:YW.get()})}if((o=(i=lo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=lo().gapi)!=null&&s.load)r();else{const u=zY("iframefcb");return lo()[u]=()=>{gapi.load?r():n(Ri(t,"network-request-failed"))},iL(`${FY()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw Tm=null,e})}let Tm=null;function JW(t){return Tm=Tm||WW(t),Tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=new Ld(5e3,15e3),QW="__/auth/iframe",ZW="emulator/auth/iframe",eJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nJ(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tS(e,ZW):`https://${t.config.authDomain}/${QW}`,r={apiKey:e.apiKey,appName:t.name,v:yc},i=tJ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kd(r).slice(1)}`}async function rJ(t){const e=await JW(t),n=lo().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:nJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eJ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ri(t,"network-request-failed"),u=lo().setTimeout(()=>{o(s)},XW.get());function f(){lo().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oJ=500,aJ=600,sJ="_blank",lJ="http://localhost";class eN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uJ(t,e,n,r=oJ,i=aJ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...iJ,width:r.toString(),height:i.toString(),top:o,left:s},d=Qn().toLowerCase();n&&(u=Xk(d)?sJ:n),Wk(d)&&(e=e||lJ,f.scrollbars="yes");const h=Object.entries(f).reduce((y,[T,S])=>`${y}${T}=${S},`,"");if(NY(d)&&u!=="_self")return cJ(e||"",u),new eN(null);const m=window.open(e||"",u,h);Oe(m,t,"popup-blocked");try{m.focus()}catch{}return new eN(m)}function cJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ="__/auth/handler",dJ="emulator/auth/handler",hJ=encodeURIComponent("fac");async function tN(t,e,n,r,i,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yc,eventId:i};if(e instanceof aS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",W$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Vd){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const f=await t._getAppCheckToken(),d=f?`#${hJ}=${encodeURIComponent(f)}`:"";return`${pJ(t)}?${kd(u).slice(1)}${d}`}function pJ({config:t}){return t.emulator?tS(t,dJ):`https://${t.authDomain}/${fJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="webStorageSupport";class mJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hL,this._completeRedirectFn=FW,this._overrideRedirectResult=LW}async _openPopup(e,n,r,i){var s;Zo((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tN(e,n,r,AT(),i);return uJ(e,o,sS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await tN(e,n,r,AT(),i);return vW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Zo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rJ(e),r=new BW(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(__,{type:__},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[__];o!==void 0&&n(!!o),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$W(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nL()||Jk()||rS()}}const gJ=mJ;var nN="@firebase/auth",rN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _J(t){Zu(new Tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rL(t)},d=new LY(r,i,o,f);return $Y(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zu(new Tl("auth-internal",e=>{const n=ws(e.getProvider("auth").getImmediate());return(r=>new yJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(nN,rN,vJ(t)),us(nN,rN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ=300,TJ=Dk("authIdTokenMaxAge")||EJ;let iN=null;const bJ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TJ)return;const i=n==null?void 0:n.token;iN!==i&&(iN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SJ(t=Fk()){const e=Qb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jY(t,{popupRedirectResolver:gJ,persistence:[CW,mW,hL]}),r=Dk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=bJ(o.toString());cW(n,s,()=>s(n.currentUser)),uW(n,u=>s(u))}}const i=Pk("auth");return i&&KY(n,`http://${i}`),n}function AJ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}UY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ri("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",AJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_J("Browser");var oN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,TL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,O){function M(){}M.prototype=O.prototype,D.F=O.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(q,z,F){for(var B=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)B[ge-2]=arguments[ge];return O.prototype[z].apply(q,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,O,M){M||(M=0);const q=Array(16);if(typeof O=="string")for(var z=0;z<16;++z)q[z]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(z=0;z<16;++z)q[z]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=D.g[0],M=D.g[1],z=D.g[2];let F=D.g[3],B;B=O+(F^M&(z^F))+q[0]+3614090360&4294967295,O=M+(B<<7&4294967295|B>>>25),B=F+(z^O&(M^z))+q[1]+3905402710&4294967295,F=O+(B<<12&4294967295|B>>>20),B=z+(M^F&(O^M))+q[2]+606105819&4294967295,z=F+(B<<17&4294967295|B>>>15),B=M+(O^z&(F^O))+q[3]+3250441966&4294967295,M=z+(B<<22&4294967295|B>>>10),B=O+(F^M&(z^F))+q[4]+4118548399&4294967295,O=M+(B<<7&4294967295|B>>>25),B=F+(z^O&(M^z))+q[5]+1200080426&4294967295,F=O+(B<<12&4294967295|B>>>20),B=z+(M^F&(O^M))+q[6]+2821735955&4294967295,z=F+(B<<17&4294967295|B>>>15),B=M+(O^z&(F^O))+q[7]+4249261313&4294967295,M=z+(B<<22&4294967295|B>>>10),B=O+(F^M&(z^F))+q[8]+1770035416&4294967295,O=M+(B<<7&4294967295|B>>>25),B=F+(z^O&(M^z))+q[9]+2336552879&4294967295,F=O+(B<<12&4294967295|B>>>20),B=z+(M^F&(O^M))+q[10]+4294925233&4294967295,z=F+(B<<17&4294967295|B>>>15),B=M+(O^z&(F^O))+q[11]+2304563134&4294967295,M=z+(B<<22&4294967295|B>>>10),B=O+(F^M&(z^F))+q[12]+1804603682&4294967295,O=M+(B<<7&4294967295|B>>>25),B=F+(z^O&(M^z))+q[13]+4254626195&4294967295,F=O+(B<<12&4294967295|B>>>20),B=z+(M^F&(O^M))+q[14]+2792965006&4294967295,z=F+(B<<17&4294967295|B>>>15),B=M+(O^z&(F^O))+q[15]+1236535329&4294967295,M=z+(B<<22&4294967295|B>>>10),B=O+(z^F&(M^z))+q[1]+4129170786&4294967295,O=M+(B<<5&4294967295|B>>>27),B=F+(M^z&(O^M))+q[6]+3225465664&4294967295,F=O+(B<<9&4294967295|B>>>23),B=z+(O^M&(F^O))+q[11]+643717713&4294967295,z=F+(B<<14&4294967295|B>>>18),B=M+(F^O&(z^F))+q[0]+3921069994&4294967295,M=z+(B<<20&4294967295|B>>>12),B=O+(z^F&(M^z))+q[5]+3593408605&4294967295,O=M+(B<<5&4294967295|B>>>27),B=F+(M^z&(O^M))+q[10]+38016083&4294967295,F=O+(B<<9&4294967295|B>>>23),B=z+(O^M&(F^O))+q[15]+3634488961&4294967295,z=F+(B<<14&4294967295|B>>>18),B=M+(F^O&(z^F))+q[4]+3889429448&4294967295,M=z+(B<<20&4294967295|B>>>12),B=O+(z^F&(M^z))+q[9]+568446438&4294967295,O=M+(B<<5&4294967295|B>>>27),B=F+(M^z&(O^M))+q[14]+3275163606&4294967295,F=O+(B<<9&4294967295|B>>>23),B=z+(O^M&(F^O))+q[3]+4107603335&4294967295,z=F+(B<<14&4294967295|B>>>18),B=M+(F^O&(z^F))+q[8]+1163531501&4294967295,M=z+(B<<20&4294967295|B>>>12),B=O+(z^F&(M^z))+q[13]+2850285829&4294967295,O=M+(B<<5&4294967295|B>>>27),B=F+(M^z&(O^M))+q[2]+4243563512&4294967295,F=O+(B<<9&4294967295|B>>>23),B=z+(O^M&(F^O))+q[7]+1735328473&4294967295,z=F+(B<<14&4294967295|B>>>18),B=M+(F^O&(z^F))+q[12]+2368359562&4294967295,M=z+(B<<20&4294967295|B>>>12),B=O+(M^z^F)+q[5]+4294588738&4294967295,O=M+(B<<4&4294967295|B>>>28),B=F+(O^M^z)+q[8]+2272392833&4294967295,F=O+(B<<11&4294967295|B>>>21),B=z+(F^O^M)+q[11]+1839030562&4294967295,z=F+(B<<16&4294967295|B>>>16),B=M+(z^F^O)+q[14]+4259657740&4294967295,M=z+(B<<23&4294967295|B>>>9),B=O+(M^z^F)+q[1]+2763975236&4294967295,O=M+(B<<4&4294967295|B>>>28),B=F+(O^M^z)+q[4]+1272893353&4294967295,F=O+(B<<11&4294967295|B>>>21),B=z+(F^O^M)+q[7]+4139469664&4294967295,z=F+(B<<16&4294967295|B>>>16),B=M+(z^F^O)+q[10]+3200236656&4294967295,M=z+(B<<23&4294967295|B>>>9),B=O+(M^z^F)+q[13]+681279174&4294967295,O=M+(B<<4&4294967295|B>>>28),B=F+(O^M^z)+q[0]+3936430074&4294967295,F=O+(B<<11&4294967295|B>>>21),B=z+(F^O^M)+q[3]+3572445317&4294967295,z=F+(B<<16&4294967295|B>>>16),B=M+(z^F^O)+q[6]+76029189&4294967295,M=z+(B<<23&4294967295|B>>>9),B=O+(M^z^F)+q[9]+3654602809&4294967295,O=M+(B<<4&4294967295|B>>>28),B=F+(O^M^z)+q[12]+3873151461&4294967295,F=O+(B<<11&4294967295|B>>>21),B=z+(F^O^M)+q[15]+530742520&4294967295,z=F+(B<<16&4294967295|B>>>16),B=M+(z^F^O)+q[2]+3299628645&4294967295,M=z+(B<<23&4294967295|B>>>9),B=O+(z^(M|~F))+q[0]+4096336452&4294967295,O=M+(B<<6&4294967295|B>>>26),B=F+(M^(O|~z))+q[7]+1126891415&4294967295,F=O+(B<<10&4294967295|B>>>22),B=z+(O^(F|~M))+q[14]+2878612391&4294967295,z=F+(B<<15&4294967295|B>>>17),B=M+(F^(z|~O))+q[5]+4237533241&4294967295,M=z+(B<<21&4294967295|B>>>11),B=O+(z^(M|~F))+q[12]+1700485571&4294967295,O=M+(B<<6&4294967295|B>>>26),B=F+(M^(O|~z))+q[3]+2399980690&4294967295,F=O+(B<<10&4294967295|B>>>22),B=z+(O^(F|~M))+q[10]+4293915773&4294967295,z=F+(B<<15&4294967295|B>>>17),B=M+(F^(z|~O))+q[1]+2240044497&4294967295,M=z+(B<<21&4294967295|B>>>11),B=O+(z^(M|~F))+q[8]+1873313359&4294967295,O=M+(B<<6&4294967295|B>>>26),B=F+(M^(O|~z))+q[15]+4264355552&4294967295,F=O+(B<<10&4294967295|B>>>22),B=z+(O^(F|~M))+q[6]+2734768916&4294967295,z=F+(B<<15&4294967295|B>>>17),B=M+(F^(z|~O))+q[13]+1309151649&4294967295,M=z+(B<<21&4294967295|B>>>11),B=O+(z^(M|~F))+q[4]+4149444226&4294967295,O=M+(B<<6&4294967295|B>>>26),B=F+(M^(O|~z))+q[11]+3174756917&4294967295,F=O+(B<<10&4294967295|B>>>22),B=z+(O^(F|~M))+q[2]+718787259&4294967295,z=F+(B<<15&4294967295|B>>>17),B=M+(F^(z|~O))+q[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(z+(B<<21&4294967295|B>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+F&4294967295}r.prototype.v=function(D,O){O===void 0&&(O=D.length);const M=O-this.blockSize,q=this.C;let z=this.h,F=0;for(;F<O;){if(z==0)for(;F<=M;)i(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<O;)if(q[z++]=D.charCodeAt(F++),z==this.blockSize){i(this,q),z=0;break}}else for(;F<O;)if(q[z++]=D[F++],z==this.blockSize){i(this,q),z=0;break}}this.h=z,this.o+=O},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;O=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=O&255,O/=256;for(this.v(D),D=Array(16),O=0,M=0;M<4;++M)for(let q=0;q<32;q+=8)D[O++]=this.g[M]>>>q&255;return D};function o(D,O){var M=u;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=O(D)}function s(D,O){this.h=O;const M=[];let q=!0;for(let z=D.length-1;z>=0;z--){const F=D[z]|0;q&&F==O||(M[z]=F,q=!1)}this.g=M}var u={};function f(D){return-128<=D&&D<128?o(D,function(O){return new s([O|0],O<0?-1:0)}):new s([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(D<0)return A(d(-D));const O=[];let M=1;for(let q=0;D>=M;q++)O[q]=D/M|0,M*=4294967296;return new s(O,0)}function h(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return A(h(D.substring(1),O));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(O,8));let q=m;for(let F=0;F<D.length;F+=8){var z=Math.min(8,D.length-F);const B=parseInt(D.substring(F,F+z),O);z<8?(z=d(Math.pow(O,z)),q=q.j(z).add(d(B))):(q=q.j(M),q=q.add(d(B)))}return q}var m=f(0),y=f(1),T=f(16777216);t=s.prototype,t.m=function(){if(x(this))return-A(this).m();let D=0,O=1;for(let M=0;M<this.g.length;M++){const q=this.i(M);D+=(q>=0?q:4294967296+q)*O,O*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(x(this))return"-"+A(this).toString(D);const O=d(Math.pow(D,6));var M=this;let q="";for(;;){const z=H(M,O).g;M=P(M,z.j(O));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=z,S(M))return F+q;for(;F.length<6;)F="0"+F;q=F+q}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(let O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=P(this,D),x(D)?-1:S(D)?0:1};function A(D){const O=D.g.length,M=[];for(let q=0;q<O;q++)M[q]=~D.g[q];return new s(M,~D.h).add(y)}t.abs=function(){return x(this)?A(this):this},t.add=function(D){const O=Math.max(this.g.length,D.g.length),M=[];let q=0;for(let z=0;z<=O;z++){let F=q+(this.i(z)&65535)+(D.i(z)&65535),B=(F>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);q=B>>>16,F&=65535,B&=65535,M[z]=B<<16|F}return new s(M,M[M.length-1]&-2147483648?-1:0)};function P(D,O){return D.add(A(O))}t.j=function(D){if(S(this)||S(D))return m;if(x(this))return x(D)?A(this).j(A(D)):A(A(this).j(D));if(x(D))return A(this.j(A(D)));if(this.l(T)<0&&D.l(T)<0)return d(this.m()*D.m());const O=this.g.length+D.g.length,M=[];for(var q=0;q<2*O;q++)M[q]=0;for(q=0;q<this.g.length;q++)for(let z=0;z<D.g.length;z++){const F=this.i(q)>>>16,B=this.i(q)&65535,ge=D.i(z)>>>16,Re=D.i(z)&65535;M[2*q+2*z]+=B*Re,V(M,2*q+2*z),M[2*q+2*z+1]+=F*Re,V(M,2*q+2*z+1),M[2*q+2*z+1]+=B*ge,V(M,2*q+2*z+1),M[2*q+2*z+2]+=F*ge,V(M,2*q+2*z+2)}for(D=0;D<O;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=O;D<2*O;D++)M[D]=0;return new s(M,0)};function V(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function L(D,O){this.g=D,this.h=O}function H(D,O){if(S(O))throw Error("division by zero");if(S(D))return new L(m,m);if(x(D))return O=H(A(D),O),new L(A(O.g),A(O.h));if(x(O))return O=H(D,A(O)),new L(A(O.g),O.h);if(D.g.length>30){if(x(D)||x(O))throw Error("slowDivide_ only works with positive integers.");for(var M=y,q=O;q.l(D)<=0;)M=G(M),q=G(q);var z=j(M,1),F=j(q,1);for(q=j(q,2),M=j(M,2);!S(q);){var B=F.add(q);B.l(D)<=0&&(z=z.add(M),F=B),q=j(q,1),M=j(M,1)}return O=P(D,z.j(O)),new L(z,O)}for(z=m;D.l(O)>=0;){for(M=Math.max(1,Math.floor(D.m()/O.m())),q=Math.ceil(Math.log(M)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),F=d(M),B=F.j(O);x(B)||B.l(D)>0;)M-=q,F=d(M),B=F.j(O);S(F)&&(F=y),z=z.add(F),D=P(D,B)}return new L(z,D)}t.B=function(D){return H(this,D).h},t.and=function(D){const O=Math.max(this.g.length,D.g.length),M=[];for(let q=0;q<O;q++)M[q]=this.i(q)&D.i(q);return new s(M,this.h&D.h)},t.or=function(D){const O=Math.max(this.g.length,D.g.length),M=[];for(let q=0;q<O;q++)M[q]=this.i(q)|D.i(q);return new s(M,this.h|D.h)},t.xor=function(D){const O=Math.max(this.g.length,D.g.length),M=[];for(let q=0;q<O;q++)M[q]=this.i(q)^D.i(q);return new s(M,this.h^D.h)};function G(D){const O=D.g.length+1,M=[];for(let q=0;q<O;q++)M[q]=D.i(q)<<1|D.i(q-1)>>>31;return new s(M,D.h)}function j(D,O){const M=O>>5;O%=32;const q=D.g.length-M,z=[];for(let F=0;F<q;F++)z[F]=O>0?D.i(F+M)>>>O|D.i(F+M+1)<<32-O:D.i(F+M);return new s(z,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,cs=s}).apply(typeof oN<"u"?oN:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bL,Jf,SL,bm,IT,AL,wL,xL;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var w=0;w<_.length;++w){var I=_[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(_,w){if(w)e:{var I=r;_=_.split(".");for(var U=0;U<_.length-1;U++){var J=_[U];if(!(J in I))break e;I=I[J]}_=_[_.length-1],U=I[_],w=w(U),w!=U&&w!=null&&e(I,_,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(w){var I=[],U;for(U in w)Object.prototype.hasOwnProperty.call(w,U)&&I.push([U,w[U]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(_){var w=typeof _;return w=="object"&&_!=null||w=="function"}function f(_,w,I){return _.call.apply(_.bind,arguments)}function d(_,w,I){return d=f,d.apply(null,arguments)}function h(_,w){var I=Array.prototype.slice.call(arguments,1);return function(){var U=I.slice();return U.push.apply(U,arguments),_.apply(this,U)}}function m(_,w){function I(){}I.prototype=w.prototype,_.Z=w.prototype,_.prototype=new I,_.prototype.constructor=_,_.Ob=function(U,J,te){for(var pe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)pe[qe-2]=arguments[qe];return w.prototype[J].apply(U,pe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function T(_){const w=_.length;if(w>0){const I=Array(w);for(let U=0;U<w;U++)I[U]=_[U];return I}return[]}function S(_,w){for(let U=1;U<arguments.length;U++){const J=arguments[U];var I=typeof J;if(I=I!="object"?I:J?Array.isArray(J)?"array":I:"null",I=="array"||I=="object"&&typeof J.length=="number"){I=_.length||0;const te=J.length||0;_.length=I+te;for(let pe=0;pe<te;pe++)_[I+pe]=J[pe]}else _.push(J)}}class x{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(_){s.setTimeout(()=>{throw _},0)}function P(){var _=D;let w=null;return _.g&&(w=_.g,_.g=_.g.next,_.g||(_.h=null),w.next=null),w}class V{constructor(){this.h=this.g=null}add(w,I){const U=L.get();U.set(w,I),this.h?this.h.next=U:this.g=U,this.h=U}}var L=new x(()=>new H,_=>_.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let G,j=!1,D=new V,O=()=>{const _=Promise.resolve(void 0);G=()=>{_.then(M)}};function M(){for(var _;_=P();){try{_.h.call(_.g)}catch(I){A(I)}var w=L;w.j(_),w.h<100&&(w.h++,_.next=w.g,w.g=_)}j=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(_,w){this.type=_,this.g=this.target=w,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,w=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const I=()=>{};s.addEventListener("test",I,w),s.removeEventListener("test",I,w)}catch{}return _})();function B(_){return/^[\s\xa0]*$/.test(_)}function ge(_,w){z.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,w)}m(ge,z),ge.prototype.init=function(_,w){const I=this.type=_.type,U=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=w,w=_.relatedTarget,w||(I=="mouseover"?w=_.fromElement:I=="mouseout"&&(w=_.toElement)),this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),Z=0;function fe(_,w,I,U,J){this.listener=_,this.proxy=null,this.src=w,this.type=I,this.capture=!!U,this.ha=J,this.key=++Z,this.da=this.fa=!1}function ye(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Se(_,w,I){for(const U in _)w.call(I,_[U],U,_)}function Me(_,w){for(const I in _)w.call(void 0,_[I],I,_)}function K(_){const w={};for(const I in _)w[I]=_[I];return w}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(_,w){let I,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(I in U)_[I]=U[I];for(let te=0;te<ie.length;te++)I=ie[te],Object.prototype.hasOwnProperty.call(U,I)&&(_[I]=U[I])}}function me(_){this.src=_,this.g={},this.h=0}me.prototype.add=function(_,w,I,U,J){const te=_.toString();_=this.g[te],_||(_=this.g[te]=[],this.h++);const pe=Le(_,w,U,J);return pe>-1?(w=_[pe],I||(w.fa=!1)):(w=new fe(w,this.src,te,!!U,J),w.fa=I,_.push(w)),w};function Ne(_,w){const I=w.type;if(I in _.g){var U=_.g[I],J=Array.prototype.indexOf.call(U,w,void 0),te;(te=J>=0)&&Array.prototype.splice.call(U,J,1),te&&(ye(w),_.g[I].length==0&&(delete _.g[I],_.h--))}}function Le(_,w,I,U){for(let J=0;J<_.length;++J){const te=_[J];if(!te.da&&te.listener==w&&te.capture==!!I&&te.ha==U)return J}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Mt={};function ae(_,w,I,U,J){if(Array.isArray(w)){for(let te=0;te<w.length;te++)ae(_,w[te],I,U,J);return null}return I=va(I),_&&_[Re]?_.J(w,I,u(U)?!!U.capture:!1,J):Fe(_,w,I,!1,U,J)}function Fe(_,w,I,U,J,te){if(!w)throw Error("Invalid event type");const pe=u(J)?!!J.capture:!!J;let qe=Vt(_);if(qe||(_[De]=qe=new me(_)),I=qe.add(w,I,U,pe,te),I.proxy)return I;if(U=$e(),I.proxy=U,U.src=_,U.listener=I,_.addEventListener)F||(J=pe),J===void 0&&(J=!1),_.addEventListener(w.toString(),U,J);else if(_.attachEvent)_.attachEvent(Ke(w.toString()),U);else if(_.addListener&&_.removeListener)_.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return I}function $e(){function _(I){return w.call(_.src,_.listener,I)}const w=an;return _}function de(_,w,I,U,J){if(Array.isArray(w))for(var te=0;te<w.length;te++)de(_,w[te],I,U,J);else U=u(U)?!!U.capture:!!U,I=va(I),_&&_[Re]?(_=_.i,te=String(w).toString(),te in _.g&&(w=_.g[te],I=Le(w,I,U,J),I>-1&&(ye(w[I]),Array.prototype.splice.call(w,I,1),w.length==0&&(delete _.g[te],_.h--)))):_&&(_=Vt(_))&&(w=_.g[w.toString()],_=-1,w&&(_=Le(w,I,U,J)),(I=_>-1?w[_]:null)&&Ut(I))}function Ut(_){if(typeof _!="number"&&_&&!_.da){var w=_.src;if(w&&w[Re])Ne(w.i,_);else{var I=_.type,U=_.proxy;w.removeEventListener?w.removeEventListener(I,U,_.capture):w.detachEvent?w.detachEvent(Ke(I),U):w.addListener&&w.removeListener&&w.removeListener(U),(I=Vt(w))?(Ne(I,_),I.h==0&&(I.src=null,w[De]=null)):ye(_)}}}function Ke(_){return _ in Mt?Mt[_]:Mt[_]="on"+_}function an(_,w){if(_.da)_=!0;else{w=new ge(w,this);const I=_.listener,U=_.ha||_.src;_.fa&&Ut(_),_=I.call(U,w)}return _}function Vt(_){return _=_[De],_ instanceof me?_:null}var Er="__closure_events_fn_"+(Math.random()*1e9>>>0);function va(_){return typeof _=="function"?_:(_[Er]||(_[Er]=function(w){return _.handleEvent(w)}),_[Er])}function jt(){q.call(this),this.i=new me(this),this.M=this,this.G=null}m(jt,q),jt.prototype[Re]=!0,jt.prototype.removeEventListener=function(_,w,I,U){de(this,_,w,I,U)};function sn(_,w){var I,U=_.G;if(U)for(I=[];U;U=U.G)I.push(U);if(_=_.M,U=w.type||w,typeof w=="string")w=new z(w,_);else if(w instanceof z)w.target=w.target||_;else{var J=w;w=new z(U,_),he(w,J)}J=!0;let te,pe;if(I)for(pe=I.length-1;pe>=0;pe--)te=w.g=I[pe],J=_a(te,U,!0,w)&&J;if(te=w.g=_,J=_a(te,U,!0,w)&&J,J=_a(te,U,!1,w)&&J,I)for(pe=0;pe<I.length;pe++)te=w.g=I[pe],J=_a(te,U,!1,w)&&J}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var _=this.i;for(const w in _.g){const I=_.g[w];for(let U=0;U<I.length;U++)ye(I[U]);delete _.g[w],_.h--}}this.G=null},jt.prototype.J=function(_,w,I,U){return this.i.add(String(_),w,!1,I,U)},jt.prototype.K=function(_,w,I,U){return this.i.add(String(_),w,!0,I,U)};function _a(_,w,I,U){if(w=_.i.g[String(w)],!w)return!0;w=w.concat();let J=!0;for(let te=0;te<w.length;++te){const pe=w[te];if(pe&&!pe.da&&pe.capture==I){const qe=pe.listener,zt=pe.ha||pe.src;pe.fa&&Ne(_.i,pe),J=qe.call(zt,U)!==!1&&J}}return J&&!U.defaultPrevented}function av(_,w){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=d(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:s.setTimeout(_,w||0)}function ch(_){_.g=av(()=>{_.g=null,_.i&&(_.i=!1,ch(_))},_.l);const w=_.h;_.h=null,_.m.apply(null,w)}class Zn extends q{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ch(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(_){q.call(this),this.h=_,this.g={}}m(Rs,q);var Dc=[];function Oc(_){Se(_.g,function(w,I){this.g.hasOwnProperty(I)&&Ut(w)},_),_.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),Oc(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=s.JSON.stringify,sv=s.JSON.parse,fh=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function dh(){}function hh(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xn(){z.call(this,"d")}m(xn,z);function Fr(){z.call(this,"c")}m(Fr,z);var Ft={},ph=null;function zl(){return ph=ph||new jt}Ft.Ia="serverreachability";function mh(_){z.call(this,Ft.Ia,_)}m(mh,z);function Ui(_){const w=zl();sn(w,new mh(w))}Ft.STAT_EVENT="statevent";function Ns(_,w){z.call(this,Ft.STAT_EVENT,_),this.stat=w}m(Ns,z);function $t(_){const w=zl();sn(w,new Ns(w,_))}Ft.Ja="timingevent";function Vi(_,w){z.call(this,Ft.Ja,_),this.size=w}m(Vi,z);function Fi(_,w){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},w)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function lv(_,w,I,U,J,te){_.info(function(){if(_.g)if(te){var pe="",qe=te.split("&");for(let st=0;st<qe.length;st++){var zt=qe[st].split("=");if(zt.length>1){const It=zt[0];zt=zt[1];const Hr=It.split("_");pe=Hr.length>=2&&Hr[1]=="type"?pe+(It+"="+zt+"&"):pe+(It+"=redacted&")}}}else pe=null;else pe=te;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+w+`
`+I+`
`+pe})}function gh(_,w,I,U,J,te,pe){_.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+w+`
`+I+`
`+te+" "+pe})}function zi(_,w,I,U){_.info(function(){return"XMLHTTP TEXT ("+w+"): "+uv(_,I)+(U?" "+U:"")})}function Ps(_,w){_.info(function(){return"TIMEOUT: "+w})}fi.prototype.info=function(){};function uv(_,w){if(!_.g)return w;if(!w)return null;try{const te=JSON.parse(w);if(te){for(_=0;_<te.length;_++)if(Array.isArray(te[_])){var I=te[_];if(!(I.length<2)){var U=I[1];if(Array.isArray(U)&&!(U.length<1)){var J=U[0];if(J!="noop"&&J!="stop"&&J!="close")for(let pe=1;pe<U.length;pe++)U[pe]=""}}}}return Ea(te)}catch{return w}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lc;function Ds(){}m(Ds,dh),Ds.prototype.g=function(){return new XMLHttpRequest},Lc=new Ds;function Eo(_){return encodeURIComponent(String(_))}function yh(_){var w=1;_=_.split(":");const I=[];for(;w>0&&_.length;)I.push(_.shift()),w--;return _.length&&I.push(_.join(":")),I}function di(_,w,I,U){this.j=_,this.i=w,this.l=I,this.S=U||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Kt={},gn={};function Bi(_,w,I){_.M=1,_.A=Os(Wt(w)),_.u=I,_.R=!0,Bl(_,null)}function Bl(_,w){_.F=Date.now(),qi(_),_.B=Wt(_.A);var I=_.B,U=_.S;Array.isArray(U)||(U=[String(U)]),jl(I.i,"t",U),_.C=0,I=_.j.L,_.h=new hi,_.g=Mh(_.j,I?w:null,!_.u),_.P>0&&(_.O=new Zn(d(_.Y,_,_.g),_.P)),w=_.V,I=_.g,U=_.ba;var J="readystatechange";Array.isArray(J)||(J&&(Dc[0]=J.toString()),J=Dc);for(let te=0;te<J.length;te++){const pe=ae(I,J[te],U||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=_.J?K(_.J):{},_.u?(_.v||(_.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,w)):(_.v="GET",_.g.ea(_.B,_.v,null,w)),Ui(),lv(_.i,_.v,_.B,_.l,_.S,_.u)}di.prototype.ba=function(_){_=_.target;const w=this.O;w&&gi(_)==3?w.j():this.Y(_)},di.prototype.Y=function(_){try{if(_==this.g)e:{const qe=gi(this.g),zt=this.g.ya(),st=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Cn(this.g)))){this.K||qe!=4||zt==7||(zt==8||st<=0?Ui(3):Ui(2)),Hi(this);var w=this.g.ca();this.X=w;var I=cv(this);if(this.o=w==200,gh(this.i,this.v,this.B,this.l,this.S,qe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var U,J=this.g;if((U=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(U)){var te=U;break t}}te=null}if(_=te)zi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gi(this,_);else{this.o=!1,this.m=3,$t(12),Tr(this),zr(this);break e}}if(this.R){_=!0;let It;for(;!this.K&&this.C<I.length;)if(It=_h(this,I),It==gn){qe==4&&(this.m=4,$t(14),_=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Kt){this.m=4,$t(15),zi(this.i,this.l,I,"[Invalid Chunk]"),_=!1;break}else zi(this.i,this.l,It,null),Gi(this,It);if(vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||I.length!=0||this.h.h||(this.m=1,$t(16),_=!1),this.o=this.o&&_,!_)zi(this.i,this.l,I,"[Invalid Chunked Response]"),Tr(this),zr(this);else if(I.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Xc(pe),pe.P=!0,$t(11))}}else zi(this.i,this.l,I,null),Gi(this,I);qe==4&&Tr(this),this.o&&!this.K&&(qe==4?Ih(this.j,this):(this.o=!1,qi(this)))}else bo(this.g),w==400&&I.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),Tr(this),zr(this)}}}catch{}finally{}};function cv(_){if(!vh(_))return _.g.la();const w=Cn(_.g);if(w==="")return"";let I="";const U=w.length,J=gi(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return Tr(_),zr(_),"";_.h.i=new s.TextDecoder}for(let te=0;te<U;te++)_.h.h=!0,I+=_.h.i.decode(w[te],{stream:!(J&&te==U-1)});return w.length=0,_.h.g+=I,_.C=0,_.h.g}function vh(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function _h(_,w){var I=_.C,U=w.indexOf(`
`,I);return U==-1?gn:(I=Number(w.substring(I,U)),isNaN(I)?Kt:(U+=1,U+I>w.length?gn:(w=w.slice(U,U+I),_.C=U+I,w)))}di.prototype.cancel=function(){this.K=!0,Tr(this)};function qi(_){_.T=Date.now()+_.H,ql(_,_.H)}function ql(_,w){if(_.D!=null)throw Error("WatchDog timer not null");_.D=Fi(d(_.aa,_),w)}function Hi(_){_.D&&(s.clearTimeout(_.D),_.D=null)}di.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(Ps(this.i,this.B),this.M!=2&&(Ui(),$t(17)),Tr(this),this.m=2,zr(this)):ql(this,this.T-_)};function zr(_){_.j.I==0||_.K||Ih(_.j,_)}function Tr(_){Hi(_);var w=_.O;w&&typeof w.dispose=="function"&&w.dispose(),_.O=null,Oc(_.V),_.g&&(w=_.g,_.g=null,w.abort(),w.dispose())}function Gi(_,w){try{var I=_.j;if(I.I!=0&&(I.g==_||$i(I.h,_))){if(!_.L&&$i(I.h,_)&&I.I==3){try{var U=I.Ba.g.parse(w)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<_.F)Jl(I),Ia(I);else break e;Bs(I),$t(18)}}else I.xa=J[1],0<I.xa-I.K&&J[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Fi(d(I.Va,I),6e3));ji(I.h)<=1&&I.ta&&(I.ta=void 0)}else Qi(I,11)}else if((_.L||I.g==_)&&Jl(I),!B(w))for(J=I.Ba.g.parse(w),w=0;w<J.length;w++){let st=J[w];const It=st[0];if(!(It<=I.K))if(I.K=It,st=st[1],I.I==2)if(st[0]=="c"){I.M=st[1],I.ba=st[2];const Hr=st[3];Hr!=null&&(I.ka=Hr,I.j.info("VER="+I.ka));const Zi=st[4];Zi!=null&&(I.za=Zi,I.j.info("SVER="+I.za));const yi=st[5];yi!=null&&typeof yi=="number"&&yi>0&&(U=1.5*yi,I.O=U,I.j.info("backChannelRequestTimeoutMs_="+U)),U=I;const vi=_.g;if(vi){const qs=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var te=U.h;te.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Fc(te,te.h),te.h=null))}if(U.G){const Xl=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(U.wa=Xl,ct(U.J,U.G,Xl))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-_.F,I.j.info("Handshake RTT: "+I.T+"ms")),U=I;var pe=_;if(U.na=Ph(U,U.L?U.ba:null,U.W),pe.L){zc(U.h,pe);var qe=pe,zt=U.O;zt&&(qe.H=zt),qe.D&&(Hi(qe),qi(qe)),U.g=pe}else xh(U);I.i.length>0&&Xi(I)}else st[0]!="stop"&&st[0]!="close"||Qi(I,7);else I.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Qi(I,7):Wc(I):st[0]!="noop"&&I.l&&I.l.qa(st),I.A=0)}}Ui(4)}catch{}}var Yt=class{constructor(_,w){this.g=_,this.map=w}};function Uc(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vc(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function ji(_){return _.h?1:_.g?_.g.size:0}function $i(_,w){return _.h?_.h==w:_.g?_.g.has(w):!1}function Fc(_,w){_.g?_.g.add(w):_.h=w}function zc(_,w){_.h&&_.h==w?_.h=null:_.g&&_.g.has(w)&&_.g.delete(w)}Uc.prototype.cancel=function(){if(this.i=Bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Bc(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let w=_.i;for(const I of _.g.values())w=w.concat(I.G);return w}return T(_.i)}var Eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hl(_,w){if(_){_=_.split("&");for(let I=0;I<_.length;I++){const U=_[I].indexOf("=");let J,te=null;U>=0?(J=_[I].substring(0,U),te=_[I].substring(U+1)):J=_[I],w(J,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function br(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;_ instanceof br?(this.l=_.l,yn(this,_.j),this.o=_.o,this.g=_.g,Ta(this,_.u),this.h=_.h,qc(this,Ah(_.i)),this.m=_.m):_&&(w=String(_).match(Eh))?(this.l=!1,yn(this,w[1]||"",!0),this.o=Ki(w[2]||""),this.g=Ki(w[3]||"",!0),Ta(this,w[4]),this.h=Ki(w[5]||"",!0),qc(this,w[6]||"",!0),this.m=Ki(w[7]||"")):(this.l=!1,this.i=new Sa(null,this.l))}br.prototype.toString=function(){const _=[];var w=this.j;w&&_.push(ks(w,Gl,!0),":");var I=this.g;return(I||w=="file")&&(_.push("//"),(w=this.o)&&_.push(ks(w,Gl,!0),"@"),_.push(Eo(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&_.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&_.push("/"),_.push(ks(I,I.charAt(0)=="/"?Hc:Th,!0))),(I=this.i.toString())&&_.push("?",I),(I=this.m)&&_.push("#",ks(I,bh)),_.join("")},br.prototype.resolve=function(_){const w=Wt(this);let I=!!_.j;I?yn(w,_.j):I=!!_.o,I?w.o=_.o:I=!!_.g,I?w.g=_.g:I=_.u!=null;var U=_.h;if(I)Ta(w,_.u);else if(I=!!_.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var J=w.h.lastIndexOf("/");J!=-1&&(U=w.h.slice(0,J+1)+U)}if(J=U,J==".."||J==".")U="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){U=J.lastIndexOf("/",0)==0,J=J.split("/");const te=[];for(let pe=0;pe<J.length;){const qe=J[pe++];qe=="."?U&&pe==J.length&&te.push(""):qe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),U&&pe==J.length&&te.push("")):(te.push(qe),U=!0)}U=te.join("/")}else U=J}return I?w.h=U:I=_.i.toString()!=="",I?qc(w,Ah(_.i)):I=!!_.m,I&&(w.m=_.m),w};function Wt(_){return new br(_)}function yn(_,w,I){_.j=I?Ki(w,!0):w,_.j&&(_.j=_.j.replace(/:$/,""))}function Ta(_,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);_.u=w}else _.u=null}function qc(_,w,I){w instanceof Sa?(_.i=w,$l(_.i,_.l)):(I||(w=ks(w,ba)),_.i=new Sa(w,_.l))}function ct(_,w,I){_.i.set(w,I)}function Os(_){return ct(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function Ki(_,w){return _?w?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ks(_,w,I){return typeof _=="string"?(_=encodeURI(_).replace(w,ur),I&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ur(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Gl=/[#\/\?@]/g,Th=/[#\?:]/g,Hc=/[#\?]/g,ba=/[#\?@]/g,bh=/#/g;function Sa(_,w){this.h=this.g=null,this.i=_||null,this.j=!!w}function cr(_){_.g||(_.g=new Map,_.h=0,_.i&&Hl(_.i,function(w,I){_.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=Sa.prototype,t.add=function(_,w){cr(this),this.i=null,_=Aa(this,_);let I=this.g.get(_);return I||this.g.set(_,I=[]),I.push(w),this.h+=1,this};function Sh(_,w){cr(_),w=Aa(_,w),_.g.has(w)&&(_.i=null,_.h-=_.g.get(w).length,_.g.delete(w))}function Gc(_,w){return cr(_),w=Aa(_,w),_.g.has(w)}t.forEach=function(_,w){cr(this),this.g.forEach(function(I,U){I.forEach(function(J){_.call(w,J,U,this)},this)},this)};function jc(_,w){cr(_);let I=[];if(typeof w=="string")Gc(_,w)&&(I=I.concat(_.g.get(Aa(_,w))));else for(_=Array.from(_.g.values()),w=0;w<_.length;w++)I=I.concat(_[w]);return I}t.set=function(_,w){return cr(this),this.i=null,_=Aa(this,_),Gc(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[w]),this.h+=1,this},t.get=function(_,w){return _?(_=jc(this,_),_.length>0?String(_[0]):w):w};function jl(_,w,I){Sh(_,w),I.length>0&&(_.i=null,_.g.set(Aa(_,w),T(I)),_.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],w=Array.from(this.g.keys());for(let U=0;U<w.length;U++){var I=w[U];const J=Eo(I);I=jc(this,I);for(let te=0;te<I.length;te++){let pe=J;I[te]!==""&&(pe+="="+Eo(I[te])),_.push(pe)}}return this.i=_.join("&")};function Ah(_){const w=new Sa;return w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),w}function Aa(_,w){return w=String(w),_.j&&(w=w.toLowerCase()),w}function $l(_,w){w&&!_.j&&(cr(_),_.i=null,_.g.forEach(function(I,U){const J=U.toLowerCase();U!=J&&(Sh(this,U),jl(this,J,I))},_)),_.j=w}function pi(_,w){const I=new fi;if(s.Image){const U=new Image;U.onload=h(Br,I,"TestLoadImage: loaded",!0,w,U),U.onerror=h(Br,I,"TestLoadImage: error",!1,w,U),U.onabort=h(Br,I,"TestLoadImage: abort",!1,w,U),U.ontimeout=h(Br,I,"TestLoadImage: timeout",!1,w,U),s.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=_}else w(!1)}function $c(_,w){const I=new fi,U=new AbortController,J=setTimeout(()=>{U.abort(),Br(I,"TestPingServer: timeout",!1,w)},1e4);fetch(_,{signal:U.signal}).then(te=>{clearTimeout(J),te.ok?Br(I,"TestPingServer: ok",!0,w):Br(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Br(I,"TestPingServer: error",!1,w)})}function Br(_,w,I,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(I)}catch{}}function wa(){this.g=new fh}function Yi(_){this.i=_.Sb||null,this.h=_.ab||!1}m(Yi,dh),Yi.prototype.g=function(){return new Ls(this.i,this.h)};function Ls(_,w){jt.call(this),this.H=_,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ls,jt),t=Ls.prototype,t.open=function(_,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=w,this.readyState=1,mi(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(w.body=_),(this.H||s).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kl(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kl(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var w=_.value?_.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!_.done}))&&(this.response=this.responseText+=w)}_.done?xa(this):mi(this),this.readyState==3&&Kl(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,xa(this))},t.Na=function(_){this.g&&(this.response=_,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(_){_.readyState=4,_.l=null,_.j=null,_.B=null,mi(_)}t.setRequestHeader=function(_,w){this.A.append(_,w)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,_.push(I[0]+": "+I[1]),I=w.next();return _.join(`\r
`)};function mi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function qr(_){let w="";return Se(_,function(I,U){w+=U,w+=":",w+=I,w+=`\r
`}),w}function Us(_,w,I){e:{for(U in I){var U=!1;break e}U=!0}U||(I=qr(I),typeof _=="string"?I!=null&&Eo(I):ct(_,w,I))}function pt(_){jt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(pt,jt);var Wi=/^https?$/i,Kc=["POST","PUT"];t=pt.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,w,I,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);w=w?w.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lc.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(_),!0),this.B=!1}catch(te){Vs(this,te);return}if(_=I||"",I=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)I.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const te of U.keys())I.set(te,U.get(te));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),J=s.FormData&&_ instanceof s.FormData,!(Array.prototype.indexOf.call(Kc,w,void 0)>=0)||U||J||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of I)this.g.setRequestHeader(te,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(te){Vs(this,te)}};function Vs(_,w){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=w,_.o=5,Yc(_),To(_)}function Yc(_){_.A||(_.A=!0,sn(_,"complete"),sn(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,sn(this,"complete"),sn(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},t.Xa=function(){Fs(this)};function Fs(_){if(_.h&&typeof o<"u"){if(_.v&&gi(_)==4)setTimeout(_.Ca.bind(_),0);else if(sn(_,"readystatechange"),gi(_)==4){_.h=!1;try{const te=_.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var U;if(U=te===0){let pe=String(_.D).match(Eh)[1]||null;!pe&&s.self&&s.self.location&&(pe=s.self.location.protocol.slice(0,-1)),U=!Wi.test(pe?pe.toLowerCase():"")}I=U}if(I)sn(_,"complete"),sn(_,"success");else{_.o=6;try{var J=gi(_)>2?_.g.statusText:""}catch{J=""}_.l=J+" ["+_.ca()+"]",Yc(_)}}finally{To(_)}}}}function To(_,w){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const I=_.g;_.g=null,w||sn(_,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gi(_){return _.g?_.g.readyState:0}t.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var w=this.g.responseText;return _&&w.indexOf(_)==0&&(w=w.substring(_.length)),sv(w)}};function Cn(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(_){const w={};_=(_.g&&gi(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<_.length;U++){if(B(_[U]))continue;var I=yh(_[U]);const J=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=w[J]||[];w[J]=te,te.push(I)}Me(w,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(_,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[_]||w}function Ca(_){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,_),this.Za=Ji("retryDelaySeedMs",1e4,_),this.Ta=Ji("forwardChannelMaxRetries",2,_),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Uc(_&&_.concurrentRequestLimit),this.Ba=new wa,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ca.prototype,t.ka=8,t.I=1,t.connect=function(_,w,I,U){$t(0),this.W=_,this.H=w||{},I&&U!==void 0&&(this.H.OSID=I,this.H.OAID=U),this.F=this.X,this.J=Ph(this,null,this.W),Xi(this)};function Wc(_){if(Yl(_),_.I==3){var w=_.V++,I=Wt(_.J);if(ct(I,"SID",_.M),ct(I,"RID",w),ct(I,"TYPE","terminate"),zs(_,I),w=new di(_,_.j,w),w.M=2,w.A=Os(Wt(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(w.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=w.A,I=!0),I||(w.g=Mh(w.j,null),w.g.ea(w.A)),w.F=Date.now(),qi(w)}Nh(_)}function Ia(_){_.g&&(Xc(_),_.g.cancel(),_.g=null)}function Yl(_){Ia(_),_.v&&(s.clearTimeout(_.v),_.v=null),Jl(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&s.clearTimeout(_.m),_.m=null)}function Xi(_){if(!Vc(_.h)&&!_.m){_.m=!0;var w=_.Ea;G||O(),j||(G(),j=!0),D.add(w,_),_.D=0}}function Wl(_,w){return ji(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=w.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=Fi(d(_.Ea,_,w),Rh(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const J=new di(this,this.j,_);let te=this.o;if(this.U&&(te?(te=K(te),he(te,this.U)):te=this.U),this.u!==null||this.R||(J.J=te,te=null),this.S)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var U=this.i[I];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,w>4096){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=wh(this,J,w),I=Wt(this.J),ct(I,"RID",_),ct(I,"CVER",22),this.G&&ct(I,"X-HTTP-Session-Id",this.G),zs(this,I),te&&(this.R?w="headers="+Eo(qr(te))+"&"+w:this.u&&Us(I,this.u,te)),Fc(this.h,J),this.Ra&&ct(I,"TYPE","init"),this.S?(ct(I,"$req",w),ct(I,"SID","null"),J.U=!0,Bi(J,I,null)):Bi(J,I,w),this.I=2}}else this.I==3&&(_?Jc(this,_):this.i.length==0||Vc(this.h)||Jc(this))};function Jc(_,w){var I;w?I=w.l:I=_.V++;const U=Wt(_.J);ct(U,"SID",_.M),ct(U,"RID",I),ct(U,"AID",_.K),zs(_,U),_.u&&_.o&&Us(U,_.u,_.o),I=new di(_,_.j,I,_.D+1),_.u===null&&(I.J=_.o),w&&(_.i=w.G.concat(_.i)),w=wh(_,I,1e3),I.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),Fc(_.h,I),Bi(I,U,w)}function zs(_,w){_.H&&Se(_.H,function(I,U){ct(w,U,I)}),_.l&&Se({},function(I,U){ct(w,U,I)})}function wh(_,w,I){I=Math.min(_.i.length,I);const U=_.l?d(_.l.Ka,_.l,_):null;e:{var J=_.i;let qe=-1;for(;;){const zt=["count="+I];qe==-1?I>0?(qe=J[0].g,zt.push("ofs="+qe)):qe=0:zt.push("ofs="+qe);let st=!0;for(let It=0;It<I;It++){var te=J[It].g;const Hr=J[It].map;if(te-=qe,te<0)qe=Math.max(0,J[It].g-100),st=!1;else try{te="req"+te+"_"||"";try{var pe=Hr instanceof Map?Hr:Object.entries(Hr);for(const[Zi,yi]of pe){let vi=yi;u(yi)&&(vi=Ea(yi)),zt.push(te+Zi+"="+encodeURIComponent(vi))}}catch(Zi){throw zt.push(te+"type="+encodeURIComponent("_badmap")),Zi}}catch{U&&U(Hr)}}if(st){pe=zt.join("&");break e}}pe=void 0}return _=_.i.splice(0,I),w.G=_,pe}function xh(_){if(!_.g&&!_.v){_.Y=1;var w=_.Da;G||O(),j||(G(),j=!0),D.add(w,_),_.A=0}}function Bs(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=Fi(d(_.Da,_),Rh(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,Ch(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=Fi(d(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),Ia(this),Ch(this))};function Xc(_){_.B!=null&&(s.clearTimeout(_.B),_.B=null)}function Ch(_){_.g=new di(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var w=Wt(_.na);ct(w,"RID","rpc"),ct(w,"SID",_.M),ct(w,"AID",_.K),ct(w,"CI",_.F?"0":"1"),!_.F&&_.ia&&ct(w,"TO",_.ia),ct(w,"TYPE","xmlhttp"),zs(_,w),_.u&&_.o&&Us(w,_.u,_.o),_.O&&(_.g.H=_.O);var I=_.g;_=_.ba,I.M=1,I.A=Os(Wt(w)),I.u=null,I.R=!0,Bl(I,_)}t.Va=function(){this.C!=null&&(this.C=null,Ia(this),Bs(this),$t(19))};function Jl(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function Ih(_,w){var I=null;if(_.g==w){Jl(_),Xc(_),_.g=null;var U=2}else if($i(_.h,w))I=w.G,zc(_.h,w),U=1;else return;if(_.I!=0){if(w.o)if(U==1){I=w.u?w.u.length:0,w=Date.now()-w.F;var J=_.D;U=zl(),sn(U,new Vi(U,I)),Xi(_)}else xh(_);else if(J=w.m,J==3||J==0&&w.X>0||!(U==1&&Wl(_,w)||U==2&&Bs(_)))switch(I&&I.length>0&&(w=_.h,w.i=w.i.concat(I)),J){case 1:Qi(_,5);break;case 4:Qi(_,10);break;case 3:Qi(_,6);break;default:Qi(_,2)}}}function Rh(_,w){let I=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(I*=2),I*w}function Qi(_,w){if(_.j.info("Error code "+w),w==2){var I=d(_.bb,_),U=_.Ua;const J=!U;U=new br(U||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||yn(U,"https"),Os(U),J?pi(U.toString(),I):$c(U.toString(),I)}else $t(2);_.I=0,_.l&&_.l.pa(w),Nh(_),Yl(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Nh(_){if(_.I=0,_.ja=[],_.l){const w=Bc(_.h);(w.length!=0||_.i.length!=0)&&(S(_.ja,w),S(_.ja,_.i),_.h.i.length=0,T(_.i),_.i.length=0),_.l.oa()}}function Ph(_,w,I){var U=I instanceof br?Wt(I):new br(I);if(U.g!="")w&&(U.g=w+"."+U.g),Ta(U,U.u);else{var J=s.location;U=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;const te=new br(null);U&&yn(te,U),w&&(te.g=w),J&&Ta(te,J),I&&(te.h=I),U=te}return I=_.G,w=_.wa,I&&w&&ct(U,I,w),ct(U,"VER",_.ka),zs(_,U),U}function Mh(_,w,I){if(w&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=_.Aa&&!_.ma?new pt(new Yi({ab:I})):new pt(_.ma),w.Fa(_.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dh(){}t=Dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ra(){}Ra.prototype.g=function(_,w){return new er(_,w)};function er(_,w){jt.call(this),this.g=new Ca(w),this.l=_,this.h=w&&w.messageUrlParams||null,_=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(_?_["X-WebChannel-Content-Type"]=w.messageContentType:_={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(_?_["X-WebChannel-Client-Profile"]=w.sa:_={"X-WebChannel-Client-Profile":w.sa}),this.g.U=_,(_=w&&w.Qb)&&!B(_)&&(this.g.u=_),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.G=w,_=this.h,_!==null&&w in _&&(_=this.h,w in _&&delete _[w])),this.j=new So(this)}m(er,jt),er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Wc(this.g)},er.prototype.o=function(_){var w=this.g;if(typeof _=="string"){var I={};I.__data__=_,_=I}else this.v&&(I={},I.__data__=Ea(_),_=I);w.i.push(new Yt(w.Ya++,_)),w.I==3&&Xi(w)},er.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,er.Z.N.call(this)};function Oh(_){xn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var w=_.__sm__;if(w){e:{for(const I in w){_=I;break e}_=void 0}(this.i=_)&&(_=this.i,w=w!==null&&_ in w?w[_]:void 0),this.data=w}else this.data=_}m(Oh,xn);function kh(){Fr.call(this),this.status=1}m(kh,Fr);function So(_){this.g=_}m(So,Dh),So.prototype.ra=function(){sn(this.g,"a")},So.prototype.qa=function(_){sn(this.g,new Oh(_))},So.prototype.pa=function(_){sn(this.g,new kh)},So.prototype.oa=function(){sn(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,xL=function(){return new Ra},wL=function(){return zl()},AL=Ft,IT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,bm=Ms,kc.COMPLETE="complete",SL=kc,hh.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Jf=hh,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,bL=pt}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="12.8.0";function wJ(t){_c=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Jb("@firebase/firestore");function Mu(){return Al.logLevel}function Ee(t,...e){if(Al.logLevel<=Qe.DEBUG){const n=e.map(uS);Al.debug(`Firestore (${_c}): ${t}`,...n)}}function ea(t,...e){if(Al.logLevel<=Qe.ERROR){const n=e.map(uS);Al.error(`Firestore (${_c}): ${t}`,...n)}}function ec(t,...e){if(Al.logLevel<=Qe.WARN){const n=e.map(uS);Al.warn(`Firestore (${_c}): ${t}`,...n)}}function uS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CL(t,r,n)}function CL(t,e,n){let r=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ea(r),new Error(r)}function ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||CL(e,i,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($n.UNAUTHENTICATED)))}shutdown(){}}class CJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IJ{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new IL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class RJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RJ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PJ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MJ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function RT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return E_(i)===E_(o)?Ze(i,o):E_(i)?1:-1}return Ze(t.length,e.length)}const DJ=55296,OJ=57343;function E_(t){const e=t.charCodeAt(0);return e>=DJ&&e<=OJ}function tc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="__name__";class oo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oo?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=oo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ze(e.length,n.length)}static compareSegments(e,n){const r=oo.isNumericId(e),i=oo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oo.extractNumericId(e).compare(oo.extractNumericId(n)):RT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class Tt extends oo{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const kJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends oo{construct(e,n,r){return new Un(e,n,r)}static isValidIdentifier(e){return kJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sN}static keyField(){return new Un([sN])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LJ(t,e,n,r){if(e===!0&&r===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lN(t){if(!Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uN(t){if(Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Ym(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ly(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function zd(t,e){if(!NL(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=-62135596800,fN=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fN);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cN)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fN}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zd(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:rn("string",Ct._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ct(0,0))}static max(){return new Ve(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function UJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new ps(i,Ie.empty(),e)}function VJ(t){return new ps(t.readTime,t.key,fd)}class ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ps(Ve.min(),Ie.empty(),fd)}static max(){return new ps(Ve.max(),Ie.empty(),fd)}}function FJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==zJ)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(f=>r(f)))})),s=!0,o===i&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((i=>i?ce.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next((h=>{s[d]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ce(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function qJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=-1;function cy(t){return t==null}function Wm(t){return t===0&&1/t==-1/0}function HJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="";function GJ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dN(e)),e=jJ(t.get(n),e);return dN(e)}function jJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case PL:n+="";break;default:n+=o}}return n}function dN(t){return t+PL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ML(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pN(this.data.getIterator())}getIteratorFrom(e){return new pN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class pN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new xi([])}unionWith(e){let n=new cn(Un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DL("Invalid base64 string: "+o):o}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const $J=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=$J.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="server_timestamp",kL="__type__",LL="__previous_value__",UL="__local_write_time__";function dS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kL])==null?void 0:r.stringValue)===OL}function fy(t){const e=t.mapValue.fields[LL];return dS(e)?fy(e):e}function dd(t){const e=ms(t.mapValue.fields[UL].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n,r,i,o,s,u,f,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=m}}const Jm="(default)";class hd{constructor(e,n){this.projectId=e,this.database=n||Jm}static empty(){return new hd("","")}get isDefaultDatabase(){return this.database===Jm}isEqual(e){return e instanceof hd&&e.projectId===this.projectId&&e.database===this.database}}function YJ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="__type__",WJ="__max__",Kp={mapValue:{}},FL="__vector__",Xm="value";function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dS(t)?4:XJ(t)?9007199254740991:JJ(t)?10:11:ke(28295,{value:t})}function po(t,e){if(t===e)return!0;const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ms(i.timestampValue),u=ms(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return gs(i.bytesValue).isEqual(gs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Gt(i.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Gt(i.integerValue)===Gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Gt(i.doubleValue),u=Gt(o.doubleValue);return s===u?Wm(s)===Wm(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(hN(s)!==hN(u))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(u[f]===void 0||!po(s[f],u[f])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function pd(t,e){return(t.values||[]).find((n=>po(n,e)))!==void 0}function nc(t,e){if(t===e)return 0;const n=ys(t),r=ys(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=Gt(o.integerValue||o.doubleValue),f=Gt(s.integerValue||s.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return mN(t.timestampValue,e.timestampValue);case 4:return mN(dd(t),dd(e));case 5:return RT(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=gs(o),f=gs(s);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),f=s.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=Ze(u[d],f[d]);if(h!==0)return h}return Ze(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=Ze(Gt(o.latitude),Gt(s.latitude));return u!==0?u:Ze(Gt(o.longitude),Gt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var y,T,S,x;const u=o.fields||{},f=s.fields||{},d=(y=u[Xm])==null?void 0:y.arrayValue,h=(T=f[Xm])==null?void 0:T.arrayValue,m=Ze(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return m!==0?m:gN(d,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Kp.mapValue&&s===Kp.mapValue)return 0;if(o===Kp.mapValue)return 1;if(s===Kp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=s.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let m=0;m<f.length&&m<h.length;++m){const y=RT(f[m],h[m]);if(y!==0)return y;const T=nc(u[f[m]],d[h[m]]);if(T!==0)return T}return Ze(f.length,h.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function mN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=ms(t),r=ms(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function gN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=nc(n[i],r[i]);if(o)return o}return Ze(n.length,r.length)}function rc(t){return NT(t)}function NT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return gs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=NT(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${NT(n.fields[s])}`;return i+"}"})(t.mapValue):ke(61005,{value:t})}function Sm(t){switch(ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fy(t);return e?16+Sm(e):16;case 5:return 2*t.stringValue.length;case 6:return gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Sm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ol(r.fields,((o,s)=>{i+=o.length+Sm(s)})),i})(t.mapValue);default:throw ke(13486,{value:t})}}function yN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PT(t){return!!t&&"integerValue"in t}function hS(t){return!!t&&"arrayValue"in t}function vN(t){return!!t&&"nullValue"in t}function _N(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Am(t){return!!t&&"mapValue"in t}function JJ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VL])==null?void 0:r.stringValue)===FL}function rd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ol(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=rd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return{...t}}function XJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Am(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=Un.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=rd(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Am(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Am(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ol(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Zr(rd(this.value))}}function zL(t){const e=[];return Ol(t.fields,((n,r)=>{const i=new Un([n]);if(Am(r)){const o=zL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Yn(e,0,Ve.min(),Ve.min(),Ve.min(),Zr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Yn(e,2,n,Ve.min(),Ve.min(),Zr.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,Ve.min(),Ve.min(),Zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.position=e,this.inclusive=n}}function EN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(s.referenceValue),n.key):r=nc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!po(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n="asc"){this.field=e,this.dir=n}}function QJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{}class nn extends BL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eX(e,n,r):n==="array-contains"?new rX(e,r):n==="in"?new iX(e,r):n==="not-in"?new oX(e,r):n==="array-contains-any"?new aX(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tX(e,r):new nX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nc(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends BL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return qL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qL(t){return t.op==="and"}function HL(t){return ZJ(t)&&qL(t)}function ZJ(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function MT(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(HL(t))return t.filters.map((e=>MT(e))).join(",");{const e=t.filters.map((n=>MT(n))).join(",");return`${t.op}(${e})`}}function GL(t,e){return t instanceof nn?(function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&po(r.value,i.value)})(t,e):t instanceof Mi?(function(r,i){return i instanceof Mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&GL(s,i.filters[u])),!0):!1})(t,e):void ke(19439)}function jL(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`})(t):t instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(jL).join(" ,")+"}"})(t):"Filter"}class eX extends nn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class tX extends nn{constructor(e,n){super(e,"in",n),this.keys=$L("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nX extends nn{constructor(e,n){super(e,"not-in",n),this.keys=$L("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $L(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class rX extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hS(n)&&pd(n.arrayValue,this.value)}}class iX extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pd(this.value.arrayValue,n)}}class oX extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pd(this.value.arrayValue,n)}}class aX extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>pd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function bN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sX(t,e,n,r,i,o,s)}function pS(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>MT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),cy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>rc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>rc(r))).join(",")),e.Te=n}return e.Te}function mS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TN(t.startAt,e.startAt)&&TN(t.endAt,e.endAt)}function DT(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lX(t,e,n,r,i,o,s,u){return new bc(t,e,n,r,i,o,s,u)}function KL(t){return new bc(t)}function SN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uX(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function YL(t){return t.collectionGroup!==null}function id(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new cn(Un.comparator);return s.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new md(o,r))})),n.has(Un.keyField().canonicalString())||e.Ie.push(new md(Un.keyField(),r))}return e.Ie}function uo(t){const e=Be(t);return e.Ee||(e.Ee=cX(e,id(t))),e.Ee}function cX(t,e){if(t.limitType==="F")return bN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new md(i.field,o)}));const n=t.endAt?new Qm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qm(t.startAt.position,t.startAt.inclusive):null;return bN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function OT(t,e){const n=t.filters.concat([e]);return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fX(t,e){const n=t.explicitOrderBy.concat([e]);return new bc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dy(t,e){return mS(uo(t),uo(e))&&t.limitType===e.limitType}function WL(t){return`${pS(uo(t))}|lt:${t.limitType}`}function Du(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>jL(i))).join(", ")}]`),cy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>rc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>rc(i))).join(",")),`Target(${r})`})(uo(t))}; limitType=${t.limitType})`}function hy(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of id(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,f){const d=EN(s,u,f);return s.inclusive?d<=0:d<0})(r.startAt,id(r),i)||r.endAt&&!(function(s,u,f){const d=EN(s,u,f);return s.inclusive?d>=0:d>0})(r.endAt,id(r),i))})(t,e)}function dX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JL(t){return(e,n)=>{let r=!1;for(const i of id(t)){const o=hX(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hX(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,s,u){const f=s.data.field(o),d=u.data.field(o);return f!==null&&d!==null?nc(f,d):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ol(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return ML(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=new Dt(Ie.comparator);function ta(){return pX}const XL=new Dt(Ie.comparator);function Xf(...t){let e=XL;for(const n of t)e=e.insert(n.key,n);return e}function QL(t){let e=XL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function fl(){return od()}function ZL(){return od()}function od(){return new kl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mX=new Dt(Ie.comparator),gX=new cn(Ie.comparator);function et(...t){let e=gX;for(const n of t)e=e.add(n);return e}const yX=new cn(Ze);function vX(){return yX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(e)?"-0":e}}function eU(t){return{integerValue:""+t}}function _X(t,e){return HJ(e)?eU(e):gS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this._=void 0}}function EX(t,e,n){return t instanceof eg?(function(i,o){const s={fields:{[kL]:{stringValue:OL},[UL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dS(o)&&(o=fy(o)),o&&(s.fields[LL]=o),{mapValue:s}})(n,e):t instanceof gd?nU(t,e):t instanceof yd?rU(t,e):(function(i,o){const s=tU(i,o),u=AN(s)+AN(i.Ae);return PT(s)&&PT(i.Ae)?eU(u):gS(i.serializer,u)})(t,e)}function TX(t,e,n){return t instanceof gd?nU(t,e):t instanceof yd?rU(t,e):n}function tU(t,e){return t instanceof tg?(function(r){return PT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class eg extends py{}class gd extends py{constructor(e){super(),this.elements=e}}function nU(t,e){const n=iU(e);for(const r of t.elements)n.some((i=>po(i,r)))||n.push(r);return{arrayValue:{values:n}}}class yd extends py{constructor(e){super(),this.elements=e}}function rU(t,e){let n=iU(e);for(const r of t.elements)n=n.filter((i=>!po(i,r)));return{arrayValue:{values:n}}}class tg extends py{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AN(t){return Gt(t.integerValue||t.doubleValue)}function iU(t){return hS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof gd&&i instanceof gd||r instanceof yd&&i instanceof yd?tc(r.elements,i.elements,po):r instanceof tg&&i instanceof tg?po(r.Ae,i.Ae):r instanceof eg&&i instanceof eg})(t.transform,e.transform)}class SX{constructor(e,n){this.version=e,this.transformResults=n}}class Yo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yo}static exists(e){return new Yo(void 0,e)}static updateTime(e){return new Yo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class my{}function oU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sU(t.key,Yo.none()):new Bd(t.key,t.data,Yo.none());{const n=t.data,r=Zr.empty();let i=new cn(Un.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ll(t.key,r,new xi(i.toArray()),Yo.none())}}function AX(t,e,n){t instanceof Bd?(function(i,o,s){const u=i.value.clone(),f=xN(i.fieldTransforms,o,s.transformResults);u.setAll(f),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Ll?(function(i,o,s){if(!wm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=xN(i.fieldTransforms,o,s.transformResults),f=o.data;f.setAll(aU(i)),f.setAll(u),o.convertToFoundDocument(s.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ad(t,e,n,r){return t instanceof Bd?(function(o,s,u,f){if(!wm(o.precondition,s))return u;const d=o.value.clone(),h=CN(o.fieldTransforms,f,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ll?(function(o,s,u,f){if(!wm(o.precondition,s))return u;const d=CN(o.fieldTransforms,f,s),h=s.data;return h.setAll(aU(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,s,u){return wm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function wX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tU(r.transform,i||null);o!=null&&(n===null&&(n=Zr.empty()),n.set(r.field,o))}return n||null}function wN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,((o,s)=>bX(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bd extends my{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ll extends my{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aU(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function xN(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,TX(s,u,n[i]))}return r}function CN(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,EX(o,s,e))}return r}class sU extends my{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xX extends my{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AX(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZL();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const f=oU(s,u);f!==null&&r.set(i.key,f),s.isValidDocument()||s.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,((n,r)=>wN(n,r)))&&tc(this.baseMutations,e.baseMutations,((n,r)=>wN(n,r)))}}class yS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return mX})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new yS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,nt;function NX(t){switch(t){case ue.OK:return ke(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function lU(t){if(t===void 0)return ea("GRPC error has no .code"),ue.UNKNOWN;switch(t){case en.OK:return ue.OK;case en.CANCELLED:return ue.CANCELLED;case en.UNKNOWN:return ue.UNKNOWN;case en.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case en.INTERNAL:return ue.INTERNAL;case en.UNAVAILABLE:return ue.UNAVAILABLE;case en.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case en.NOT_FOUND:return ue.NOT_FOUND;case en.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case en.ABORTED:return ue.ABORTED;case en.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case en.DATA_LOSS:return ue.DATA_LOSS;default:return ke(39323,{code:t})}}(nt=en||(en={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX=new cs([4294967295,4294967295],0);function IN(t){const e=PX().encode(t),n=new TL;return n.update(e),new Uint8Array(n.digest())}function RN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cs([n,r],0),new cs([i,o],0)]}class vS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qf(`Invalid padding: ${n}`);if(r<0)throw new Qf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(cs.fromNumber(r)));return i.compare(MX)===1&&(i=new cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IN(e),[r,i]=RN(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new vS(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=IN(e),[r,i]=RN(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gy(Ve.min(),i,new Dt(Ze),ta(),et())}}class qd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class uU{constructor(e,n){this.targetId=e,this.Ce=n}}class cU{constructor(e,n,r=Bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NN{constructor(){this.ve=0,this.Fe=PN(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:o})}})),new qd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=PN()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DX{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.He=Yp(),this.Je=Yp(),this.Ze=new Dt(Ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(DT(o))if(r===0){const s=new Ie(o.path);this.et(n,s,Yn.newNoDocument(s,Ve.min()))}else ut(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),f=u?this.ct(u,e,s):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=gs(r).toUint8Array()}catch(f){if(f instanceof DL)return ec("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new vS(s,i,o)}catch(f){return ec(f instanceof Qf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&DT(u.target)){const f=new Ie(u.target.path);this.It(f).has(s)||this.Et(s,f)||this.et(s,f,Yn.newNoDocument(f,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=et();this.Je.forEach(((o,s)=>{let u=!0;s.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new gy(e,n,this.Ze,this.je,r);return this.je=ta(),this.He=Yp(),this.Je=Yp(),this.Ze=new Dt(Ze),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new NN,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(Ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(Ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yp(){return new Dt(Ie.comparator)}function PN(){return new Dt(Ie.comparator)}const OX={asc:"ASCENDING",desc:"DESCENDING"},kX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LX={and:"AND",or:"OR"};class UX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kT(t,e){return t.useProto3Json||cy(e)?e:{value:e}}function ng(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VX(t,e){return ng(t,e.toTimestamp())}function co(t){return ut(!!t,49232),Ve.fromTimestamp((function(n){const r=ms(n);return new Ct(r.seconds,r.nanos)})(t))}function _S(t,e){return LT(t,e).canonicalString()}function LT(t,e){const n=(function(i){return new Tt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dU(t){const e=Tt.fromString(t);return ut(yU(e),10190,{key:e.toString()}),e}function UT(t,e){return _S(t.databaseId,e.path)}function T_(t,e){const n=dU(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(pU(n))}function hU(t,e){return _S(t.databaseId,e)}function FX(t){const e=dU(t);return e.length===4?Tt.emptyPath():pU(e)}function VT(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pU(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MN(t,e,n){return{name:UT(t,e),fields:n.value.mapValue.fields}}function zX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(ut(h===void 0||typeof h=="string",58123),Bn.fromBase64String(h||"")):(ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Bn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(d){const h=d.code===void 0?ue.UNKNOWN:lU(d.code);return new _e(h,d.message||"")})(s);n=new cU(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=T_(t,r.document.name),o=co(r.document.updateTime),s=r.document.createTime?co(r.document.createTime):Ve.min(),u=new Zr({mapValue:{fields:r.document.fields}}),f=Yn.newFoundDocument(i,o,s,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new xm(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=T_(t,r.document),o=r.readTime?co(r.readTime):Ve.min(),s=Yn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new xm([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=T_(t,r.document),o=r.removedTargetIds||[];n=new xm([],o,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new RX(i,o),u=r.targetId;n=new uU(u,s)}}return n}function BX(t,e){let n;if(e instanceof Bd)n={update:MN(t,e.key,e.value)};else if(e instanceof sU)n={delete:UT(t,e.key)};else if(e instanceof Ll)n={update:MN(t,e.key,e.data),updateMask:JX(e.fieldMask)};else{if(!(e instanceof xX))return ke(16599,{dt:e.type});n={verify:UT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof eg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof tg)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw ke(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:VX(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke(27497)})(t,e.precondition)),n}function qX(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?co(i.updateTime):co(o);return s.isEqual(Ve.min())&&(s=co(o)),new SX(s,i.transformResults||[])})(n,e)))):[]}function HX(t,e){return{documents:[hU(t,e.path)]}}function GX(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hU(t,i);const o=(function(d){if(d.length!==0)return gU(Mi.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(d){if(d.length!==0)return d.map((h=>(function(y){return{field:Ou(y.field),direction:KX(y.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=kT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function jX(t){let e=FX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const y=mU(m);return y instanceof Mi&&HL(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((y=>(function(S){return new md(ku(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let y;return y=typeof m=="object"?m.value:m,cy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(m){const y=!!m.before,T=m.values||[];return new Qm(T,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const y=!m.before,T=m.values||[];return new Qm(T,y)})(n.endAt)),lX(e,i,s,o,u,"F",f,d)}function $X(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mU(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ku(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ku(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ku(n.unaryFilter.field);return nn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ku(n.unaryFilter.field);return nn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((r=>mU(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function KX(t){return OX[t]}function YX(t){return kX[t]}function WX(t){return LX[t]}function Ou(t){return{fieldPath:t.canonicalString()}}function ku(t){return Un.fromServerFormat(t.fieldPath)}function gU(t){return t instanceof nn?(function(n){if(n.op==="=="){if(_N(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NAN"}};if(vN(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_N(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NOT_NAN"}};if(vN(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(n.field),op:YX(n.op),value:n.value}}})(t):t instanceof Mi?(function(n){const r=n.getFilters().map((i=>gU(i)));return r.length===1?r[0]:{compositeFilter:{op:WX(n.op),filters:r}}})(t):ke(54877,{filter:t})}function JX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function vU(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,i,o=Ve.min(),s=Ve.min(),u=Bn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e){this.yt=e}}function QX(t){const e=jX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(){this.Sn=new eQ}addToCollectionParentIndex(e,n){return this.Sn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ps.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class eQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cn(Tt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_U=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(_U,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ic(0)}static ar(){return new ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="LruGarbageCollector",tQ=1048576;function kN([t,e],[n,r]){const i=Ze(t,n);return i===0?Ze(e,r):i}class nQ{constructor(e){this.Pr=e,this.buffer=new cn(kN),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ee(ON,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tc(n)?Ee(ON,"Ignoring IndexedDB error during garbage collection: ",n):await Ec(n)}await this.Ar(3e5)}))}}class iQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(uy.ce);const r=new nQ(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(DN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DN):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Mu()<=Qe.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function oQ(t,e){return new iQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(){this.changes=new kl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ad(r.mutation,i,xi.empty(),Ct.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const i=fl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Xf();return o.forEach(((u,f)=>{s=s.insert(u,f.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=fl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=ta();const s=od(),u=(function(){return od()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Ll)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),ad(h.mutation,d,h.mutation.getFieldMask(),Ct.now())):s.set(d.key,xi.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,h)=>s.set(d,h))),n.forEach(((d,h)=>u.set(d,new sQ(h,s.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=od();let i=new Dt(((s,u)=>s-u)),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||xi.empty();h=u.applyToLocalView(d,h),r.set(f,h);const m=(i.get(u.batchId)||et()).add(f);i=i.insert(u.batchId,m)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,m=ZL();h.forEach((y=>{if(!o.has(y)){const T=oU(n.get(y),r.get(y));T!==null&&m.set(y,T),o=o.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ce.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return uX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(fl());let u=fd,f=o;return s.next((d=>ce.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?ce.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{f=f.insert(h,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,et()))).next((h=>({batchId:u,changes:QL(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let i=Xf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Xf();return this.indexManager.getCollectionParents(e,o).next((u=>ce.forEach(u,(f=>{const d=(function(m,y){return new bc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,y)=>{s=s.insert(m,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((f,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,Yn.newInvalidDocument(h)))}));let u=Xf();return s.forEach(((f,d)=>{const h=o.get(f);h!==void 0&&ad(h.mutation,d,xi.empty(),Ct.now()),hy(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ce.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:co(i.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:QX(i.bundledQuery),readTime:co(i.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(){this.overlays=new Dt(Ie.comparator),this.Lr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fl();return ce.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=fl(),o=n.length+1,s=new Ie(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Dt(((d,h)=>d-h));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=fl(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=fl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return ce.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new IX(n,r));let o=this.Lr.get(n);o===void 0&&(o=et(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.kr=new cn(Tn.Kr),this.qr=new cn(Tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Tn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ie(new Tt([])),r=new Tn(n,e),i=new Tn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ie(new Tt([])),r=new Tn(n,e),i=new Tn(n,e+1);let o=et();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new Tn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ie.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(Tn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new CX(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Jr=this.Jr.add(new Tn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?fS:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),i=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const u=this.Zr(s.Hr);o.push(u)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Ze);return n.forEach((i=>{const o=new Tn(i,0),s=new Tn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(u=>{r=r.add(u.Hr)}))})),ce.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new Ie(o),0);let u=new cn(Ze);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Hr)),!0)}),s),ce.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ce.forEach(n.mutations,(i=>{const o=new Tn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Tn(n,0),i=this.Jr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.ti=e,this.docs=(function(){return new Dt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=ta();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yn.newInvalidDocument(i))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ta();const s=n.path,u=new Ie(s.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||FJ(VJ(h),r)<=0||(i.has(h.key)||hy(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ke(9500)}ni(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pQ(this)}getSize(e){return ce.resolve(this.size)}}class pQ extends aQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.persistence=e,this.ri=new kl((n=>pS(n)),mS),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new ES,this.targetCount=0,this.oi=ic._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ce.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ic(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.lr(n),ce.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ce.waitFor(o).next((()=>i))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this._i={},this.overlays={},this.ai=new uy(0),this.ui=!1,this.ui=!0,this.ci=new fQ,this.referenceDelegate=e(this),this.li=new mQ(this),this.indexManager=new ZX,this.remoteDocumentCache=(function(i){return new hQ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new XX(n),this.Pi=new uQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new dQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new gQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ce.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class gQ extends BJ{constructor(e){super(),this.currentSequenceNumber=e}}class TS{constructor(e){this.persistence=e,this.Ri=new ES,this.Ai=null}static Vi(e){return new TS(e)}get di(){if(this.Ai)return this.Ai;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(r=>{const i=Ie.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rg{constructor(e,n){this.persistence=e,this.fi=new kl((r=>GJ(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=oQ(this,n)}static Vi(e,n){return new rg(e,n)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ce.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ce.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((u=>{u||(r++,o.removeEntry(s,Ve.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sm(e.data.value)),n}wr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=et(),i=et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return H$()?8:qJ(Qn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new yQ;return this.ys(e,n,s).next((u=>{if(o.result=u,this.As)return this.ws(e,n,s,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Mu()<=Qe.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Mu()<=Qe.DEBUG&&Ee("QueryEngine","Query:",Du(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Mu()<=Qe.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(n))):ce.resolve())}gs(e,n){if(SN(n))return ce.resolve(null);let r=uo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Zm(n,null,"F"),r=uo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=et(...o);return this.fs.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,u);return this.Ss(n,d,s,f.readTime)?this.gs(e,Zm(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return SN(n)||i.isEqual(Ve.min())?ce.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?ce.resolve(null):(Mu()<=Qe.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Du(n)),this.Ds(e,s,n,UJ(i,fd)).next((u=>u)))}))}bs(e,n){let r=new cn(JL(e));return n.forEach(((i,o)=>{hy(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Mu()<=Qe.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Du(n)),this.fs.getDocumentsMatchingQuery(e,n,ps.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="LocalStore",_Q=3e8;class EQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Dt(Ze),this.Fs=new kl((o=>pS(o)),mS),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function TQ(t,e,n,r){return new EQ(t,e,n,r)}async function TU(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let f=et();for(const d of i){s.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of o){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:s,addedBatchIds:u})))}))}))}function bQ(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const m=d.batch,y=m.keys();let T=ce.resolve();return y.forEach((S=>{T=T.next((()=>h.getEntry(f,S))).next((x=>{const A=d.docVersions.get(S);ut(A!==null,48541),x.version.compareTo(A)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=et();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function bU(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function SQ(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,m)=>{const y=i.get(m);if(!y)return;u.push(n.li.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,m))));let T=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(Bn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(m,T),(function(x,A,P){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=_Q?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(y,T,h)&&u.push(n.li.updateTargetData(o,T))}));let f=ta(),d=et();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(AQ(o,s,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(Ve.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((m=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return ce.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(n.vs=i,o)))}function AQ(t,e,n){let r=et(),i=et();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=ta();return n.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(u,f.readTime),s=s.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),s=s.insert(u,f)):Ee(SS,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{Bs:s,Ls:i}}))}function wQ(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xQ(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,ce.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new os(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function FT(t,e,n){const r=Be(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Tc(s))throw s;Ee(SS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function LN(t,e,n){const r=Be(t);let i=Ve.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(f,d,h){const m=Be(f),y=m.Fs.get(h);return y!==void 0?ce.resolve(m.vs.get(y)):m.li.getTargetData(d,h)})(r,s,uo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,u.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Ve.min(),n?o:et()))).next((u=>(CQ(r,dX(e),u),{documents:u,ks:o})))))}function CQ(t,e,n){let r=t.Ms.get(e)||Ve.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class UN{constructor(){this.activeTargetIds=vX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IQ{constructor(){this.vo=new UN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new UN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="ConnectivityMonitor";class FN{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ee(VN,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ee(VN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp=null;function zT(){return Wp===null?Wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wp++,"0x"+Wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="RestConnection",NQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Jm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=zT(),u=this.Qo(e,n.toUriEncodedString());Ee(b_,`Sending RPC '${e}' ${s}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,o);const{host:d}=new URL(u),h=gc(d);return this.zo(e,u,f,r,h).then((m=>(Ee(b_,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw ec(b_,`RPC '${e}' ${s} failed with error: `,m,"url: ",u,"request:",r),m}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=NQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection",Ff=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Ku extends PQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ku.c_){const e=wL();Ff(e,AL.STAT_EVENT,(n=>{n.stat===IT.PROXY?Ee(Gn,"STAT_EVENT: detected buffering proxy"):n.stat===IT.NOPROXY&&Ee(Gn,"STAT_EVENT: detected no buffering proxy")})),Ku.c_=!0}}zo(e,n,r,i,o){const s=zT();return new Promise(((u,f)=>{const d=new bL;d.setWithCredentials(!0),d.listenOnce(SL.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case bm.NO_ERROR:const m=d.getResponseJson();Ee(Gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),u(m);break;case bm.TIMEOUT:Ee(Gn,`RPC '${e}' ${s} timed out`),f(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case bm.HTTP_ERROR:const y=d.getStatus();if(Ee(Gn,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const x=(function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN})(S.status);f(new _e(x,S.message))}else f(new _e(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ee(Gn,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Ee(Gn,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=zT(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");Ee(Gn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);this.I_(h);let m=!1,y=!1;const T=new MQ({Ho:S=>{y?Ee(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(Ee(Gn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Ee(Gn,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return Ff(h,Jf.EventType.OPEN,(()=>{y||(Ee(Gn,`RPC '${e}' stream ${i} transport opened.`),T.i_())})),Ff(h,Jf.EventType.CLOSE,(()=>{y||(y=!0,Ee(Gn,`RPC '${e}' stream ${i} transport closed`),T.o_(),this.E_(h))})),Ff(h,Jf.EventType.ERROR,(S=>{y||(y=!0,ec(Gn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.o_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),Ff(h,Jf.EventType.MESSAGE,(S=>{var x;if(!y){const A=S.data[0];ut(!!A,16349);const P=A,V=(P==null?void 0:P.error)||((x=P[0])==null?void 0:x.error);if(V){Ee(Gn,`RPC '${e}' stream ${i} received error:`,V);const L=V.status;let H=(function(D){const O=en[D];if(O!==void 0)return lU(O)})(L),G=V.message;H===void 0&&(H=ue.INTERNAL,G="Unknown error status: "+L+" with message "+V.message),y=!0,T.o_(new _e(H,G)),h.close()}else Ee(Gn,`RPC '${e}' stream ${i} received:`,A),T.__(A)}})),Ku.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xL()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){return new Ku(t)}function S_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return new UX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ku.c_=!1;class SU{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="PersistentStream";class AU{constructor(e,n,r,i,o,s,u,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ea(n.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new _e(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(zN,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ee(zN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OQ extends AU{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zX(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ve.min():s.readTime?co(s.readTime):Ve.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=VT(this.serializer),n.addTarget=(function(o,s){let u;const f=s.target;if(u=DT(f)?{documents:HX(o,f)}:{query:GX(o,f).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=fU(o,s.resumeToken);const d=kT(o,s.expectedCount);d!==null&&(u.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ve.min())>0){u.readTime=ng(o,s.snapshotVersion.toTimestamp());const d=kT(o,s.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=$X(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=VT(this.serializer),n.removeTarget=e,this.K_(n)}}class kQ extends AU{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qX(e.writeResults,e.commitTime),r=co(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=VT(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>BX(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{}class UQ extends LQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,LT(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ue.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.jo(e,LT(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(ue.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VQ(t,e,n,r){return new UQ(t,e,n,r)}class FQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ea(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RemoteStore";class zQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{Ul(this)&&(Ee(wl,"Restarting streams for network reachability change."),await(async function(f){const d=Be(f);d.Ea.add(4),await Hd(d),d.Va.set("Unknown"),d.Ea.delete(4),await vy(d)})(this))}))})),this.Va=new FQ(r,i)}}async function vy(t){if(Ul(t))for(const e of t.Ra)await e(!0)}async function Hd(t){for(const e of t.Ra)await e(!1)}function wU(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),CS(n)?xS(n):Sc(n).O_()&&wS(n,e))}function AS(t,e){const n=Be(t),r=Sc(n);n.Ia.delete(e),r.O_()&&xU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ul(n)&&n.Va.set("Unknown"))}function wS(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sc(t).Z_(e)}function xU(t,e){t.da.$e(e),Sc(t).X_(e)}function xS(t){t.da=new DX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sc(t).start(),t.Va.ua()}function CS(t){return Ul(t)&&!Sc(t).x_()&&t.Ia.size>0}function Ul(t){return Be(t).Ea.size===0}function CU(t){t.da=void 0}async function BQ(t){t.Va.set("Online")}async function qQ(t){t.Ia.forEach(((e,n)=>{wS(t,e)}))}async function HQ(t,e){CU(t),CS(t)?(t.Va.ha(e),xS(t)):t.Va.set("Unknown")}async function GQ(t,e,n){if(t.Va.set("Online"),e instanceof cU&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Ee(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ig(t,r)}else if(e instanceof xm?t.da.Xe(e):e instanceof uU?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const r=await bU(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.da.Tt(s);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(f.resumeToken,s))}})),u.targetMismatches.forEach(((f,d)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(Bn.EMPTY_BYTE_STRING,h.snapshotVersion)),xU(o,f);const m=new os(h.target,f,d,h.sequenceNumber);wS(o,m)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ee(wl,"Failed to raise snapshot:",r),await ig(t,r)}}async function ig(t,e,n){if(!Tc(e))throw e;t.Ea.add(1),await Hd(t),t.Va.set("Offline"),n||(n=()=>bU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(wl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vy(t)}))}function IU(t,e){return e().catch((n=>ig(t,n,e)))}async function _y(t){const e=Be(t),n=vs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fS;for(;jQ(e);)try{const i=await wQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$Q(e,i)}catch(i){await ig(e,i)}RU(e)&&NU(e)}function jQ(t){return Ul(t)&&t.Ta.length<10}function $Q(t,e){t.Ta.push(e);const n=vs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function RU(t){return Ul(t)&&!vs(t).x_()&&t.Ta.length>0}function NU(t){vs(t).start()}async function KQ(t){vs(t).ra()}async function YQ(t){const e=vs(t);for(const n of t.Ta)e.ea(n.mutations)}async function WQ(t,e,n){const r=t.Ta.shift(),i=yS.from(r,e,n);await IU(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _y(t)}async function JQ(t,e){e&&vs(t).Y_&&await(async function(r,i){if((function(s){return NX(s)&&s!==ue.ABORTED})(i.code)){const o=r.Ta.shift();vs(r).B_(),await IU(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await _y(r)}})(t,e),RU(t)&&NU(t)}async function BN(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Ee(wl,"RemoteStore received new credentials");const r=Ul(n);n.Ea.add(3),await Hd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vy(n)}async function XQ(t,e){const n=Be(t);e?(n.Ea.delete(2),await vy(n)):e||(n.Ea.add(2),await Hd(n),n.Va.set("Unknown"))}function Sc(t){return t.ma||(t.ma=(function(n,r,i){const o=Be(n);return o.sa(),new OQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:BQ.bind(null,t),Yo:qQ.bind(null,t),t_:HQ.bind(null,t),J_:GQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),CS(t)?xS(t):t.Va.set("Unknown")):(await t.ma.stop(),CU(t))}))),t.ma}function vs(t){return t.fa||(t.fa=(function(n,r,i){const o=Be(n);return o.sa(),new kQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:KQ.bind(null,t),t_:JQ.bind(null,t),ta:YQ.bind(null,t),na:WQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await _y(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(wl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new IS(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RS(t,e){if(ea("AsyncQueue",`${e}: ${t}`),Tc(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{static emptySet(e){return new Yu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Xf(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.ga=new Dt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class oc{constructor(e,n,r,i,o,s,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new oc(e,n,Yu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZQ{constructor(){this.queries=HN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Be(n),o=i.queries;i.queries=HN(),o.forEach(((s,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function HN(){return new kl((t=>WL(t)),dy)}async function eZ(t,e){const n=Be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new QQ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=RS(s,`Initialization of query '${Du(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&NS(n)}async function tZ(t,e){const n=Be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nZ(t,e){const n=Be(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.ba)u.Fa(i)&&(r=!0);s.wa=i}}r&&NS(n)}function rZ(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function NS(t){t.Ca.forEach((e=>{e.next()}))}var BT,GN;(GN=BT||(BT={})).Ma="default",GN.Cache="cache";class iZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==BT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.key=e}}class MU{constructor(e){this.key=e}}class oZ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=JL(e),this.tu=new Yu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new qN,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const y=i.get(h),T=hy(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),x=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;y&&T?y.data.isEqual(T.data)?S!==x&&(r.track({type:3,doc:T}),A=!0):this.su(y,T)||(r.track({type:2,doc:T}),A=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!y&&T?(r.track({type:0,doc:T}),A=!0):y&&!T&&(r.track({type:1,doc:y}),A=!0,(f||d)&&(u=!0)),A&&(T?(s=s.add(T),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(T,S){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:A})}};return x(T)-x(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,s.length!==0||d?{snapshot:new oc(this.query,e.tu,o,s,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new MU(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new PU(r))})),n}cu(e){this.Za=e.ks,this.Ya=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const PS="SyncEngine";class aZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sZ{constructor(e){this.key=e,this.hu=!1}}class lZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new kl((u=>WL(u)),dy),this.Iu=new Map,this.Eu=new Set,this.Ru=new Dt(Ie.comparator),this.Au=new Map,this.Vu=new ES,this.du={},this.mu=new Map,this.fu=ic.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uZ(t,e,n=!0){const r=VU(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await DU(r,e,n,!0),i}async function cZ(t,e){const n=VU(t);await DU(n,e,!0,!1)}async function DU(t,e,n,r){const i=await xQ(t.localStore,uo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await fZ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&wU(t.remoteStore,i),u}async function fZ(t,e,n,r,i){t.pu=(m,y,T)=>(async function(x,A,P,V){let L=A.view.ru(P);L.Ss&&(L=await LN(x.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,L))));const H=V&&V.targetChanges.get(A.targetId),G=V&&V.targetMismatches.get(A.targetId)!=null,j=A.view.applyChanges(L,x.isPrimaryClient,H,G);return $N(x,A.targetId,j.au),j.snapshot})(t,m,y,T);const o=await LN(t.localStore,e,!0),s=new oZ(e,o.ks),u=s.ru(o.documents),f=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(u,t.isPrimaryClient,f);$N(t,n,d.au);const h=new aZ(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function dZ(t,e,n){const r=Be(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!dy(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await FT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AS(r.remoteStore,i.targetId),qT(r,i.targetId)})).catch(Ec)):(qT(r,i.targetId),await FT(r.localStore,i.targetId,!0))}async function hZ(t,e){const n=Be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AS(n.remoteStore,r.targetId))}async function pZ(t,e,n){const r=TZ(t);try{const i=await(function(s,u){const f=Be(s),d=Ct.now(),h=u.reduce(((T,S)=>T.add(S.key)),et());let m,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=ta(),x=et();return f.xs.getEntries(T,h).next((A=>{S=A,S.forEach(((P,V)=>{V.isValidDocument()||(x=x.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,S))).next((A=>{m=A;const P=[];for(const V of u){const L=wX(V,m.get(V.key).overlayedDocument);L!=null&&P.push(new Ll(V.key,L,zL(L.value.mapValue),Yo.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,P,u)})).next((A=>{y=A;const P=A.applyToLocalDocumentSet(m,x);return f.documentOverlayCache.saveOverlays(T,A.batchId,P)}))})).then((()=>({batchId:y.batchId,changes:QL(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,f){let d=s.du[s.currentUser.toKey()];d||(d=new Dt(Ze)),d=d.insert(u,f),s.du[s.currentUser.toKey()]=d})(r,i.batchId,n),await Gd(r,i.changes),await _y(r.remoteStore)}catch(i){const o=RS(i,"Failed to persist write");n.reject(o)}}async function OU(t,e){const n=Be(t);try{const r=await SQ(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ut(s.hu,14607):i.removedDocuments.size>0&&(ut(s.hu,42227),s.hu=!1))})),await Gd(n,r,e)}catch(r){await Ec(r)}}function jN(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const f=Be(s);f.onlineState=u;let d=!1;f.queries.forEach(((h,m)=>{for(const y of m.ba)y.va(u)&&(d=!0)})),d&&NS(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mZ(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Dt(Ie.comparator);s=s.insert(o,Yn.newNoDocument(o,Ve.min()));const u=et().add(o),f=new gy(Ve.min(),new Map,new Dt(Ze),s,u);await OU(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),MS(r)}else await FT(r.localStore,e,!1).then((()=>qT(r,e,n))).catch(Ec)}async function gZ(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await bQ(n.localStore,e);LU(n,r,null),kU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(n,i)}catch(i){await Ec(i)}}async function yZ(t,e,n){const r=Be(t);try{const i=await(function(s,u){const f=Be(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((m=>(ut(m!==null,37113),h=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);LU(r,e,n),kU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gd(r,i)}catch(i){await Ec(i)}}function kU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function LU(t,e,n){const r=Be(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function qT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||UU(t,r)}))}function UU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(AS(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),MS(t))}function $N(t,e,n){for(const r of n)r instanceof PU?(t.Vu.addReference(r.key,e),vZ(t,r)):r instanceof MU?(Ee(PS,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||UU(t,r.key)):ke(19791,{wu:r})}function vZ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Ee(PS,"New document in limbo: "+n),t.Eu.add(r),MS(t))}function MS(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new sZ(n)),t.Ru=t.Ru.insert(n,r),wU(t.remoteStore,new os(uo(KL(n.path)),r,"TargetPurposeLimboResolution",uy.ce))}}async function Gd(t,e,n){const r=Be(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{s.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=bS.Es(f.targetId,d);o.push(m)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(f,d){const h=Be(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ce.forEach(d,(y=>ce.forEach(y.Ts,(T=>h.persistence.referenceDelegate.addReference(m,y.targetId,T))).next((()=>ce.forEach(y.Is,(T=>h.persistence.referenceDelegate.removeReference(m,y.targetId,T)))))))))}catch(m){if(!Tc(m))throw m;Ee(SS,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const T=h.vs.get(y),S=T.snapshotVersion,x=T.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(y,x)}}})(r.localStore,o))}async function _Z(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Ee(PS,"User change. New user:",e.toKey());const r=await TU(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new _e(ue.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(n,r.Ns)}}function EZ(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let i=et();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function VU(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mZ.bind(null,e),e.Pu.J_=nZ.bind(null,e.eventManager),e.Pu.yu=rZ.bind(null,e.eventManager),e}function TZ(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yZ.bind(null,e),e}class og{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TQ(this.persistence,new vQ,e.initialUser,this.serializer)}Cu(e){return new EU(TS.Vi,this.serializer)}Du(e){return new IQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}og.provider={build:()=>new og};class bZ extends og{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof rg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new EU((r=>rg.Vi(r,n)),this.serializer)}}class HT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_Z.bind(null,this.syncEngine),await XQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZQ})()}createDatastore(e){const n=yy(e.databaseInfo.databaseId),r=DQ(e.databaseInfo);return VQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new zQ(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>jN(this.syncEngine,n,0)),(function(){return FN.v()?new FN:new RQ})())}createSyncEngine(e,n){return(function(i,o,s,u,f,d,h){const m=new lZ(i,o,s,u,f,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Be(i);Ee(wl,"RemoteStore shutting down."),o.Ea.add(5),await Hd(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}HT.provider={build:()=>new HT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class AZ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=cS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{Ee(_s,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Ee(_s,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=RS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function A_(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(_s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await TU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function KN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wZ(t);Ee(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>BN(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>BN(e.remoteStore,i))),t._onlineComponents=e}async function wZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(_s,"Using user provided OfflineComponentProvider");try{await A_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await A_(t,new og)}}else Ee(_s,"Using default OfflineComponentProvider"),await A_(t,new bZ(void 0));return t._offlineComponents}async function FU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(_s,"Using user provided OnlineComponentProvider"),await KN(t,t._uninitializedComponentsProvider._online)):(Ee(_s,"Using default OnlineComponentProvider"),await KN(t,new HT))),t._onlineComponents}function xZ(t){return FU(t).then((e=>e.syncEngine))}async function CZ(t){const e=await FU(t),n=e.eventManager;return n.onListen=uZ.bind(null,e.syncEngine),n.onUnlisten=dZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hZ.bind(null,e.syncEngine),n}function IZ(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,f,d){const h=new SZ({next:y=>{h.Nu(),s.enqueueAndForget((()=>tZ(o,m))),y.fromCache&&f.source==="server"?d.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new iZ(u,h,{includeMetadataChanges:!0,Ka:!0});return eZ(o,m)})(await CZ(t),t.asyncQueue,e,n,r))),r.promise}function RZ(t,e){const n=new fs;return t.asyncQueue.enqueueAndForget((async()=>pZ(await xZ(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ="ComponentProvider",YN=new Map;function PZ(t,e,n,r,i){return new KJ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,zU(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="firestore.googleapis.com",WN=!0;class JN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BU,this.ssl=WN}else this.host=e.host,this.ssl=e.ssl??WN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_U;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tQ)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xJ;switch(r.type){case"firstParty":return new NJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=YN.get(n);r&&(Ee(NZ,"Removing Datastore"),YN.delete(n),r.terminate())})(this),Promise.resolve()}}function MZ(t,e,n,r={}){var d;t=Ym(t,Ey);const i=gc(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Ok(`https://${u}`),kk("Firestore",!0)),o.host!==BU&&o.host!==u&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!El(f,s)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=$n.MOCK_USER;else{h=O$(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $n(y)}t._authCredentials=new CJ(new IL(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}toJSON(){return{type:Sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zd(n,Sn._jsonSchema))return new Sn(e,r||null,new Ie(Tt.fromString(n.referencePath)))}}Sn._jsonSchemaVersion="firestore/documentReference/1.0",Sn._jsonSchema={type:rn("string",Sn._jsonSchemaVersion),referencePath:rn("string")};class ds extends xs{constructor(e,n,r){super(e,n,KL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Ie(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function XN(t,e,...n){if(t=or(t),RL("collection","path",e),t instanceof Ey){const r=Tt.fromString(e,...n);return uN(r),new ds(t,null,r)}{if(!(t instanceof Sn||t instanceof ds))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return uN(r),new ds(t.firestore,null,r)}}function DZ(t,e,...n){if(t=or(t),arguments.length===1&&(e=cS.newId()),RL("doc","path",e),t instanceof Ey){const r=Tt.fromString(e,...n);return lN(r),new Sn(t,null,new Ie(r))}{if(!(t instanceof Sn||t instanceof ds))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return lN(r),new Sn(t.firestore,t instanceof ds?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="AsyncQueue";class ZN{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SU(this,"async_queue_retry"),this._c=()=>{const r=S_();r&&Ee(QN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=S_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=S_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Tc(e))throw e;Ee(QN,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ea("INTERNAL UNHANDLED ERROR: ",eP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=IS.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&ke(47125,{Pc:eP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class DS extends Ey{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZN(e),this._firestoreClient=void 0,await e}}}function OZ(t,e){const n=typeof t=="object"?t:Fk(),r=typeof t=="string"?t:Jm,i=Qb(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=M$("firestore");o&&MZ(i,...o)}return i}function qU(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kZ(t),t._firestoreClient}function kZ(t){var r,i,o,s;const e=t._freezeSettings(),n=PZ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Bn.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zd(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:rn("string",ei._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fo._jsonSchemaVersion}}static fromJSON(e){if(zd(e,fo._jsonSchema))return new fo(e.latitude,e.longitude)}}fo._jsonSchemaVersion="firestore/geoPoint/1.0",fo._jsonSchema={type:rn("string",fo._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zd(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:rn("string",Ni._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=/^__.*__$/;class UZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ll(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bd(e,this.data,n,this.fieldTransforms)}}function jU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{dataSource:t})}}class OS{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new OS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ag(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jU(this.dataSource)&&LZ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yy(e)}createContext(e,n,r,i=!1){return new OS({dataSource:e,methodName:n,targetDoc:r,path:Un.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $U(t){const e=t._freezeSettings(),n=yy(t._databaseId);return new VZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FZ(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);WU("Data must be an object, but it was:",s,r);const u=KU(r,s);let f,d;if(o.merge)f=new xi(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const y=Ty(e,m,n);if(!s.contains(y))throw new _e(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);HZ(h,y)||h.push(y)}f=new xi(h),d=s.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=s.fieldTransforms;return new UZ(new Zr(u),f,d)}function zZ(t,e,n,r=!1){return kS(n,t.createContext(r?4:3,e))}function kS(t,e){if(YU(t=or(t)))return WU("Unsupported field value:",e,t),KU(t,e);if(t instanceof GU)return(function(r,i){if(!jU(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let f=kS(u,i.childContextForArray(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _X(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ct.fromDate(r);return{timestampValue:ng(i.serializer,o)}}if(r instanceof Ct){const o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ng(i.serializer,o)}}if(r instanceof fo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:fU(i.serializer,r._byteString)};if(r instanceof Sn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_S(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ni)return(function(s,u){const f=s instanceof Ni?s.toArray():s;return{mapValue:{fields:{[VL]:{stringValue:FL},[Xm]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return gS(u.serializer,h)}))}}}}}})(r,i);if(vU(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${ly(r)}`)})(t,e)}function KU(t,e){const n={};return ML(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ol(t,((r,i)=>{const o=kS(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function YU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof fo||t instanceof ei||t instanceof Sn||t instanceof GU||t instanceof Ni||vU(t))}function WU(t,e,n){if(!YU(n)||!NL(n)){const r=ly(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ty(t,e,n){if((e=or(e))instanceof HU)return e._internalPath;if(typeof e=="string")return qZ(t,e);throw ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const BZ=new RegExp("[~\\*/\\[\\]]");function qZ(t,e,n){if(e.search(BZ)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new HU(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ag(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||s)&&(f+=" (found",o&&(f+=` in field ${r}`),s&&(f+=` in document ${i}`),f+=")"),new _e(ue.INVALID_ARGUMENT,u+t+f)}function HZ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ol(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Xm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Gt(s.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new fo(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const n=ms(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);ut(yU(r),9688,{name:e});const i=new hd(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return i.isEqual(n)||ea(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ extends GZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}const tP="@firebase/firestore",nP="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $Z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $Z extends JU{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LS{}class US extends LS{}function YZ(t,e,...n){let r=[];e instanceof LS&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((f=>f instanceof FS)).length,u=o.filter((f=>f instanceof VS)).length;if(s>1||s>0&&u>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class VS extends US{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new VS(e,n,r)}_apply(e){const n=this._parse(e);return XU(e._query,n),new xs(e.firestore,e.converter,OT(e._query,n))}_parse(e){const n=$U(e.firestore);return(function(o,s,u,f,d,h,m){let y;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){iP(m,h);const S=[];for(const x of m)S.push(rP(f,o,x));y={arrayValue:{values:S}}}else y=rP(f,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||iP(m,h),y=zZ(u,s,m,h==="in"||h==="not-in");return nn.create(d,h,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class FS extends LS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const u=o.getFlattenedFilters();for(const f of u)XU(s,f),s=OT(s,f)})(e._query,n),new xs(e.firestore,e.converter,OT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zS extends US{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zS(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new md(o,s)})(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,fX(e._query,n))}}function WZ(t,e="asc"){const n=e,r=Ty("orderBy",t);return zS._create(r,n)}class BS extends US{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new BS(e,n,r)}_apply(e){return new xs(e.firestore,e.converter,Zm(e._query,this._limit,this._limitType))}}function JZ(t){return BS._create("limit",t,"F")}function rP(t,e,n){if(typeof(n=or(n))=="string"){if(n==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YL(e)&&n.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Ie.isDocumentKey(r))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yN(t,new Ie(r))}if(n instanceof Sn)return yN(t,n._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ly(n)}.`)}function iP(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XU(t,e){const n=(function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XZ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Jp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wu extends JU{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wu._jsonSchema={type:rn("string",Wu._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Cm extends Wu{data(e={}){return super.data(e)}}class Ju{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Cm(this._firestore,this._userDataWriter,r.key,r,new Jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const f=new Cm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Cm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:QZ(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ju._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ju._jsonSchemaVersion="firestore/querySnapshot/1.0",Ju._jsonSchema={type:rn("string",Ju._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function ZZ(t){t=Ym(t,xs);const e=Ym(t.firestore,DS),n=qU(e),r=new jZ(e);return KZ(t._query),IZ(n,t._query).then((i=>new Ju(e,r,t,i)))}function eee(t,e){const n=Ym(t.firestore,DS),r=DZ(t),i=XZ(t.converter,e),o=$U(t.firestore);return tee(n,[FZ(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yo.exists(!1))]).then((()=>r))}function tee(t,e){const n=qU(t);return RZ(n,e)}(function(e,n=!0){wJ(yc),Zu(new Tl("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new DS(new IJ(r.getProvider("auth-internal")),new PJ(s,r.getProvider("app-check-internal")),YJ(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),us(tP,nP,e),us(tP,nP,"esm2020")})();const nee={apiKey:"AIzaSyAjjVRpKVhZL89ZufkYuvjyRkht0gKoD4M",authDomain:"deepfraud-ef936.firebaseapp.com",projectId:"deepfraud-ef936",storageBucket:"deepfraud-ef936.firebasestorage.app",messagingSenderId:"1025168785871",appId:"1:1025168785871:web:08c49508cf55fdd3a252ba",measurementId:"G-GNENHY30SY"},QU=Vk(nee),Cu=SJ(QU),oP=OZ(QU),ree=new zo,qS="deepfraud_db_v1",il="deepfraud_session",iee=t=>new Promise(e=>setTimeout(e,t)),w_=()=>{const t=localStorage.getItem(qS);return t?JSON.parse(t):[]},oee=t=>{localStorage.setItem(qS,JSON.stringify(t))},Xp=t=>{var e;return{id:t.uid,username:((e=t.email)==null?void 0:e.split("@")[0])||"Operator",role:"Analyst",clearanceLevel:3,token:t.uid}},Dr={auth:{login:async(t,e)=>{try{if(Cu&&t.includes("@")){const n=await lW(Cu,t,e),r=Xp(n.user);return localStorage.setItem(il,JSON.stringify(r)),r}}catch(n){if(n.code&&n.code.startsWith("auth/"))throw new Error(n.message);console.warn("Firebase auth failed, checking local credentials",n)}if(t.toLowerCase()==="admin"&&e==="password"){await iee(1e3);const n={id:"u_local_88",username:"Admin_Local",role:"System Admin",clearanceLevel:5,token:"mock_sess_"+Date.now()};return localStorage.setItem(il,JSON.stringify(n)),n}throw new Error("Invalid credentials")},register:async(t,e)=>{try{const n=await sW(Cu,t,e),r=Xp(n.user);return localStorage.setItem(il,JSON.stringify(r)),r}catch(n){throw n.code==="auth/email-already-in-use"?new Error("This email is already registered. Please sign in instead."):new Error(n.message)}},loginWithGoogle:async()=>{try{const t=await MW(Cu,ree),e=Xp(t.user);return localStorage.setItem(il,JSON.stringify(e)),e}catch(t){throw new Error(t.message)}},recoverSession:async()=>new Promise(t=>{const e=fW(Cu,n=>{if(e(),n){const r=Xp(n);localStorage.setItem(il,JSON.stringify(r)),t(r)}else t(null)})}),logout:async()=>{try{await dW(Cu)}catch(t){console.error(t)}localStorage.removeItem(il)},getSession:()=>{const t=localStorage.getItem(il);return t?JSON.parse(t):null}},records:{list:async()=>{try{const t=YZ(XN(oP,"analysis_logs"),WZ("timestamp","desc"),JZ(100)),e=await ZZ(t);if(!e.empty)return e.docs.map(n=>{const r=n.data();return{id:n.id,score:r.score,verdict:r.verdict,riskLevel:r.riskLevel,reasoning:r.reasoning,indicators:r.indicators,timestamp:r.timestamp,mediaType:r.mediaType,fileName:r.fileName,liveness:r.liveness}})}catch(t){console.warn("Firestore fetch error (likely missing config or permissions):",t)}return w_()},create:async t=>{try{await eee(XN(oP,"analysis_logs"),{score:t.score,verdict:t.verdict,riskLevel:t.riskLevel,reasoning:t.reasoning,indicators:t.indicators,mediaType:t.mediaType,fileName:t.fileName,liveness:t.liveness,timestamp:t.timestamp});return}catch(r){console.warn("Firestore insert failed:",r)}const e=w_(),n={...t,id:`case_${Date.now()}`};e.unshift(n),e.length>100&&e.pop(),oee(e)},clear:async()=>{localStorage.removeItem(qS)}},stats:{getSummary:async()=>{let t=[];try{t=await Dr.records.list()}catch{t=w_()}const e=t.length,n=t.filter(o=>o.score>70).length,r=t.filter(o=>o.verdict==="FAKE").length,i=e>0?Math.round(t.reduce((o,s)=>o+s.score,0)/e):0;return[{label:"Total Verifications",value:e,change:0,trend:"up"},{label:"High Risk Alerts",value:n,change:0,trend:n>0?"up":"neutral"},{label:"Avg Risk Score",value:`${i}%`,change:0,trend:"neutral"},{label:"Fraud Blocked",value:r,change:0,trend:"up"}]}}},aee=()=>{const[t,e]=N.useState("image"),[n,r]=N.useState(null),[i,o]=N.useState(""),[s,u]=N.useState(null),[f,d]=N.useState(!1),[h,m]=N.useState(null),[y,T]=N.useState(!1),[S,x]=N.useState(!1),A=N.useRef(null),P=M=>{M.type.startsWith("image/")?e("image"):M.type.startsWith("audio/")?e("audio"):M.type.startsWith("video/")?e("video"):M.type,r(M),u(URL.createObjectURL(M)),m(null),x(!1),o("")},V=M=>{M.target.files&&M.target.files[0]&&P(M.target.files[0])},L=M=>{M.preventDefault(),T(!0)},H=M=>{M.preventDefault(),T(!1)},G=M=>{M.preventDefault(),T(!1),M.dataTransfer.files&&M.dataTransfer.files[0]&&P(M.dataTransfer.files[0])},j=async()=>{const M=t==="text"?i:n;if(M){d(!0);try{const z={...await S$(M,t),fileName:t==="text"?"Text Snippet":n==null?void 0:n.name};Date.now()%2===0&&await new Promise(F=>setTimeout(F,800)),m(z),x(!0);try{await Dr.records.create(z)}catch(F){console.error("Failed to save record to backend",F)}}catch(q){console.error(q),alert("Analysis failed. Please try again.")}finally{d(!1)}}},D=()=>{r(null),o(""),u(null),m(null),x(!1),A.current&&(A.current.value="")},O=M=>{switch(M){case Kn.CRITICAL:return"text-rose-500 border-rose-500 bg-rose-950";case Kn.HIGH:return"text-orange-500 border-orange-500 bg-orange-950";case Kn.MEDIUM:return"text-amber-400 border-amber-400 bg-amber-950";default:return"text-emerald-500 border-emerald-500 bg-emerald-950"}};return R.jsxs("div",{className:"h-full flex flex-col gap-6 animate-fade-in",children:[R.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-slate-800",children:[R.jsx("div",{children:R.jsxs("h2",{className:"text-xl font-bold text-white font-mono tracking-tight flex items-center gap-2",children:[R.jsx(Vb,{className:"text-emerald-500 w-6 h-6"}),"FORENSIC LAB ",R.jsx("span",{className:"text-slate-600",children:"//"})," ANALYSIS"]})}),R.jsx("div",{className:"flex bg-slate-900/50 p-1 rounded border border-slate-700/50",children:["image","audio","video","text"].map(M=>R.jsx("button",{onClick:()=>{e(M),D()},className:`px-4 py-1.5 rounded text-xs font-mono font-bold uppercase transition-all ${t===M?"bg-slate-700 text-white shadow-sm border border-slate-600":"text-slate-500 hover:text-slate-300"} flex items-center gap-2`,children:M},M))})]}),R.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 overflow-hidden",children:[R.jsxs("div",{className:"glass-panel p-1 rounded-sm tech-border flex flex-col h-full relative group",children:[R.jsx("div",{className:"absolute top-0 right-0 bg-slate-800/80 px-2 py-1 text-[10px] font-mono text-slate-400 rounded-bl border-b border-l border-slate-700 z-20",children:"INPUT_STREAM_01"}),R.jsx("div",{className:"flex-1 bg-slate-950/50 m-1 rounded overflow-hidden relative flex flex-col",children:t==="text"?R.jsxs("div",{className:"relative w-full h-full flex flex-col",children:[R.jsxs("div",{className:"bg-slate-900 px-4 py-2 flex items-center gap-2 border-b border-slate-800",children:[R.jsx(kO,{className:"w-4 h-4 text-slate-500"}),R.jsx("span",{className:"text-xs text-slate-400 font-mono",children:"text_buffer.txt"})]}),R.jsx("textarea",{value:i,onChange:M=>o(M.target.value),placeholder:"// Paste content for pattern analysis...",className:"flex-1 w-full bg-slate-950 p-6 text-slate-300 placeholder:text-slate-700 focus:outline-none font-mono text-sm leading-relaxed resize-none selection:bg-emerald-900/50",spellCheck:!1}),f&&R.jsx("div",{className:"absolute inset-0 bg-emerald-500/5 pointer-events-none z-10",children:R.jsx("div",{className:"w-full h-1 bg-emerald-500/50 shadow-[0_0_15px_rgba(16,185,129,0.5)] animate-scan"})})]}):R.jsxs("div",{onDragOver:L,onDragLeave:H,onDrop:G,className:"flex-1 relative flex flex-col items-center justify-center min-h-[300px]",children:[R.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),s?R.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black/80",children:[f&&R.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none",children:[R.jsx("div",{className:"absolute top-4 left-4 text-emerald-500 font-mono text-xs animate-pulse",children:"ANALYZING FRAME..."}),R.jsx("div",{className:"w-full h-0.5 bg-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.8)] animate-scan absolute top-0"}),R.jsx("div",{className:"absolute inset-0 border-2 border-emerald-500/30"}),R.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-emerald-500"}),R.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-emerald-500"}),R.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-emerald-500"}),R.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-emerald-500"})]}),t==="image"&&R.jsx("img",{src:s,alt:"Preview",className:"max-h-full max-w-full object-contain"}),t==="video"&&R.jsx("video",{src:s,controls:!0,className:"max-h-full max-w-full"}),t==="audio"&&R.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-slate-900 relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 gap-1",children:[...Array(20)].map((M,q)=>R.jsx("div",{className:"w-2 bg-emerald-500 animate-pulse",style:{height:`${Math.random()*60+20}%`,animationDelay:`${q*.05}s`}},q))}),R.jsx("audio",{src:s,controls:!0,className:"relative z-10 w-2/3"})]}),!f&&R.jsx("button",{onClick:D,className:"absolute top-4 right-4 p-2 bg-black/60 hover:bg-black/90 text-white rounded border border-slate-600 transition-all z-30",children:R.jsx(LB,{className:"w-4 h-4"})})]}):R.jsxs("div",{className:"text-center p-8 z-10 transition-all duration-300 opacity-80 hover:opacity-100",children:[R.jsx("div",{className:`w-20 h-20 border border-slate-700 bg-slate-900/50 flex items-center justify-center mx-auto mb-6 transition-all duration-300 ${y?"border-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.2)]":""}`,children:R.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-600 flex items-center justify-center",children:R.jsx(dB,{className:`w-8 h-8 transition-colors ${y?"text-emerald-500":"text-slate-500"}`})})}),R.jsx("p",{className:"font-mono text-xs text-slate-400 uppercase tracking-widest mb-2",children:"Awaiting Media Input"}),R.jsx("button",{onClick:()=>{var M;return(M=A.current)==null?void 0:M.click()},className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 text-xs font-mono uppercase tracking-wider transition-colors",children:"[ Select Source ]"})]}),R.jsx("input",{type:"file",ref:A,onChange:V,className:"hidden",accept:"image/*,audio/*,video/*"})]})}),R.jsx("div",{className:"p-3 bg-slate-900/50 border-t border-slate-800",children:R.jsx("button",{onClick:j,disabled:t!=="text"&&!n||t==="text"&&!i.trim()||f,className:`w-full py-3 font-bold font-mono text-sm tracking-widest uppercase transition-all flex items-center justify-center gap-3 relative overflow-hidden ${t!=="text"&&!n||t==="text"&&!i.trim()||f?"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-700":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-[0_0_20px_rgba(16,185,129,0.3)] border border-emerald-400"}`,children:f?R.jsxs(R.Fragment,{children:[R.jsx(PO,{className:"w-4 h-4 animate-spin"}),t==="video"?"Video processing may take longer...":"PROCESSING_ARTIFACT"]}):R.jsxs(R.Fragment,{children:[R.jsx(RO,{className:"w-4 h-4"}),"INITIATE_SCAN"]})})})]}),R.jsxs("div",{className:"glass-panel p-1 rounded-sm tech-border flex flex-col h-full overflow-hidden",children:[R.jsxs("div",{className:"bg-slate-900/80 px-4 py-2 border-b border-slate-800 flex justify-between items-center",children:[R.jsx("span",{className:"text-[10px] font-mono text-slate-400 uppercase tracking-widest",children:"Analysis_Output_Log"}),h&&R.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:h.timestamp})]}),h?R.jsxs("div",{className:"flex-1 overflow-y-auto bg-slate-950/20",children:[R.jsxs("div",{className:"p-6 pb-2",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsx("span",{className:"text-[10px] font-mono text-slate-500 uppercase tracking-widest",children:"Authenticity Verdict"}),R.jsx("div",{className:`px-2 py-0.5 rounded border ${O(h.riskLevel)} bg-opacity-20`,children:R.jsxs("span",{className:"text-[10px] font-mono font-bold uppercase tracking-widest",children:[h.riskLevel," RISK"]})})]}),R.jsxs("div",{className:`text-4xl md:text-5xl font-bold tracking-tighter ${h.verdict==="FAKE"?"text-rose-500":h.verdict==="SUSPICIOUS"?"text-amber-500":"text-emerald-500"} flex items-center gap-3`,children:[h.verdict,R.jsxs("span",{className:"text-lg opacity-40 font-mono font-normal tracking-normal",children:["// ",h.score,"%"]})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 px-6 py-4",children:[R.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 p-4 rounded relative overflow-hidden",children:[R.jsxs("div",{className:"text-[10px] font-mono text-slate-500 uppercase mb-3 flex items-center gap-2",children:[R.jsx(OB,{className:"w-3 h-3"})," Fraud Probability"]}),R.jsxs("div",{className:"relative flex justify-center py-2",children:[R.jsxs("svg",{className:"w-36 h-20 overflow-visible",children:[R.jsx("defs",{children:R.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[R.jsx("stop",{offset:"0%",stopColor:"#10b981"}),R.jsx("stop",{offset:"50%",stopColor:"#f59e0b"}),R.jsx("stop",{offset:"100%",stopColor:"#f43f5e"})]})}),R.jsx("path",{d:"M 10 70 A 58 58 0 0 1 126 70",fill:"none",stroke:"#1e293b",strokeWidth:"12",strokeLinecap:"butt"}),R.jsx("path",{d:"M 10 70 A 58 58 0 0 1 126 70",fill:"none",stroke:"#020617",strokeWidth:"2",strokeDasharray:"2 4",strokeLinecap:"butt",className:"opacity-50"}),R.jsx("path",{d:"M 10 70 A 58 58 0 0 1 126 70",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"butt",strokeDasharray:"182",strokeDashoffset:182-182*h.score/100,className:"transition-all duration-1000 ease-out drop-shadow-[0_0_8px_rgba(255,255,255,0.1)]"})]}),R.jsx("div",{className:"absolute bottom-0 text-center transform translate-y-1",children:R.jsxs("span",{className:"text-3xl font-bold text-white block -mt-8 font-mono tracking-tight",children:[h.score,R.jsx("span",{className:"text-sm text-slate-500",children:"%"})]})})]})]}),R.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 p-4 rounded relative overflow-hidden flex flex-col items-center",children:[R.jsxs("div",{className:"w-full flex justify-between items-start mb-2 z-10",children:[R.jsxs("div",{className:"text-[10px] font-mono text-slate-500 uppercase flex items-center gap-2",children:[R.jsx(yB,{className:"w-3 h-3"})," Liveness"]}),h.liveness&&R.jsx("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${h.liveness.score>80?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:h.liveness.score>80?"PASS":"FAIL"})]}),h.liveness?R.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center my-1",children:[R.jsx("div",{className:"absolute inset-0 border border-slate-800 rounded-full"}),R.jsx("div",{className:"absolute inset-1 border border-slate-700 border-t-emerald-500/50 rounded-full animate-spin duration-[3s]"}),R.jsx("div",{className:"absolute inset-3 border border-slate-800 border-b-slate-600 rounded-full animate-spin direction-reverse duration-[5s]"}),R.jsxs("svg",{className:"absolute w-full h-full transform -rotate-90 p-3",children:[R.jsx("circle",{cx:"50%",cy:"50%",r:"32",stroke:"#1e293b",strokeWidth:"3",fill:"none"}),R.jsx("circle",{cx:"50%",cy:"50%",r:"32",stroke:h.liveness.score>80?"#10b981":"#f43f5e",strokeWidth:"3",fill:"none",strokeDasharray:200,strokeDashoffset:200-200*h.liveness.score/100,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),R.jsxs("div",{className:"flex flex-col items-center justify-center z-10",children:[R.jsx(NO,{className:`w-6 h-6 ${h.liveness.score>80?"text-emerald-500":"text-rose-500"}`}),R.jsxs("span",{className:"text-xs font-bold text-white mt-1",children:[h.liveness.score,"%"]})]})]}):R.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-700 text-xs",children:"N/A"})]})]}),R.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-slate-700 to-transparent"}),R.jsxs("div",{className:"pl-4",children:[R.jsx("h4",{className:"text-[10px] font-mono text-slate-500 uppercase mb-2 tracking-wider",children:"Analysis Vector"}),R.jsxs("p",{className:"text-sm text-slate-300 font-mono leading-relaxed text-xs",children:[R.jsx("span",{className:"text-emerald-500 opacity-50 mr-2",children:">"}),h.reasoning]})]})]}),R.jsxs("div",{className:"bg-slate-900/30 border border-slate-800 rounded p-4",children:[R.jsxs("h4",{className:"text-[10px] font-mono text-slate-500 uppercase mb-3 flex items-center gap-2",children:[R.jsx(Fb,{className:"w-3 h-3 text-amber-500"})," Detected Anomalies"]}),R.jsx("div",{className:"space-y-2",children:h.indicators.length>0?h.indicators.map((M,q)=>R.jsxs("div",{className:"flex items-start gap-3 group",children:[R.jsx("div",{className:"mt-1.5 w-1 h-1 bg-rose-500 rounded-full shadow-[0_0_5px_rgba(244,63,94,0.5)] group-hover:scale-150 transition-transform"}),R.jsx("span",{className:"text-xs text-slate-400 font-mono group-hover:text-slate-200 transition-colors",children:M})]},q)):R.jsx("div",{className:"text-xs text-slate-600 font-mono italic",children:"No significant anomalies detected in signal data."})})]})]}),R.jsxs("div",{className:"px-6 py-4 border-t border-slate-800 bg-slate-950/50 text-[10px] font-mono text-slate-600 flex justify-between items-center",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),R.jsx("span",{children:"DF-Neural-Net v2.4 Active"})]}),R.jsxs("span",{children:["ID: ",Math.random().toString(36).substr(2,8).toUpperCase()]})]})]}):R.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-600 font-mono",children:[R.jsxs("div",{className:"w-16 h-16 border border-slate-800 rounded-full flex items-center justify-center mb-4 relative",children:[R.jsx("div",{className:"absolute inset-0 rounded-full border border-slate-800 animate-ping opacity-20"}),R.jsx(mm,{className:"w-8 h-8 opacity-20"})]}),R.jsx("p",{className:"text-xs uppercase tracking-widest",children:"System Ready"}),R.jsx("p",{className:"text-[10px] text-slate-700 mt-2",children:"Waiting for data stream..."})]})]})]})]})},see=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(""),[i,o]=N.useState("ALL"),[s,u]=N.useState("ALL"),[f,d]=N.useState(!0),h=async()=>{d(!0);try{const A=await Dr.records.list();e(A)}catch(A){console.error(A)}finally{d(!1)}};N.useEffect(()=>{h()},[]);const m=async()=>{confirm("CONFIRM DELETE: Clear all forensic audit logs?")&&(await Dr.records.clear(),e([]))},y=A=>{switch(A){case Kn.CRITICAL:return R.jsx("span",{className:"font-mono text-[10px] text-rose-500 font-bold border border-rose-900/50 bg-rose-950/30 px-2 py-0.5 rounded",children:"CRIT"});case Kn.HIGH:return R.jsx("span",{className:"font-mono text-[10px] text-orange-500 font-bold border border-orange-900/50 bg-orange-950/30 px-2 py-0.5 rounded",children:"HIGH"});case Kn.MEDIUM:return R.jsx("span",{className:"font-mono text-[10px] text-amber-500 font-bold border border-amber-900/50 bg-amber-950/30 px-2 py-0.5 rounded",children:"MED"});default:return R.jsx("span",{className:"font-mono text-[10px] text-emerald-500 font-bold border border-emerald-900/50 bg-emerald-950/30 px-2 py-0.5 rounded",children:"LOW"})}},T=A=>{switch(A){case"audio":return R.jsx(_B,{className:"w-3.5 h-3.5 text-sky-400"});case"video":return R.jsx(SB,{className:"w-3.5 h-3.5 text-purple-400"});case"text":return R.jsx(wB,{className:"w-3.5 h-3.5 text-slate-400"});default:return R.jsx(TB,{className:"w-3.5 h-3.5 text-emerald-400"})}},S=t.filter(A=>{const P=(A.fileName||"").toLowerCase().includes(n.toLowerCase())||A.verdict.toLowerCase().includes(n.toLowerCase())||A.reasoning.toLowerCase().includes(n.toLowerCase()),V=i==="ALL"||A.riskLevel===i,L=s==="ALL"||A.mediaType===s;return P&&V&&L}),x=({active:A,label:P,onClick:V})=>R.jsx("button",{onClick:V,className:`px-2 py-1 rounded text-[10px] font-mono uppercase tracking-wider transition-all border ${A?"bg-slate-700 text-white border-slate-500":"bg-transparent text-slate-500 border-transparent hover:text-slate-300 hover:bg-slate-900"}`,children:P});return R.jsxs("div",{className:"h-full flex flex-col gap-6 animate-fade-in",children:[R.jsxs("div",{className:"flex justify-between items-end pb-4 border-b border-slate-800",children:[R.jsx("div",{children:R.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2 font-mono tracking-tight",children:[R.jsx(YC,{className:"w-5 h-5 text-emerald-500"}),"CASE_LOGS ",R.jsx("span",{className:"text-slate-600",children:"//"})," ARCHIVE"]})}),R.jsxs("button",{onClick:m,className:"text-xs text-rose-500 hover:text-rose-400 transition-colors flex items-center gap-2 font-mono uppercase tracking-wider",children:[R.jsx(eq,{className:"w-3 h-3"}),"Purge Data"]})]}),R.jsxs("div",{className:"glass-panel rounded-sm tech-border flex flex-col flex-1 overflow-hidden",children:[R.jsxs("div",{className:"p-3 border-b border-slate-800/50 bg-slate-900/30 flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[R.jsxs("div",{className:"relative w-full max-w-xs group",children:[R.jsx(iT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-500 group-focus-within:text-emerald-500 transition-colors"}),R.jsx("input",{type:"text",placeholder:"Search logs (ID, Verdict, Reason)...",value:n,onChange:A=>r(A.target.value),className:"w-full bg-slate-950/50 border border-slate-700 rounded-sm pl-9 pr-8 py-1.5 text-xs text-white focus:outline-none focus:border-emerald-500/50 font-mono placeholder:text-slate-700 transition-all"}),n&&R.jsx("button",{onClick:()=>r(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-600 hover:text-rose-500 transition-colors p-1",children:R.jsx(oq,{className:"w-3 h-3"})})]}),R.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wider",children:"Risk"}),R.jsxs("div",{className:"flex bg-slate-950/30 p-0.5 rounded border border-slate-800",children:[R.jsx(x,{active:i==="ALL",label:"All",onClick:()=>o("ALL")}),R.jsx(x,{active:i===Kn.MEDIUM,label:"Med",onClick:()=>o(Kn.MEDIUM)}),R.jsx(x,{active:i===Kn.HIGH,label:"High",onClick:()=>o(Kn.HIGH)})]})]}),R.jsx("div",{className:"w-px h-4 bg-slate-800 hidden sm:block"}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wider",children:"Type"}),R.jsxs("div",{className:"flex bg-slate-950/30 p-0.5 rounded border border-slate-800",children:[R.jsx(x,{active:s==="ALL",label:"All",onClick:()=>u("ALL")}),R.jsx(x,{active:s==="image",label:"Img",onClick:()=>u("image")}),R.jsx(x,{active:s==="text",label:"Txt",onClick:()=>u("text")})]})]})]})]}),R.jsx("div",{className:"flex-1 overflow-auto bg-slate-950/20",children:f?R.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 font-mono",children:[R.jsx("div",{className:"w-6 h-6 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin mb-2"}),R.jsx("p",{className:"text-xs tracking-widest uppercase",children:"Fetching Records..."})]}):t.length===0?R.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 font-mono",children:[R.jsx(YC,{className:"w-8 h-8 mb-4 opacity-20"}),R.jsx("p",{className:"text-xs tracking-widest uppercase",children:"Database Empty"})]}):S.length===0?R.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 font-mono",children:[R.jsx(iT,{className:"w-8 h-8 mb-4 opacity-20"}),R.jsx("p",{className:"text-xs tracking-widest uppercase",children:"No Records Found"})]}):R.jsxs("table",{className:"w-full text-left border-collapse",children:[R.jsx("thead",{className:"bg-slate-900 text-slate-500 text-[10px] uppercase font-mono tracking-wider sticky top-0 z-10",children:R.jsxs("tr",{children:[R.jsx("th",{className:"px-4 py-3 font-medium border-b border-slate-800",children:"Time"}),R.jsx("th",{className:"px-4 py-3 font-medium border-b border-slate-800",children:"Source ID"}),R.jsx("th",{className:"px-4 py-3 font-medium border-b border-slate-800",children:"Format"}),R.jsx("th",{className:"px-4 py-3 font-medium border-b border-slate-800",children:"Risk"}),R.jsx("th",{className:"px-4 py-3 font-medium border-b border-slate-800",children:"Conf."}),R.jsx("th",{className:"px-4 py-3 font-medium border-b border-slate-800",children:"Verdict"})]})}),R.jsx("tbody",{className:"divide-y divide-slate-800/50",children:S.map((A,P)=>R.jsxs("tr",{className:"hover:bg-emerald-500/5 transition-colors group cursor-default",children:[R.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 font-mono whitespace-nowrap",children:new Date(A.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),R.jsx("td",{className:"px-4 py-3 text-xs text-slate-300 font-medium truncate max-w-[150px]",children:A.fileName||"RAW_INPUT"}),R.jsx("td",{className:"px-4 py-3",children:R.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400 font-mono uppercase",children:[T(A.mediaType),A.mediaType]})}),R.jsx("td",{className:"px-4 py-3",children:y(A.riskLevel)}),R.jsx("td",{className:"px-4 py-3",children:R.jsxs("span",{className:`text-xs font-mono font-bold ${A.score>80?"text-white":"text-slate-400"}`,children:[A.score,"%"]})}),R.jsx("td",{className:"px-4 py-3 text-xs font-mono",children:R.jsx("span",{className:A.verdict==="REAL"?"text-emerald-500":A.verdict==="FAKE"?"text-rose-500":"text-amber-500",children:A.verdict})})]},P))})]})})]})]})};function ZU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZU(t))&&(r&&(r+=" "),r+=e);return r}var lee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function HS(t){if(typeof t!="string")return!1;var e=lee;return e.includes(t)}var uee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cee=new Set(uee);function eV(t){return typeof t!="string"?!1:cee.has(t)}function tV(t){return typeof t=="string"&&t.startsWith("data-")}function Di(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(eV(n)||tV(n))&&(e[n]=t[n]);return e}function by(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Di(e)}return typeof t=="object"&&!Array.isArray(t)?Di(t):null}function Lr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(eV(n)||tV(n)||HS(n))&&(e[n]=t[n]);return e}function fee(t){return t==null?null:N.isValidElement(t)?Lr(t.props):typeof t=="object"&&!Array.isArray(t)?Lr(t):null}var dee=["children","width","height","viewBox","className","style","title","desc"];function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function hee(t,e){if(t==null)return{};var n,r,i=pee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nV=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:f,desc:d}=t,h=hee(t,dee),m=o||{width:r,height:i,x:0,y:0},y=bt("recharts-surface",s);return N.createElement("svg",GT({},Lr(h),{className:y,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,d),n)}),mee=["children","className"];function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(null,arguments)}function gee(t,e){if(t==null)return{};var n,r,i=yee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oi=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=gee(t,mee),o=bt("recharts-layer",r);return N.createElement("g",jT({className:o},Lr(i),{ref:e}),n)}),rV=CO(),vee=N.createContext(null);function Lt(t){return function(){return t}}const $T=Math.PI,KT=2*$T,sl=1e-6,_ee=KT-sl;function iV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Eee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Tee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iV:Eee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,f=r-e,d=i-n,h=s-e,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>sl)if(!(Math.abs(m*f-d*h)>sl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let T=r-s,S=i-u,x=f*f+d*d,A=T*T+S*S,P=Math.sqrt(x),V=Math.sqrt(y),L=o*Math.tan(($T-Math.acos((x+y-A)/(2*P*V)))/2),H=L/V,G=L/P;Math.abs(H-1)>sl&&this._append`L${e+H*h},${n+H*m}`,this._append`A${o},${o},0,0,${+(m*T>h*S)},${this._x1=e+G*f},${this._y1=n+G*d}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,m=1^s,y=s?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>sl||Math.abs(this._y1-h)>sl)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%KT+KT),y>_ee?this._append`A${r},${r},0,1,${m},${e-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:y>sl&&this._append`A${r},${r},0,${+(y>=$T)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oV(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Tee(e)}function GS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aV(t){this._context=t}aV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sy(t){return new aV(t)}function sV(t){return t[0]}function lV(t){return t[1]}function uV(t,e){var n=Lt(!0),r=null,i=Sy,o=null,s=oV(u);t=typeof t=="function"?t:t===void 0?sV:Lt(t),e=typeof e=="function"?e:e===void 0?lV:Lt(e);function u(f){var d,h=(f=GS(f)).length,m,y=!1,T;for(r==null&&(o=i(T=s())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(m,d,f),+e(m,d,f));if(T)return o=null,T+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Lt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Qp(t,e,n){var r=null,i=Lt(!0),o=null,s=Sy,u=null,f=oV(d);t=typeof t=="function"?t:t===void 0?sV:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lV:Lt(+n);function d(m){var y,T,S,x=(m=GS(m)).length,A,P=!1,V,L=new Array(x),H=new Array(x);for(o==null&&(u=s(V=f())),y=0;y<=x;++y){if(!(y<x&&i(A=m[y],y,m))===P)if(P=!P)T=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=T;--S)u.point(L[S],H[S]);u.lineEnd(),u.areaEnd()}P&&(L[y]=+t(A,y,m),H[y]=+e(A,y,m),u.point(r?+r(A,y,m):L[y],n?+n(A,y,m):H[y]))}if(V)return u=null,V+""||null}function h(){return uV().defined(i).curve(s).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Lt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Lt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Lt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Lt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Lt(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,o!=null&&(u=s(o)),d):s},d.context=function(m){return arguments.length?(m==null?o=u=null:u=s(o=m),d):o},d}class cV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bee(t){return new cV(t,!0)}function See(t){return new cV(t,!1)}function sg(){}function lg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fV(t){this._context=t}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Aee(t){return new fV(t)}function dV(t){this._context=t}dV.prototype={areaStart:sg,areaEnd:sg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wee(t){return new dV(t)}function hV(t){this._context=t}hV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xee(t){return new hV(t)}function pV(t){this._context=t}pV.prototype={areaStart:sg,areaEnd:sg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cee(t){return new pV(t)}function aP(t){return t<0?-1:1}function sP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(aP(o)+aP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function lP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function x_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function ug(t){this._context=t}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x_(this,this._t0,lP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,x_(this,lP(this,n=sP(this,t,e)),n);break;default:x_(this,this._t0,n=sP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mV(t){this._context=new gV(t)}(mV.prototype=Object.create(ug.prototype)).point=function(t,e){ug.prototype.point.call(this,e,t)};function gV(t){this._context=t}gV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Iee(t){return new ug(t)}function Ree(t){return new mV(t)}function yV(t){this._context=t}yV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uP(t),i=uP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Nee(t){return new yV(t)}function Ay(t,e){this._context=t,this._t=e}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Pee(t){return new Ay(t,.5)}function Mee(t){return new Ay(t,0)}function Dee(t){return new Ay(t,1)}function xl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function YT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Oee(t,e){return t[e]}function kee(t){const e=[];return e.key=t,e}function Lee(){var t=Lt([]),e=YT,n=xl,r=Oee;function i(o){var s=Array.from(t.apply(this,arguments),kee),u,f=s.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(s[u][d]=[0,+r(m,s[u].key,d,o)]).data=m;for(u=0,h=GS(e(s));u<f;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Lt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?YT:typeof o=="function"?o:Lt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??xl,i):n},i}function Uee(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}xl(t,e)}}function Vee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}xl(t,e)}}function Fee(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,f=0,d=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,y=h[r-1][1]||0,T=(m-y)/2,S=0;S<u;++S){var x=t[e[S]],A=x[r][1]||0,P=x[r-1][1]||0;T+=A-P}f+=m,d+=T*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,xl(t,e)}}var C_={},I_={},cP;function zee(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(I_)),I_}var R_={},fP;function vV(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(R_)),R_}var N_={},dP;function jS(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(N_)),N_}var P_={},M_={},hP;function Bee(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(M_)),M_}var pP;function $S(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bee(),n=jS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],s=i.length;if(s===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<s;){const m=i[u];d?m==="\\"&&u+1<s?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,u++}return f&&o.push(f),o}t.toPath=r})(P_)),P_}var mP;function KS(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zee(),n=vV(),r=jS(),i=$S();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return s(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function s(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||e.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}t.get=o})(C_)),C_}var D_,gP;function qee(){return gP||(gP=1,D_=KS().get),D_}var Hee=qee();const wy=la(Hee);var Gee=4;function as(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Dn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,s)=>{var u=n[s-1];return typeof u=="string"?i+u+o:u!==void 0?i+as(u)+o:i+o},"")}var ti=t=>t===0?0:t>0?1:-1,Ur=t=>typeof t=="number"&&t!=+t,na=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,we=t=>(typeof t=="number"||t instanceof Number)&&!Ur(t),ai=t=>we(t)||typeof t=="string",jee=0,vd=t=>{var e=++jee;return"".concat(t||"").concat(e)},Es=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(e)&&typeof e!="string")return r;var o;if(na(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Ur(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},_V=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function ao(t,e,n){return we(t)&&we(e)?as(t+n*(e-t)):e}function EV(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):wy(r,e))===n)}var Fn=t=>t===null||typeof t>"u",YS=t=>Fn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function $ee(t){return t!=null}function jd(){}var TV=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,WS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{HS(i)&&(r[i]=(o=>n[i](n,o)))}),r},Kee=(t,e,n)=>r=>(t(e,n,r),null),Yee=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];HS(i)&&typeof o=="function"&&(r||(r={}),r[i]=Kee(o,e,n))}),r};function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=Xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e){var n=Wee({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}var O_={},k_={},vP;function Zee(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s,o,n);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(k_)),k_}var L_={},_P;function ete(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(L_)),L_}var U_={},EP;function bV(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(U_)),U_}var V_={},F_={},z_={},TP;function tte(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(z_)),z_}var bP;function JS(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(F_)),F_}var B_={},SP;function nte(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(B_)),B_}var AP;function rte(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JS(),n=nte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(V_)),V_}var q_={},H_={},wP;function ite(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(H_)),H_}var G_={},j_={},$_={},K_={},xP;function SV(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(K_)),K_}var Y_={},CP;function AV(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Y_)),Y_}var W_={},IP;function wV(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(W_)),W_}var RP;function ote(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SV(),n=AV(),r=wV();function i(h,m,y){return typeof y!="function"?i(h,m,()=>{}):o(h,m,function T(S,x,A,P,V,L){const H=y(S,x,A,P,V,L);return H!==void 0?!!H:o(S,x,T,L)},new Map)}function o(h,m,y,T){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,y,T);case"function":return Object.keys(m).length>0?o(h,{...m},y,T):r.isEqualsSameValueZero(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(h,m)}}function s(h,m,y,T){if(m==null)return!0;if(Array.isArray(m))return f(h,m,y,T);if(m instanceof Map)return u(h,m,y,T);if(m instanceof Set)return d(h,m,y,T);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(T!=null&&T.has(m))return T.get(m)===h;T==null||T.set(m,h);try{for(let x=0;x<S.length;x++){const A=S[x];if(!n.isPrimitive(h)&&!(A in h)||m[A]===void 0&&h[A]!==void 0||m[A]===null&&h[A]!==null||!y(h[A],m[A],A,h,m,T))return!1}return!0}finally{T==null||T.delete(m)}}function u(h,m,y,T){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,x]of m.entries()){const A=h.get(S);if(y(A,x,S,h,m,T)===!1)return!1}return!0}function f(h,m,y,T){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let x=0;x<m.length;x++){const A=m[x];let P=!1;for(let V=0;V<h.length;V++){if(S.has(V))continue;const L=h[V];let H=!1;if(y(L,A,x,h,m,T)&&(H=!0),H){S.add(V),P=!0;break}}if(!P)return!1}return!0}function d(h,m,y,T){return m.size===0?!0:h instanceof Set?f([...h],[...m],y,T):!1}t.isMatchWith=i,t.isSetMatch=d})($_)),$_}var NP;function xV(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ote();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(j_)),j_}var J_={},X_={},Q_={},PP;function ate(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Q_)),Q_}var Z_={},MP;function XS(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Z_)),Z_}var eE={},DP;function CV(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",y="[object ArrayBuffer]",T="[object Object]",S="[object Error]",x="[object DataView]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",V="[object Uint16Array]",L="[object Uint32Array]",H="[object BigUint64Array]",G="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",O="[object BigInt64Array]",M="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=H,t.booleanTag=i,t.dataViewTag=x,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=M,t.float64ArrayTag=q,t.functionTag=m,t.int16ArrayTag=j,t.int32ArrayTag=D,t.int8ArrayTag=G,t.mapTag=f,t.numberTag=r,t.objectTag=T,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=V,t.uint32ArrayTag=L,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=P})(eE)),eE}var tE={},OP;function ste(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(tE)),tE}var kP;function IV(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ate(),n=XS(),r=CV(),i=AV(),o=ste();function s(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,y,T=new Map,S=void 0){const x=S==null?void 0:S(h,m,y,T);if(x!==void 0)return x;if(i.isPrimitive(h))return h;if(T.has(h))return T.get(h);if(Array.isArray(h)){const A=new Array(h.length);T.set(h,A);for(let P=0;P<h.length;P++)A[P]=u(h[P],P,y,T,S);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;T.set(h,A);for(const[P,V]of h)A.set(P,u(V,P,y,T,S));return A}if(h instanceof Set){const A=new Set;T.set(h,A);for(const P of h)A.add(u(P,void 0,y,T,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);T.set(h,A);for(let P=0;P<h.length;P++)A[P]=u(h[P],P,y,T,S);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return T.set(h,A),f(A,h,y,T,S),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return T.set(h,A),f(A,h,y,T,S),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return T.set(h,A),f(A,h,y,T,S),A}if(h instanceof Error){const A=new h.constructor;return T.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,f(A,h,y,T,S),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return T.set(h,A),f(A,h,y,T,S),A}if(h instanceof Number){const A=new Number(h.valueOf());return T.set(h,A),f(A,h,y,T,S),A}if(h instanceof String){const A=new String(h.valueOf());return T.set(h,A),f(A,h,y,T,S),A}if(typeof h=="object"&&d(h)){const A=Object.create(Object.getPrototypeOf(h));return T.set(h,A),f(A,h,y,T,S),A}return h}function f(h,m,y=h,T,S){const x=[...Object.keys(m),...e.getSymbols(m)];for(let A=0;A<x.length;A++){const P=x[A],V=Object.getOwnPropertyDescriptor(h,P);(V==null||V.writable)&&(h[P]=u(m[P],P,y,T,S))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=f})(X_)),X_}var LP;function lte(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IV();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(J_)),J_}var UP;function ute(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xV(),n=lte();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(G_)),G_}var nE={},rE={},iE={},VP;function cte(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IV(),n=XS(),r=CV();function i(o,s){return e.cloneDeepWith(o,(u,f,d,h)=>{const m=s==null?void 0:s(u,f,d,h);if(m!==void 0)return m;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const y={};return h.set(o,y),e.copyProperties(y,o,d,h),y}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(y,o),y}case r.argumentsTag:{const y={};return e.copyProperties(y,o),y.length=o.length,y[Symbol.iterator]=o[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(iE)),iE}var FP;function fte(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cte();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(rE)),rE}var oE={},aE={},zP;function RV(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(aE)),aE}var sE={},BP;function dte(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XS();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(sE)),sE}var qP;function hte(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vV(),n=RV(),r=dte(),i=$S();function o(s,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=s;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(oE)),oE}var HP;function pte(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xV(),n=jS(),r=fte(),i=KS(),o=hte();function s(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=s})(nE)),nE}var GP;function mte(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bV(),n=ite(),r=ute(),i=pte();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(q_)),q_}var jP;function gte(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zee(),n=ete(),r=bV(),i=rte(),o=mte();function s(u,f=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(o.iteratee(f),1)):[]}t.uniqBy=s})(O_)),O_}var lE,$P;function yte(){return $P||($P=1,lE=gte().uniqBy),lE}var vte=yte();const KP=la(vte);function _te(t,e,n){return e===!0?KP(t,n):typeof e=="function"?KP(t,e):t}var uE={exports:{}},cE={},fE={exports:{}},dE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP;function Ete(){if(YP)return dE;YP=1;var t=dc();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(m,y){var T=y(),S=r({inst:{value:T,getSnapshot:y}}),x=S[0].inst,A=S[1];return o(function(){x.value=T,x.getSnapshot=y,f(x)&&A({inst:x})},[m,T,y]),i(function(){return f(x)&&A({inst:x}),m(function(){f(x)&&A({inst:x})})},[m]),s(T),T}function f(m){var y=m.getSnapshot;m=m.value;try{var T=y();return!n(m,T)}catch{return!0}}function d(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return dE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,dE}var WP;function Tte(){return WP||(WP=1,fE.exports=Ete()),fE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP;function bte(){if(JP)return cE;JP=1;var t=dc(),e=Tte();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,f=t.useDebugValue;return cE.useSyncExternalStoreWithSelector=function(d,h,m,y,T){var S=o(null);if(S.current===null){var x={hasValue:!1,value:null};S.current=x}else x=S.current;S=u(function(){function P(j){if(!V){if(V=!0,L=j,j=y(j),T!==void 0&&x.hasValue){var D=x.value;if(T(D,j))return H=D}return H=j}if(D=H,r(L,j))return D;var O=y(j);return T!==void 0&&T(D,O)?(L=j,D):(L=j,H=O)}var V=!1,L,H,G=m===void 0?null:m;return[function(){return P(h())},G===null?void 0:function(){return P(G())}]},[h,m,y,T]);var A=i(d,S[0],S[1]);return s(function(){x.hasValue=!0,x.value=A},[A]),f(A),A},cE}var XP;function Ste(){return XP||(XP=1,uE.exports=bte()),uE.exports}var Ate=Ste(),QS=N.createContext(null),wte=t=>t,fn=()=>{var t=N.useContext(QS);return t?t.store.dispatch:wte},Im=()=>{},xte=()=>Im,Cte=(t,e)=>t===e;function xe(t){var e=N.useContext(QS);return Ate.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:xte,e?e.store.getState:Im,e?e.store.getState:Im,e?t:Im,Cte)}function Ite(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Rte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Nte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var QP=t=>Array.isArray(t)?t:[t];function Pte(t){const e=Array.isArray(t[0])?t[0]:t;return Nte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Mte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Dte=class{constructor(t){this.value=t}deref(){return this.value}},Ote=typeof WeakRef<"u"?WeakRef:Dte,kte=0,ZP=1;function Zp(){return{s:kte,v:void 0,o:null,p:null}}function NV(t,e={}){let n=Zp();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var m;let u=n;const{length:f}=arguments;for(let y=0,T=f;y<T;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let x=u.o;x===null&&(u.o=x=new WeakMap);const A=x.get(S);A===void 0?(u=Zp(),x.set(S,u)):u=A}else{let x=u.p;x===null&&(u.p=x=new Map);const A=x.get(S);A===void 0?(u=Zp(),x.set(S,u)):u=A}}const d=u;let h;if(u.s===ZP)h=u.v;else if(h=t.apply(null,arguments),o++,r){const y=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;y!=null&&r(y,h)&&(h=y,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Ote(h):h}return d.s=ZP,d.v=h,h}return s.clearCache=()=>{n=Zp(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Lte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),Ite(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:y=[],argsMemoize:T=NV,argsMemoizeOptions:S=[]}=h,x=QP(y),A=QP(S),P=Pte(i),V=m(function(){return o++,d.apply(null,arguments)},...x),L=T(function(){s++;const G=Mte(P,arguments);return u=V.apply(null,G),u},...A);return Object.assign(L,{resultFunc:d,memoizedResultFunc:V,dependencies:P,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:T})};return Object.assign(r,{withTypes:()=>r}),r}var re=Lte(NV),Ute=Object.assign((t,e=re)=>{Rte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,f)=>(s[n[f]]=u,s),{}))},{withTypes:()=>Ute}),hE={},pE={},mE={},eM;function Vte(){return eM||(eM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(mE)),mE}var gE={},yE={},tM;function PV(){return tM||(tM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(yE)),yE}var nM;function Fte(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PV(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(gE)),gE}var rM;function zte(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vte(),n=Fte(),r=$S();function i(o,s,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(T=>String(T));const d=(T,S)=>{let x=T;for(let A=0;A<S.length&&x!=null;++A)x=x[S[A]];return x},h=(T,S)=>S==null||T==null?S:typeof T=="object"&&"key"in T?Object.hasOwn(S,T.key)?S[T.key]:d(S,T.path):typeof T=="function"?T(S):Array.isArray(T)?d(S,T):typeof S=="object"?S[T]:S,m=s.map(T=>(Array.isArray(T)&&T.length===1&&(T=T[0]),T==null||typeof T=="function"||Array.isArray(T)||n.isKey(T)?T:{key:T,path:r.toPath(T)}));return o.map(T=>({original:T,criteria:m.map(S=>h(S,T))})).slice().sort((T,S)=>{for(let x=0;x<m.length;x++){const A=e.compareValues(T.criteria[x],S.criteria[x],u[x]);if(A!==0)return A}return 0}).map(T=>T.original)}t.orderBy=i})(pE)),pE}var vE={},iM;function Bte(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?s(h,f+1):i.push(h)}};return s(n,0),i}t.flatten=e})(vE)),vE}var _E={},oM;function MV(){return oM||(oM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RV(),n=JS(),r=SV(),i=wV();function o(s,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],s):!1}t.isIterateeCall=o})(_E)),_E}var aM;function qte(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zte(),n=Bte(),r=MV();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(hE)),hE}var EE,sM;function Hte(){return sM||(sM=1,EE=qte().sortBy),EE}var Gte=Hte();const xy=la(Gte);var DV=t=>t.legend.settings,jte=t=>t.legend.size,$te=t=>t.legend.payload;re([$te,DV],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?xy(r,n):r});var em=1;function Kte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>em||Math.abs(s.left-e.left)>em||Math.abs(s.top-e.top)>em||Math.abs(s.width-e.width)>em)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Yte=typeof Symbol=="function"&&Symbol.observable||"@@observable",lM=Yte,TE=()=>Math.random().toString(36).substring(7).split("").join("."),Wte={INIT:`@@redux/INIT${TE()}`,REPLACE:`@@redux/REPLACE${TE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TE()}`},cg=Wte;function ZS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function OV(t,e,n){if(typeof t!="function")throw new Error(Mn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mn(1));return n(OV)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,f=!1;function d(){s===o&&(s=new Map,o.forEach((A,P)=>{s.set(P,A)}))}function h(){if(f)throw new Error(Mn(3));return i}function m(A){if(typeof A!="function")throw new Error(Mn(4));if(f)throw new Error(Mn(5));let P=!0;d();const V=u++;return s.set(V,A),function(){if(P){if(f)throw new Error(Mn(6));P=!1,d(),s.delete(V),o=null}}}function y(A){if(!ZS(A))throw new Error(Mn(7));if(typeof A.type>"u")throw new Error(Mn(8));if(typeof A.type!="string")throw new Error(Mn(17));if(f)throw new Error(Mn(9));try{f=!0,i=r(i,A)}finally{f=!1}return(o=s).forEach(V=>{V()}),A}function T(A){if(typeof A!="function")throw new Error(Mn(10));r=A,y({type:cg.REPLACE})}function S(){const A=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Mn(11));function V(){const H=P;H.next&&H.next(h())}return V(),{unsubscribe:A(V)}},[lM](){return this}}}return y({type:cg.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:T,[lM]:S}}function Jte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:cg.INIT})>"u")throw new Error(Mn(12));if(typeof n(void 0,{type:cg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mn(13))})}function kV(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Jte(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],T=s[m],S=y(T,u);if(typeof S>"u")throw u&&u.type,new Error(Mn(14));d[m]=S,f=f||S!==T}return f=f||r.length!==Object.keys(s).length,f?d:s}}function fg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Xte(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Mn(15))};const s={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=t.map(f=>f(s));return o=fg(...u)(i.dispatch),{...i,dispatch:o}}}function LV(t){return ZS(t)&&"type"in t&&typeof t.type=="string"}var UV=Symbol.for("immer-nothing"),uM=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function bi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Or=Object,ac=Or.getPrototypeOf,dg="constructor",Cy="prototype",WT="configurable",hg="enumerable",Rm="writable",_d="value",ra=t=>!!t&&!!t[ar];function ki(t){var e;return t?VV(t)||Ry(t)||!!t[uM]||!!((e=t[dg])!=null&&e[uM])||Ny(t)||Py(t):!1}var Qte=Or[Cy][dg].toString(),cM=new WeakMap;function VV(t){if(!t||!eA(t))return!1;const e=ac(t);if(e===null||e===Or[Cy])return!0;const n=Or.hasOwnProperty.call(e,dg)&&e[dg];if(n===Object)return!0;if(!Lu(n))return!1;let r=cM.get(n);return r===void 0&&(r=Function.toString.call(n),cM.set(n,r)),r===Qte}function Iy(t,e,n=!0){$d(t)===0?(n?Reflect.ownKeys(t):Or.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function $d(t){const e=t[ar];return e?e.type_:Ry(t)?1:Ny(t)?2:Py(t)?3:0}var fM=(t,e,n=$d(t))=>n===2?t.has(e):Or[Cy].hasOwnProperty.call(t,e),JT=(t,e,n=$d(t))=>n===2?t.get(e):t[e],pg=(t,e,n,r=$d(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Zte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ry=Array.isArray,Ny=t=>t instanceof Map,Py=t=>t instanceof Set,eA=t=>typeof t=="object",Lu=t=>typeof t=="function",bE=t=>typeof t=="boolean";function ene(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Fo=t=>t.copy_||t.base_,tA=t=>t.modified_?t.copy_:t.base_;function XT(t,e){if(Ny(t))return new Map(t);if(Py(t))return new Set(t);if(Ry(t))return Array[Cy].slice.call(t);const n=VV(t);if(e===!0||e==="class_only"&&!n){const r=Or.getOwnPropertyDescriptors(t);delete r[ar];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u[Rm]===!1&&(u[Rm]=!0,u[WT]=!0),(u.get||u.set)&&(r[s]={[WT]:!0,[Rm]:!0,[hg]:u[hg],[_d]:t[s]})}return Or.create(ac(t),r)}else{const r=ac(t);if(r!==null&&n)return{...t};const i=Or.create(r);return Or.assign(i,t)}}function nA(t,e=!1){return My(t)||ra(t)||!ki(t)||($d(t)>1&&Or.defineProperties(t,{set:tm,add:tm,clear:tm,delete:tm}),Or.freeze(t),e&&Iy(t,(n,r)=>{nA(r,!0)},!1)),t}function tne(){bi(2)}var tm={[_d]:tne};function My(t){return t===null||!eA(t)?!0:Or.isFrozen(t)}var mg="MapSet",QT="Patches",dM="ArrayMethods",FV={};function Cl(t){const e=FV[t];return e||bi(0,t),e}var hM=t=>!!FV[t],Ed,zV=()=>Ed,nne=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hM(mg)?Cl(mg):void 0,arrayMethodsPlugin_:hM(dM)?Cl(dM):void 0});function pM(t,e){e&&(t.patchPlugin_=Cl(QT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ZT(t){eb(t),t.drafts_.forEach(rne),t.drafts_=null}function eb(t){t===Ed&&(Ed=t.parent_)}var mM=t=>Ed=nne(Ed,t);function rne(t){const e=t[ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ar].modified_&&(ZT(e),bi(4)),ki(t)&&(t=yM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ar].base_,t,e)}else t=yM(e,n);return ine(e,t,!0),ZT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==UV?t:void 0}function yM(t,e){if(My(e))return e;const n=e[ar];if(!n)return gg(e,t.handledSet_,t);if(!Dy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);HV(n,t)}return n.copy_}function ine(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nA(e,n)}function BV(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Dy=(t,e)=>t.scope_===e,one=[];function qV(t,e,n,r){const i=Fo(t),o=t.type_;if(r!==void 0&&JT(i,r,o)===e){pg(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Iy(i,(f,d)=>{if(ra(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const s=t.draftLocations_.get(e)??one;for(const u of s)pg(i,u,n,o)}function ane(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!Dy(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const s=tA(o);qV(t,o.draft_??o,s,n),HV(o,i)})}function HV(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}BV(t)}}function sne(t,e,n){const{scope_:r}=t;if(ra(n)){const i=n[ar];Dy(i,r)&&i.callbacks_.push(function(){Nm(t);const s=tA(i);qV(t,n,s,e)})}else ki(n)&&t.callbacks_.push(function(){const o=Fo(t);t.type_===3?o.has(n)&&gg(n,r.handledSet_,r):JT(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&gg(JT(t.copy_,e,t.type_),r.handledSet_,r)})}function gg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ra(t)||e.has(t)||!ki(t)||My(t)||(e.add(t),Iy(t,(r,i)=>{if(ra(i)){const o=i[ar];if(Dy(o,n)){const s=tA(o);pg(t,r,s,t.type_),BV(o)}}else ki(i)&&gg(i,e,n)})),t}function lne(t,e){const n=Ry(t),r={type_:n?1:0,scope_:e?e.scope_:zV(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=yg;n&&(i=[r],o=Td);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,[u,r]}var yg={get(t,e){if(e===ar)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Fo(t);if(!fM(i,e,t.type_))return une(t,i,e);const o=i[e];if(t.finalized_||!ki(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&ene(e))return o;if(o===SE(t.base_,e)){Nm(t);const s=t.type_===1?+e:e,u=nb(t.scope_,o,t,s);return t.copy_[s]=u}return o},has(t,e){return e in Fo(t)},ownKeys(t){return Reflect.ownKeys(Fo(t))},set(t,e,n){const r=GV(Fo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=SE(Fo(t),e),o=i==null?void 0:i[ar];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Zte(n,i)&&(n!==void 0||fM(t.base_,e,t.type_)))return!0;Nm(t),tb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),sne(t,e,n)),!0},deleteProperty(t,e){return Nm(t),SE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),tb(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Rm]:!0,[WT]:t.type_!==1||e!=="length",[hg]:r[hg],[_d]:n[e]}},defineProperty(){bi(11)},getPrototypeOf(t){return ac(t.base_)},setPrototypeOf(){bi(12)}},Td={};for(let t in yg){let e=yg[t];Td[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Td.deleteProperty=function(t,e){return Td.set.call(this,t,e,void 0)};Td.set=function(t,e,n){return yg.set.call(this,t[0],e,n,t[0])};function SE(t,e){const n=t[ar];return(n?Fo(n):t)[e]}function une(t,e,n){var i;const r=GV(e,n);return r?_d in r?r[_d]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function GV(t,e){if(!(e in t))return;let n=ac(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ac(n)}}function tb(t){t.modified_||(t.modified_=!0,t.parent_&&tb(t.parent_))}function Nm(t){t.copy_||(t.assigned_=new Map,t.copy_=XT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Lu(n)&&!Lu(r)){const s=r;r=n;const u=this;return function(d=s,...h){return u.produce(d,m=>r.call(this,m,...h))}}Lu(r)||bi(6),i!==void 0&&!Lu(i)&&bi(7);let o;if(ki(n)){const s=mM(this),u=nb(s,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?ZT(s):eb(s)}return pM(s,i),gM(o,s)}else if(!n||!eA(n)){if(o=r(n),o===void 0&&(o=n),o===UV&&(o=void 0),this.autoFreeze_&&nA(o,!0),i){const s=[],u=[];Cl(QT).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:u}),i(s,u)}return o}else bi(1,n)},this.produceWithPatches=(n,r)=>{if(Lu(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},bE(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),bE(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),bE(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ki(e)||bi(8),ra(e)&&(e=Pi(e));const n=mM(this),r=nb(n,e,void 0);return r[ar].isManual_=!0,eb(n),r}finishDraft(e,n){const r=e&&e[ar];(!r||!r.isManual_)&&bi(9);const{scope_:i}=r;return pM(i,n),gM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Cl(QT).applyPatches_;return ra(e)?i(e,n):this.produce(e,o=>i(o,n))}};function nb(t,e,n,r){const[i,o]=Ny(e)?Cl(mg).proxyMap_(e,n):Py(e)?Cl(mg).proxySet_(e,n):lne(e,n);return((n==null?void 0:n.scope_)??zV()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?ane(n,o,r):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function Pi(t){return ra(t)||bi(10,t),jV(t)}function jV(t){if(!ki(t)||My(t))return t;const e=t[ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=XT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=XT(t,!0);return Iy(n,(i,o)=>{pg(n,i,jV(o))},r),e&&(e.finalized_=!1),n}var fne=new cne,$V=fne.produce;function KV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var dne=KV(),hne=KV,pne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fg:fg.apply(null,arguments)};function si(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(kr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>LV(r)&&r.type===t,n}var YV=class Zf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Zf.prototype)}static get[Symbol.species](){return Zf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Zf(...e[0].concat(this)):new Zf(...e.concat(this))}};function vM(t){return ki(t)?$V(t,()=>{}):t}function nm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function mne(t){return typeof t=="boolean"}var gne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new YV;return n&&(mne(n)?s.push(dne):s.push(hne(n.extraArgument))),s},WV="RTK_autoBatch",Nt=()=>t=>({payload:t,meta:{[WV]:!0}}),_M=t=>e=>{setTimeout(e,t)},JV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_M(10):t.type==="callback"?t.queueNotification:_M(t.timeout),d=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[WV]),o=!i,o&&(s||(s=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},yne=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new YV(t);return r&&i.push(JV(typeof r=="object"?r:void 0)),i};function vne(t){const e=gne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(ZS(n))u=kV(n);else throw new Error(kr(1));let f;typeof r=="function"?f=r(e):f=e();let d=fg;i&&(d=pne({trace:!1,...typeof i=="object"&&i}));const h=Xte(...f),m=yne(h);let y=typeof s=="function"?s(m):m();const T=d(...y);return OV(u,o,T)}function XV(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(kr(28));if(u in e)throw new Error(kr(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function _ne(t){return typeof t=="function"}function Ene(t,e){let[n,r,i]=XV(e),o;if(_ne(t))o=()=>vM(t());else{const u=vM(t);o=()=>u}function s(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(ra(h)){const T=m(h,f);return T===void 0?h:T}else{if(ki(h))return $V(h,y=>m(y,f));{const y=m(h,f);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return s.getInitialState=o,s}var Tne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bne=(t=21)=>{let e="",n=t;for(;n--;)e+=Tne[Math.random()*64|0];return e},Sne=Symbol.for("rtk-slice-createasyncthunk");function Ane(t,e){return`${t}/${e}`}function wne({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Sne];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(kr(11));const u=(typeof i.reducers=="function"?i.reducers(Cne()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(H,G){const j=typeof H=="string"?H:H.type;if(!j)throw new Error(kr(12));if(j in d.sliceCaseReducersByType)throw new Error(kr(13));return d.sliceCaseReducersByType[j]=G,h},addMatcher(H,G){return d.sliceMatchers.push({matcher:H,reducer:G}),h},exposeAction(H,G){return d.actionCreators[H]=G,h},exposeCaseReducer(H,G){return d.sliceCaseReducersByName[H]=G,h}};f.forEach(H=>{const G=u[H],j={reducerName:H,type:Ane(o,H),createNotation:typeof i.reducers=="function"};Rne(G)?Pne(j,G,h,e):Ine(j,G,h)});function m(){const[H={},G=[],j=void 0]=typeof i.extraReducers=="function"?XV(i.extraReducers):[i.extraReducers],D={...H,...d.sliceCaseReducersByType};return Ene(i.initialState,O=>{for(let M in D)O.addCase(M,D[M]);for(let M of d.sliceMatchers)O.addMatcher(M.matcher,M.reducer);for(let M of G)O.addMatcher(M.matcher,M.reducer);j&&O.addDefaultCase(j)})}const y=H=>H,T=new Map,S=new WeakMap;let x;function A(H,G){return x||(x=m()),x(H,G)}function P(){return x||(x=m()),x.getInitialState()}function V(H,G=!1){function j(O){let M=O[H];return typeof M>"u"&&G&&(M=nm(S,j,P)),M}function D(O=y){const M=nm(T,G,()=>new WeakMap);return nm(M,O,()=>{const q={};for(const[z,F]of Object.entries(i.selectors??{}))q[z]=xne(F,O,()=>nm(S,O,P),G);return q})}return{reducerPath:H,getSelectors:D,get selectors(){return D(j)},selectSlice:j}}const L={name:o,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...V(s),injectInto(H,{reducerPath:G,...j}={}){const D=G??s;return H.inject({reducerPath:D,reducer:A},j),{...L,...V(D,!0)}}};return L}}function xne(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var _r=wne();function Cne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ine({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!Nne(r))throw new Error(kr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?si(t,s):si(t))}function Rne(t){return t._reducerDefinitionType==="asyncThunk"}function Nne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Pne({type:t,reducerName:e},n,r,i){if(!i)throw new Error(kr(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:f,settled:d,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),s&&r.addCase(m.fulfilled,s),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:s||rm,pending:u||rm,rejected:f||rm,settled:d||rm})}function rm(){}var Mne="task",QV="listener",ZV="completed",rA="cancelled",Dne=`task-${rA}`,One=`task-${ZV}`,rb=`${QV}-${rA}`,kne=`${QV}-${ZV}`,Oy=class{constructor(t){i_(this,"name","TaskAbortError");i_(this,"message");this.code=t,this.message=`${Mne} ${rA} (reason: ${t})`}},iA=(t,e)=>{if(typeof t!="function")throw new TypeError(kr(32))},vg=()=>{},e4=(t,e=vg)=>(t.catch(e),t),t4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),gl=t=>{if(t.aborted)throw new Oy(t.reason)};function n4(t,e){let n=vg;return new Promise((r,i)=>{const o=()=>i(new Oy(t.reason));if(t.aborted){o();return}n=t4(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vg})}var Lne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Oy?"cancelled":"rejected",error:n}}finally{e==null||e()}},_g=t=>e=>e4(n4(t,e).then(n=>(gl(t),n))),r4=t=>{const e=_g(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Xu}=Object,EM={},ky="listenerMiddleware",Une=(t,e)=>{const n=r=>t4(t,()=>r.abort(t.reason));return(r,i)=>{iA(r);const o=new AbortController;n(o);const s=Lne(async()=>{gl(t),gl(o.signal);const u=await r({pause:_g(o.signal),delay:r4(o.signal),signal:o.signal});return gl(o.signal),u},()=>o.abort(One));return i!=null&&i.autoJoin&&e.push(s.catch(vg)),{result:_g(t)(s),cancel(){o.abort(Dne)}}}},Vne=(t,e)=>{const n=async(r,i)=>{gl(e);let o=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),f([m,y.getState(),y.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await n4(e,Promise.race(u));return gl(e),f}finally{o()}};return(r,i)=>e4(n(r,i))},i4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=si(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(kr(21));return iA(o),{predicate:i,type:e,effect:o}},o4=Xu(t=>{const{type:e,predicate:n,effect:r}=i4(t);return{id:bne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kr(22))}}},{withTypes:()=>o4}),TM=(t,e)=>{const{type:n,effect:r,predicate:i}=i4(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},ib=t=>{t.pending.forEach(e=>{e.abort(rb)})},Fne=(t,e)=>()=>{for(const n of e.keys())ib(n);t.clear()},bM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},a4=Xu(si(`${ky}/add`),{withTypes:()=>a4}),zne=si(`${ky}/removeAll`),s4=Xu(si(`${ky}/remove`),{withTypes:()=>s4}),Bne=(...t)=>{console.error(`${ky}/error`,...t)},Kd=(t={})=>{const e=new Map,n=new Map,r=T=>{const S=n.get(T)??0;n.set(T,S+1)},i=T=>{const S=n.get(T)??1;S===1?n.delete(T):n.set(T,S-1)},{extra:o,onError:s=Bne}=t;iA(s);const u=T=>(T.unsubscribe=()=>e.delete(T.id),e.set(T.id,T),S=>{T.unsubscribe(),S!=null&&S.cancelActive&&ib(T)}),f=T=>{const S=TM(e,T)??o4(T);return u(S)};Xu(f,{withTypes:()=>f});const d=T=>{const S=TM(e,T);return S&&(S.unsubscribe(),T.cancelActive&&ib(S)),!!S};Xu(d,{withTypes:()=>d});const h=async(T,S,x,A)=>{const P=new AbortController,V=Vne(f,P.signal),L=[];try{T.pending.add(P),r(T),await Promise.resolve(T.effect(S,Xu({},x,{getOriginalState:A,condition:(H,G)=>V(H,G).then(Boolean),take:V,delay:r4(P.signal),pause:_g(P.signal),extra:o,signal:P.signal,fork:Une(P.signal,L),unsubscribe:T.unsubscribe,subscribe:()=>{e.set(T.id,T)},cancelActiveListeners:()=>{T.pending.forEach((H,G,j)=>{H!==P&&(H.abort(rb),j.delete(H))})},cancel:()=>{P.abort(rb),T.pending.delete(P)},throwIfCancelled:()=>{gl(P.signal)}})))}catch(H){H instanceof Oy||bM(s,H,{raisedBy:"effect"})}finally{await Promise.all(L),P.abort(kne),i(T),T.pending.delete(P)}},m=Fne(e,n);return{middleware:T=>S=>x=>{if(!LV(x))return S(x);if(a4.match(x))return f(x.payload);if(zne.match(x)){m();return}if(s4.match(x))return d(x.payload);let A=T.getState();const P=()=>{if(A===EM)throw new Error(kr(23));return A};let V;try{if(V=S(x),e.size>0){const L=T.getState(),H=Array.from(e.values());for(const G of H){let j=!1;try{j=G.predicate(x,L,A)}catch(D){j=!1,bM(s,D,{raisedBy:"predicate"})}j&&h(G,x,T,P)}}}finally{A=EM}return V},startListening:f,stopListening:d,clearListeners:m}};function kr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},l4=_r({name:"chartLayout",initialState:qne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Hne,setLayout:Gne,setChartSize:jne,setScale:$ne}=l4.actions,Kne=l4.reducer;function u4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vt(t){return Number.isFinite(t)}function mo(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zn(t,e,n){return Fn(t)||Fn(e)?n:ai(e)?wy(t,e,n):typeof e=="function"?e(t):n}var Xne=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&we(t[o]))return Fu(Fu({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&we(t[s]))return Fu(Fu({},t),{},{[s]:t[s]+(i||0)})}return t},da=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",c4=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,s=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||s.push(e),o||s.push(n),s},f4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:y,axisType:T}=t;if(!s)return null;var S=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=i==="category"&&s.bandwidth?s.bandwidth()/S:0;if(x=T==="angleAxis"&&o&&o.length>=2?ti(o[0]-o[1])*2*x:x,m||y){var A=(m||y||[]).map((P,V)=>{var L=r?r.indexOf(P):P;return{coordinate:s(L)+x,value:P,offset:x,index:V}});return A.filter(P=>!Ur(P.coordinate))}return f&&d?d.map((P,V)=>({coordinate:s(P)+x,value:P,index:V,offset:x})):s.ticks&&h!=null?s.ticks(h).map((P,V)=>({coordinate:s(P)+x,value:P,offset:x,index:V})):s.domain().map((P,V)=>({coordinate:s(P)+x,value:r?r[P]:P,index:V,offset:x}))},AM=1e-4,Qne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-AM,o=Math.max(r[0],r[1])+AM,s=t(e[0]),u=t(e[n-1]);(s<i||s>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},Zne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,u=0;u<n;++u){var f=t[u],d=f==null?void 0:f[i];if(d!=null){var h=d[1],m=d[0],y=Ur(h)?m:h;y>=0?(d[0]=o,d[1]=o+y,o=h):(d[0]=s,d[1]=s+y,s=h)}}}},ere=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var u=t[s],f=u==null?void 0:u[i];if(f!=null){var d=Ur(f[1])?f[0]:f[1];d>=0?(f[0]=o,f[1]=o+d,o=f[1]):(f[0]=0,f[1]=0)}}}},tre={sign:Zne,expand:Uee,none:xl,silhouette:Vee,wiggle:Fee,positive:ere},nre=(t,e,n)=>{var r,i=(r=tre[n])!==null&&r!==void 0?r:xl,o=Lee().keys(e).value((u,f)=>Number(zn(u,f,0))).order(YT).offset(i),s=o(t);return s.forEach((u,f)=>{u.forEach((d,h)=>{var m=zn(t[h],e[f],0);Array.isArray(m)&&m.length===2&&we(m[0])&&we(m[1])&&(d[0]=m[0],d[1]=m[1])})}),s};function rre(t){return t==null?void 0:String(t)}function wM(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fn(i[e.dataKey])){var u=EV(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=zn(i,Fn(s)?e.dataKey:s);return Fn(f)?null:e.scale(f)}var ire=t=>{var e=t.flat(2).filter(we);return[Math.min(...e),Math.max(...e)]},ore=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],are=(t,e,n)=>{if(t!=null)return ore(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:s}=o,u=s.reduce((f,d)=>{var h=u4(d,e,n),m=ire(h);return!vt(m[0])||!vt(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},xM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=xy(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var f=i[s],d=i[s-1];o=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function IM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Fu(Fu({},e),{},{dataKey:n,payload:r,value:i,name:o})}function d4(t,e){if(t)return String(t);if(typeof e=="string")return e}var sre=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},lre=(t,e)=>e==="centric"?t.angle:t.radius,ha=t=>t.layout.width,pa=t=>t.layout.height,ure=t=>t.layout.scale,h4=t=>t.layout.margin,Ly=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Uy=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),cre="data-recharts-item-index",fre="data-recharts-item-id",Yd=60;function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mre=t=>t.brush.height;function gre(t){var e=Uy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yd;return n+i}return n},0)}function yre(t){var e=Uy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yd;return n+i}return n},0)}function vre(t){var e=Ly(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function _re(t){var e=Ly(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=re([ha,pa,h4,mre,gre,yre,vre,_re,DV,jte],(t,e,n,r,i,o,s,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+s,bottom:(n.bottom||0)+u},y=im(im({},m),h),T=y.bottom;y.bottom+=r,y=Xne(y,f,d);var S=t-y.left-y.right,x=e-y.top-y.bottom;return im(im({brushBottom:T},y),{},{width:Math.max(S,0),height:Math.max(x,0)})}),Ere=re(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),p4=re(ha,pa,(t,e)=>({x:0,y:0,width:t,height:e})),Tre=N.createContext(null),sr=()=>N.useContext(Tre)!=null,Vy=t=>t.brush,Fy=re([Vy,qn,h4],(t,e,n)=>({height:t.height,x:we(t.x)?t.x:e.left,y:we(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:we(t.width)?t.width:e.width})),AE={},wE={},xE={},NM;function bre(){return NM||(NM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},m=()=>{d&&h(),x()};let y=null;const T=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},x=()=>{S(),s=void 0,u=null},A=()=>{h()},P=function(...V){if(i!=null&&i.aborted)return;s=this,u=V;const L=y==null;T(),f&&L&&h()};return P.schedule=T,P.cancel=x,P.flush=A,i==null||i.addEventListener("abort",x,{once:!0}),P}t.debounce=e})(xE)),xE}var PM;function Sre(){return PM||(PM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bre();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);s&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const y=e.debounce(function(...x){h=r.apply(this,x),m=null},i,{edges:d}),T=function(...x){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,x),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,x),h)},S=()=>(y.flush(),h);return T.cancel=y.cancel,T.flush=S,T}t.debounce=n})(wE)),wE}var MM;function Are(){return MM||(MM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sre();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(AE)),AE}var CE,DM;function wre(){return DM||(DM=1,CE=Are().throttle),CE}var xre=wre();const Cre=la(xre);var Tg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},m4=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:s}=n,u=na(r)?t:Number(r),f=na(i)?e:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),s&&f!=null&&f>s&&(f=s)),{calculatedWidth:u,calculatedHeight:f}},Ire={width:0,height:0,overflow:"visible"},Rre={width:0,overflowX:"visible"},Nre={height:0,overflowY:"visible"},Pre={},Mre=t=>{var{width:e,height:n}=t,r=na(e),i=na(n);return r&&i?Ire:r?Rre:i?Nre:Pre};function Dre(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(null,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Lre(t,"string");return typeof e=="symbol"?e:e+""}function Lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g4=N.createContext({width:-1,height:-1});function Ure(t){return mo(t.width)&&mo(t.height)}function y4(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return Ure(i)?N.createElement(g4.Provider,{value:i},e):null}var oA=()=>N.useContext(g4),Vre=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:s=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:m,className:y,onResize:T,style:S={}}=t,x=N.useRef(null),A=N.useRef();A.current=T,N.useImperativeHandle(e,()=>x.current);var[P,V]=N.useState({containerWidth:r.width,containerHeight:r.height}),L=N.useCallback((O,M)=>{V(q=>{var z=Math.round(O),F=Math.round(M);return q.containerWidth===z&&q.containerHeight===F?q:{containerWidth:z,containerHeight:F}})},[]);N.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return jd;var O=F=>{var B,{width:ge,height:Re}=F[0].contentRect;L(ge,Re),(B=A.current)===null||B===void 0||B.call(A,ge,Re)};h>0&&(O=Cre(O,h,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),{width:q,height:z}=x.current.getBoundingClientRect();return L(q,z),M.observe(x.current),()=>{M.disconnect()}},[L,h]);var{containerWidth:H,containerHeight:G}=P;Tg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:D}=m4(H,G,{width:i,height:o,aspect:n,maxHeight:f});return Tg(j!=null&&j>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,D,i,o,s,u,n),N.createElement("div",{id:m?"".concat(m):void 0,className:bt("recharts-responsive-container",y),style:kM(kM({},S),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:f}),ref:x},N.createElement("div",{style:Mre({width:i,height:o})},N.createElement(y4,{width:j,height:D},d)))}),Fre=N.forwardRef((t,e)=>{var n=oA();if(mo(n.width)&&mo(n.height))return t.children;var{width:r,height:i}=Dre({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:s}=m4(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return we(o)&&we(s)?N.createElement(y4,{width:o,height:s},t.children):N.createElement(Vre,ob({},t,{width:r,height:i,ref:e}))});function v4(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Wd=()=>{var t,e=sr(),n=xe(Ere),r=xe(Fy),i=(t=xe(Vy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},zre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_4=()=>{var t;return(t=xe(qn))!==null&&t!==void 0?t:zre},E4=()=>xe(ha),T4=()=>xe(pa),St=t=>t.layout.layoutType,Ac=()=>xe(St),Bre=()=>{var t=Ac();if(t==="horizontal"||t==="vertical")return t},qre=()=>{var t=Ac();return t!==void 0},zy=t=>{var e=fn(),n=sr(),{width:r,height:i}=t,o=oA(),s=r,u=i;return o&&(s=o.width>0?o.width:r,u=o.height>0?o.height:i),N.useEffect(()=>{!n&&mo(s)&&mo(u)&&e(jne({width:s,height:u}))},[e,n,s,u]),null},b4=Symbol.for("immer-nothing"),LM=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function Si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var bd=Object.getPrototypeOf;function sc(t){return!!t&&!!t[Vr]}function Il(t){var e;return t?S4(t)||Array.isArray(t)||!!t[LM]||!!((e=t.constructor)!=null&&e[LM])||Jd(t)||qy(t):!1}var Hre=Object.prototype.constructor.toString(),UM=new WeakMap;function S4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=UM.get(n);return r===void 0&&(r=Function.toString.call(n),UM.set(n,r)),r===Hre}function bg(t,e,n=!0){By(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function By(t){const e=t[Vr];return e?e.type_:Array.isArray(t)?1:Jd(t)?2:qy(t)?3:0}function ab(t,e){return By(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A4(t,e,n){const r=By(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Gre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jd(t){return t instanceof Map}function qy(t){return t instanceof Set}function ll(t){return t.copy_||t.base_}function sb(t,e){if(Jd(t))return new Map(t);if(qy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=S4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Vr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(bd(t),r)}else{const r=bd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function aA(t,e=!1){return Hy(t)||sc(t)||!Il(t)||(By(t)>1&&Object.defineProperties(t,{set:om,add:om,clear:om,delete:om}),Object.freeze(t),e&&Object.values(t).forEach(n=>aA(n,!0))),t}function jre(){Si(2)}var om={value:jre};function Hy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $re={};function Rl(t){const e=$re[t];return e||Si(0,t),e}var Sd;function w4(){return Sd}function Kre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VM(t,e){e&&(Rl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lb(t){ub(t),t.drafts_.forEach(Yre),t.drafts_=null}function ub(t){t===Sd&&(Sd=t.parent_)}function FM(t){return Sd=Kre(Sd,t)}function Yre(t){const e=t[Vr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Vr].modified_&&(lb(e),Si(4)),Il(t)&&(t=Sg(e,t),e.parent_||Ag(e,t)),e.patches_&&Rl("Patches").generateReplacementPatches_(n[Vr].base_,t,e.patches_,e.inversePatches_)):t=Sg(e,n,[]),lb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b4?t:void 0}function Sg(t,e,n){if(Hy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Vr];if(!i)return bg(e,(o,s)=>BM(t,i,e,o,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ag(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,u=!1;i.type_===3&&(s=new Set(o),o.clear(),u=!0),bg(s,(f,d)=>BM(t,i,o,f,d,n,u),r),Ag(t,o,!1),n&&t.patches_&&Rl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function BM(t,e,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const u=Hy(i);if(!(u&&!s)){if(sc(i)){const f=o&&e&&e.type_!==3&&!ab(e.assigned_,r)?o.concat(r):void 0,d=Sg(t,i,f);if(A4(n,r,d),sc(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Il(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Sg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ag(t,i)}}}function Ag(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&aA(e,n)}function Wre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:w4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=sA;n&&(i=[r],o=Ad);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var sA={get(t,e){if(e===Vr)return t;const n=ll(t);if(!ab(n,e))return Jre(t,n,e);const r=n[e];return t.finalized_||!Il(r)?r:r===IE(t.base_,e)?(RE(t),t.copy_[e]=fb(r,t)):r},has(t,e){return e in ll(t)},ownKeys(t){return Reflect.ownKeys(ll(t))},set(t,e,n){const r=x4(ll(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=IE(ll(t),e),o=i==null?void 0:i[Vr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Gre(n,i)&&(n!==void 0||ab(t.base_,e)))return!0;RE(t),cb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return IE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,RE(t),cb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Si(11)},getPrototypeOf(t){return bd(t.base_)},setPrototypeOf(){Si(12)}},Ad={};bg(sA,(t,e)=>{Ad[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ad.deleteProperty=function(t,e){return Ad.set.call(this,t,e,void 0)};Ad.set=function(t,e,n){return sA.set.call(this,t[0],e,n,t[0])};function IE(t,e){const n=t[Vr];return(n?ll(n):t)[e]}function Jre(t,e,n){var i;const r=x4(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function x4(t,e){if(!(e in t))return;let n=bd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=bd(n)}}function cb(t){t.modified_||(t.modified_=!0,t.parent_&&cb(t.parent_))}function RE(t){t.copy_||(t.copy_=sb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(f=o,...d){return s.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&Si(6),r!==void 0&&typeof r!="function"&&Si(7);let i;if(Il(e)){const o=FM(this),s=fb(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?lb(o):ub(o)}return VM(o,r),zM(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===b4&&(i=void 0),this.autoFreeze_&&aA(i,!0),r){const o=[],s=[];Rl("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,f=>e(f,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Il(t)||Si(8),sc(t)&&(t=Qre(t));const e=FM(this),n=fb(t,void 0);return n[Vr].isManual_=!0,ub(e),n}finishDraft(t,e){const n=t&&t[Vr];(!n||!n.isManual_)&&Si(9);const{scope_:r}=n;return VM(r,e),zM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rl("Patches").applyPatches_;return sc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function fb(t,e){const n=Jd(t)?Rl("MapSet").proxyMap_(t,e):qy(t)?Rl("MapSet").proxySet_(t,e):Wre(t,e);return(e?e.scope_:w4()).drafts_.push(n),n}function Qre(t){return sc(t)||Si(10,t),C4(t)}function C4(t){if(!Il(t)||Hy(t))return t;const e=t[Vr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sb(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=sb(t,!0);return bg(n,(i,o)=>{A4(n,i,C4(o))},r),e&&(e.finalized_=!1),n}var Zre=new Xre;Zre.produce;var eie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},I4=_r({name:"legend",initialState:eie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Nt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Pi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Nt()},removeLegendPayload:{reducer(t,e){var n=Pi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Nt()}}}),{setLegendSize:Wge,setLegendSettings:Jge,addLegendPayload:tie,replaceLegendPayload:nie,removeLegendPayload:rie}=I4.actions,iie=I4.reducer;function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(null,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lie(t){return Array.isArray(t)&&ai(t[0])&&ai(t[1])?t.join(" ~ "):t}var uie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:y=!1}=t,T=()=>{if(o&&o.length){var G={padding:0,margin:0},j=(u?xy(o,u):o).map((D,O)=>{if(D.type==="none")return null;var M=D.formatter||s||lie,{value:q,name:z}=D,F=q,B=z;if(M){var ge=M(q,z,D,O,o);if(Array.isArray(ge))[F,B]=ge;else if(ge!=null)F=ge;else return null}var Re=NE({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Re},ai(B)?N.createElement("span",{className:"recharts-tooltip-item-name"},B):null,ai(B)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},F),N.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:G},j)}return null},S=NE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=NE({margin:0},i),A=!Fn(h),P=A?h:"",V=bt("recharts-default-tooltip",f),L=bt("recharts-tooltip-label",d);A&&m&&o!==void 0&&o!==null&&(P=m(h,o));var H=y?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",db({className:V,style:S},H),N.createElement("p",{className:L,style:x},N.isValidElement(P)?P:"".concat(P)),T())},zf="recharts-tooltip-wrapper",cie={visibility:"hidden"};function fie(t){var{coordinate:e,translateX:n,translateY:r}=t;return bt(zf,{["".concat(zf,"-right")]:we(n)&&e&&we(e.x)&&n>=e.x,["".concat(zf,"-left")]:we(n)&&e&&we(e.x)&&n<e.x,["".concat(zf,"-bottom")]:we(r)&&e&&we(e.y)&&r>=e.y,["".concat(zf,"-top")]:we(r)&&e&&we(e.y)&&r<e.y})}function HM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(o&&we(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return s[r]?h:m;var y=f[r];if(y==null)return 0;if(s[r]){var T=h,S=y;return T<S?Math.max(m,y):Math.max(h,y)}if(d==null)return 0;var x=m+u,A=y+d;return x>A?Math.max(h,y):Math.max(m,y)}function die(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:u,viewBox:f}=t,d,h,m;return s.height>0&&s.width>0&&n?(h=HM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),m=HM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),d=die({translateX:h,translateY:m,useTranslate3d:u})):d=cie,{cssProperties:d,cssClasses:fie({translateX:h,translateY:m,coordinate:n})}}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hb(t,e,n){return(e=pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=mie(t,"string");return typeof e=="symbol"?e:e+""}function mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gie extends N.PureComponent{constructor(){super(...arguments),hb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:y,viewBox:T,wrapperStyle:S,lastBoundingBox:x,innerRef:A,hasPortalFromProps:P}=this.props,{cssClasses:V,cssProperties:L}=hie({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:x.height,width:x.width},useTranslate3d:y,viewBox:T}),H=P?{}:am(am({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),G=am(am({},H),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:V,style:G,ref:A},o)}}var R4=()=>{var t;return(t=xe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(null,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KM={curveBasisClosed:wee,curveBasisOpen:xee,curveBasis:Aee,curveBumpX:bee,curveBumpY:See,curveLinearClosed:Cee,curveLinear:Sy,curveMonotoneX:Iee,curveMonotoneY:Ree,curveNatural:Nee,curveStep:Pee,curveStepAfter:Dee,curveStepBefore:Mee},wg=t=>vt(t.x)&&vt(t.y),YM=t=>t.base!=null&&wg(t.base)&&wg(t),Bf=t=>t.x,qf=t=>t.y,Eie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(YS(t));return(n==="curveMonotone"||n==="curveBump")&&e?KM["".concat(n).concat(e==="vertical"?"Y":"X")]:KM[n]||Sy},Tie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=Eie(e,i),u=o?n.filter(wg):n,f;if(Array.isArray(r)){var d=n.map((T,S)=>$M($M({},T),{},{base:r[S]}));i==="vertical"?f=Qp().y(qf).x1(Bf).x0(T=>T.base.x):f=Qp().x(Bf).y1(qf).y0(T=>T.base.y);var h=f.defined(YM).curve(s),m=o?d.filter(YM):d;return h(m)}i==="vertical"&&we(r)?f=Qp().y(qf).x1(Bf).x0(r):we(r)?f=Qp().x(Bf).y1(qf).y0(r):f=uV().x(Bf).y(qf);var y=f.defined(wg).curve(s);return y(u)},Pm=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=Ac();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},u=n&&n.length?Tie(s):r;return N.createElement("path",pb({},Di(t),WS(t),{className:bt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},bie=["x","y","top","left","width","height","className"];function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(null,arguments)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cie(t,e){if(t==null)return{};var n,r,i=Iie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rie=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Nie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,f=Cie(t,bie),d=Sie({x:e,y:n,top:r,left:i,width:o,height:s},f);return!we(e)||!we(n)||!we(o)||!we(s)||!we(r)||!we(i)?null:N.createElement("path",mb({},Lr(d),{className:bt("recharts-cross",u),d:Rie(e,n,o,s,r,i)}))};function Pie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return(e=Die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Oie(t,"string");return typeof e=="symbol"?e:e+""}function Oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Lie=(t,e,n)=>t.map(r=>"".concat(kie(r)," ").concat(e,"ms ").concat(n)).join(","),Uie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),wd=(t,e)=>Object.keys(e).reduce((n,r)=>XM(XM({},n),{},{[r]:t(r,e[r])}),{});function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xg=(t,e,n)=>t+(e-t)*n,gb=t=>{var{from:e,to:n}=t;return e!==n},N4=(t,e,n)=>{var r=wd((i,o)=>{if(gb(o)){var[s,u]=t(o.from,o.to,o.velocity);return un(un({},o),{},{from:s,velocity:u})}return o},e);return n<1?wd((i,o)=>gb(o)&&r[i]!=null?un(un({},o),{},{velocity:xg(o.velocity,r[i].velocity,n),from:xg(o.from,r[i].from,n)}):o,e):N4(t,r,n-1)};function Bie(t,e,n,r,i,o){var s,u=r.reduce((y,T)=>un(un({},y),{},{[T]:{from:t[T],velocity:0,to:e[T]}}),{}),f=()=>wd((y,T)=>T.from,u),d=()=>!Object.values(u).filter(gb).length,h=null,m=y=>{s||(s=y);var T=y-s,S=T/n.dt;u=N4(n,u,S),i(un(un(un({},t),e),f())),s=y,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var y;(y=h)===null||y===void 0||y()})}function qie(t,e,n,r,i,o,s){var u=null,f=i.reduce((m,y)=>{var T=t[y],S=e[y];return T==null||S==null?m:un(un({},m),{},{[y]:[T,S]})},{}),d,h=m=>{d||(d=m);var y=(m-d)/r,T=wd((x,A)=>xg(...A,n(y)),f);if(o(un(un(un({},t),e),T)),y<1)u=s.setTimeout(h);else{var S=wd((x,A)=>xg(...A,n(1)),f);o(un(un(un({},t),e),S))}};return()=>(u=s.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const Hie=(t,e,n,r,i,o)=>{var s=Uie(t,e);return n==null?()=>(i(un(un({},t),e)),()=>{}):n.isStepper===!0?Bie(t,e,n,s,i,o):qie(t,e,n,r,s,i,o)};var Cg=1e-4,P4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],M4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ZM=(t,e)=>n=>{var r=P4(t,e);return M4(r,n)},Gie=(t,e)=>n=>{var r=P4(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return M4(i,n)},jie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},$ie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=jie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Kie=(t,e,n,r)=>{var i=ZM(t,n),o=ZM(e,r),s=Gie(t,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,y=0;y<8;++y){var T=i(m)-h,S=s(m);if(Math.abs(T-h)<Cg||S<Cg)return o(m);m=u(m-T/S)}return o(m)};return f.isStepper=!1,f},eD=function(){return Kie(...$ie(...arguments))},Yie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,f)=>{var d=-(s-u)*n,h=f*r,m=f+(d-h)*i/1e3,y=f*i/1e3+s;return Math.abs(y-u)<Cg&&Math.abs(m)<Cg?[u,0]:[y,m]};return o.isStepper=!0,o.dt=i,o},Wie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eD(t);case"spring":return Yie();default:if(t.split("(")[0]==="cubic-bezier")return eD(t)}return typeof t=="function"?t:null};function Jie(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Xie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function Qie(){return Jie(new Xie)}var Zie=N.createContext(Qie);function eoe(t,e){var n=N.useContext(Zie);return N.useMemo(()=>e??n(t),[t,e,n])}var toe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xd={isSsr:toe()},noe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tD={t:0},PE={t:1};function D4(t){var e=vr(t,noe),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=n==="auto"?!Xd.isSsr:n,m=eoe(e.animationId,e.animationManager),[y,T]=N.useState(h?tD:PE),S=N.useRef(null);return N.useEffect(()=>{h||T(PE)},[h]),N.useEffect(()=>{if(!h||!r)return jd;var x=Hie(tD,PE,Wie(o),i,T,m.getTimeoutController()),A=()=>{S.current=x()};return m.start([f,s,A,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,o,s,f,u,m]),d(y.t)}function O4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(vd(e)),r=N.useRef(t);return r.current!==t&&(n.current=vd(e),r.current=t),n.current}var roe=["radius"],ioe=["radius"],nD,rD,iD,oD,aD,sD,lD,uD,cD,fD;function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return(e=aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=soe(t,"string");return typeof e=="symbol"?e:e+""}function soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}function pD(t,e){if(t==null)return{};var n,r,i=loe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function loe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function io(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var mD=(t,e,n,r,i)=>{var o=as(n),s=as(r),u=Math.min(Math.abs(o)/2,Math.abs(s)/2),f=s>=0?1:-1,d=o>=0?1:-1,h=s>=0&&o>=0||s<0&&o<0?1:0,m;if(u>0&&i instanceof Array){for(var y=[0,0,0,0],T=0,S=4;T<S;T++)y[T]=i[T]>u?u:i[T];m=Dn(nD||(nD=io(["M",",",""])),t,e+f*y[0]),y[0]>0&&(m+=Dn(rD||(rD=io(["A ",",",",0,0,",",",",",""])),y[0],y[0],h,t+d*y[0],e)),m+=Dn(iD||(iD=io(["L ",",",""])),t+n-d*y[1],e),y[1]>0&&(m+=Dn(oD||(oD=io(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],h,t+n,e+f*y[1])),m+=Dn(aD||(aD=io(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(m+=Dn(sD||(sD=io(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],h,t+n-d*y[2],e+r)),m+=Dn(lD||(lD=io(["L ",",",""])),t+d*y[3],e+r),y[3]>0&&(m+=Dn(uD||(uD=io(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],h,t,e+r-f*y[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var x=Math.min(u,i);m=Dn(cD||(cD=io(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*x,x,x,h,t+d*x,e,t+n-d*x,e,x,x,h,t+n,e+f*x,t+n,e+r-f*x,x,x,h,t+n-d*x,e+r,t+d*x,e+r,x,x,h,t,e+r-f*x)}else m=Dn(fD||(fD=io(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},gD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uoe=t=>{var e=vr(t,gD),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:o,y:s,width:u,height:f,radius:d,className:h}=e,{animationEasing:m,animationDuration:y,animationBegin:T,isAnimationActive:S,isUpdateAnimationActive:x}=e,A=N.useRef(u),P=N.useRef(f),V=N.useRef(o),L=N.useRef(s),H=N.useMemo(()=>({x:o,y:s,width:u,height:f,radius:d}),[o,s,u,f,d]),G=O4(H,"rectangle-");if(o!==+o||s!==+s||u!==+u||f!==+f||u===0||f===0)return null;var j=bt("recharts-rectangle",h);if(!x){var D=Lr(e),{radius:O}=D,M=pD(D,roe);return N.createElement("path",Ig({},M,{x:as(o),y:as(s),width:as(u),height:as(f),radius:typeof d=="number"?d:void 0,className:j,d:mD(o,s,u,f,d)}))}var q=A.current,z=P.current,F=V.current,B=L.current,ge="0px ".concat(r===-1?1:r,"px"),Re="".concat(r,"px 0px"),Z=Lie(["strokeDasharray"],y,typeof m=="string"?m:gD.animationEasing);return N.createElement(D4,{animationId:G,key:G,canBegin:r>0,duration:y,easing:m,isActive:x,begin:T},fe=>{var ye=ao(q,u,fe),Se=ao(z,f,fe),Me=ao(F,o,fe),K=ao(B,s,fe);n.current&&(A.current=ye,P.current=Se,V.current=Me,L.current=K);var ie;S?fe>0?ie={transition:Z,strokeDasharray:Re}:ie={strokeDasharray:ge}:ie={strokeDasharray:Re};var he=Lr(e),{radius:me}=he,Ne=pD(he,ioe);return N.createElement("path",Ig({},Ne,{radius:typeof d=="number"?d:void 0,className:j,d:mD(Me,K,ye,Se,d),ref:n,style:hD(hD({},ie),e.style)}))})};function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return(e=foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=doe(t,"string");return typeof e=="symbol"?e:e+""}function doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rg=Math.PI/180,hoe=t=>t*180/Math.PI,Vn=(t,e,n,r)=>({x:t+Math.cos(-Rg*r)*n,y:e+Math.sin(-Rg*r)*n}),poe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},moe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},goe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=moe({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:s,angle:hoe(f),angleInRadian:f}},yoe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},voe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},_oe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=goe({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:f,endAngle:d}=yoe(e),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?vD(vD({},e),{},{radius:i,angle:voe(h,e)}):null};function k4(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=Vn(e,n,r,i),u=Vn(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var _D,ED,TD,bD,SD,AD,wD;function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yb.apply(null,arguments)}function dl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Eoe=(t,e)=>{var n=ti(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},sm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:f}=t,d=u*(s?1:-1)+r,h=Math.asin(u/d)/Rg,m=f?i:i+o*h,y=Vn(e,n,d,m),T=Vn(e,n,r,m),S=f?i-o*h:i,x=Vn(e,n,d*Math.cos(h*Rg),S);return{center:y,circleTangency:T,lineTangency:x,theta:h}},L4=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=Eoe(o,s),f=o+u,d=Vn(e,n,i,o),h=Vn(e,n,i,f),m=Dn(_D||(_D=dl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(u)>180),+(o>f),h.x,h.y);if(r>0){var y=Vn(e,n,r,o),T=Vn(e,n,r,f);m+=Dn(ED||(ED=dl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),T.x,T.y,r,r,+(Math.abs(u)>180),+(o<=f),y.x,y.y)}else m+=Dn(TD||(TD=dl(["L ",","," Z"])),e,n);return m},Toe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=ti(d-f),{circleTangency:m,lineTangency:y,theta:T}=sm({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:x,theta:A}=sm({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),P=u?Math.abs(f-d):Math.abs(f-d)-T-A;if(P<0)return s?Dn(bD||(bD=dl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,o,o,o*2,o,o,-o*2):L4({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var V=Dn(SD||(SD=dl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,o,o,+(h<0),m.x,m.y,i,i,+(P>180),+(h<0),S.x,S.y,o,o,+(h<0),x.x,x.y);if(r>0){var{circleTangency:L,lineTangency:H,theta:G}=sm({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:j,lineTangency:D,theta:O}=sm({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),M=u?Math.abs(f-d):Math.abs(f-d)-G-O;if(M<0&&o===0)return"".concat(V,"L").concat(e,",").concat(n,"Z");V+=Dn(AD||(AD=dl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,o,o,+(h<0),j.x,j.y,r,r,+(M>180),+(h>0),L.x,L.y,o,o,+(h<0),H.x,H.y)}else V+=Dn(wD||(wD=dl(["L",",","Z"])),e,n);return V},boe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Soe=t=>{var e=vr(t,boe),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=e;if(o<i||d===h)return null;var y=bt("recharts-sector",m),T=o-i,S=Es(s,T,0,!0),x;return S>0&&Math.abs(d-h)<360?x=Toe({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,T/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):x=L4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),N.createElement("path",yb({},Lr(e),{className:y,d:x}))};function Aoe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(TV(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:u}=e,f=Vn(r,i,o,u),d=Vn(r,i,s,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return k4(e)}}var ME={},DE={},OE={},xD;function woe(){return xD||(xD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PV();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(OE)),OE}var CD;function xoe(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=woe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(DE)),DE}var ID;function Coe(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MV(),n=xoe();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=s;return f}t.range=r})(ME)),ME}var kE,RD;function Ioe(){return RD||(RD=1,kE=Coe().range),kE}var Roe=Ioe();const U4=la(Roe);function hs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Noe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lA(t){let e,n,r;t.length!==2?(e=hs,n=(u,f)=>hs(t(u),f),r=(u,f)=>t(u)-f):(e=t===hs||t===Noe?t:Poe,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function s(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:s,right:o}}function Poe(){return 0}function V4(t){return t===null?NaN:+t}function*Moe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Doe=lA(hs),Qd=Doe.right;lA(V4).center;class ND extends Map{constructor(e,n=Loe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(PD(this,e))}has(e){return super.has(PD(this,e))}set(e,n){return super.set(Ooe(this,e),n)}delete(e){return super.delete(koe(this,e))}}function PD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ooe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function koe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Loe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Uoe(t=hs){if(t===hs)return F4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function F4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Voe=Math.sqrt(50),Foe=Math.sqrt(10),zoe=Math.sqrt(2);function Ng(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Voe?10:o>=Foe?5:o>=zoe?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*s,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Ng(t,e,n*2):[u,f,d]}function vb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Ng(e,t,n):Ng(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)f[d]=(o-d)/-s;else for(let d=0;d<u;++d)f[d]=(o-d)*s;else if(s<0)for(let d=0;d<u;++d)f[d]=(i+d)/-s;else for(let d=0;d<u;++d)f[d]=(i+d)*s;return f}function _b(t,e,n){return e=+e,t=+t,n=+n,Ng(t,e,n)[2]}function Eb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_b(e,t,n):_b(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function MD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function z4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?F4:Uoe(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),T=Math.max(n,Math.floor(e-d*m/f+y)),S=Math.min(r,Math.floor(e+(f-d)*m/f+y));z4(t,e,T,S,i)}const o=t[e];let s=n,u=r;for(Hf(t,n,e),i(t[r],o)>0&&Hf(t,n,r);s<u;){for(Hf(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Hf(t,n,u):(++u,Hf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Hf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Boe(t,e,n){if(t=Float64Array.from(Moe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return DD(t);if(e>=1)return MD(t);var r,i=(r-1)*e,o=Math.floor(i),s=MD(z4(t,o).subarray(0,o+1)),u=DD(t.subarray(o+1));return s+(u-s)*(i-o)}}function qoe(t,e,n=V4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function Hoe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ma(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Tb=Symbol("implicit");function uA(){var t=new ND,e=[],n=[],r=Tb;function i(o){let s=t.get(o);if(s===void 0){if(r!==Tb)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ND;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uA(e,n).unknown(r)},ui.apply(i,arguments),i}function cA(){var t=uA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,f=0,d=0,h=.5;delete t.unknown;function m(){var y=e().length,T=i<r,S=T?i:r,x=T?r:i;o=(x-S)/Math.max(1,y-f+d*2),u&&(o=Math.floor(o)),S+=(x-S-o*(y-f))*h,s=o*(1-f),u&&(S=Math.round(S),s=Math.round(s));var A=Hoe(y).map(function(P){return S+o*P});return n(T?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),m()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),m()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return cA(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},ui.apply(m(),arguments)}function B4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return B4(e())},t}function Goe(){return B4(cA.apply(null,arguments).paddingInner(1))}function fA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function q4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zd(){}var xd=.7,Pg=1/xd,Qu="\\s*([+-]?\\d+)\\s*",Cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",joe=/^#([0-9a-f]{3,8})$/,$oe=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),Koe=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),Yoe=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Cd}\\)$`),Woe=new RegExp(`^rgba\\(${ho},${ho},${ho},${Cd}\\)$`),Joe=new RegExp(`^hsl\\(${Cd},${ho},${ho}\\)$`),Xoe=new RegExp(`^hsla\\(${Cd},${ho},${ho},${Cd}\\)$`),OD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fA(Zd,Id,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kD,formatHex:kD,formatHex8:Qoe,formatHsl:Zoe,formatRgb:LD,toString:LD});function kD(){return this.rgb().formatHex()}function Qoe(){return this.rgb().formatHex8()}function Zoe(){return H4(this).formatHsl()}function LD(){return this.rgb().formatRgb()}function Id(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=joe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UD(e):n===3?new yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$oe.exec(t))?new yr(e[1],e[2],e[3],1):(e=Koe.exec(t))?new yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yoe.exec(t))?lm(e[1],e[2],e[3],e[4]):(e=Woe.exec(t))?lm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Joe.exec(t))?zD(e[1],e[2]/100,e[3]/100,1):(e=Xoe.exec(t))?zD(e[1],e[2]/100,e[3]/100,e[4]):OD.hasOwnProperty(t)?UD(OD[t]):t==="transparent"?new yr(NaN,NaN,NaN,0):null}function UD(t){return new yr(t>>16&255,t>>8&255,t&255,1)}function lm(t,e,n,r){return r<=0&&(t=e=n=NaN),new yr(t,e,n,r)}function eae(t){return t instanceof Zd||(t=Id(t)),t?(t=t.rgb(),new yr(t.r,t.g,t.b,t.opacity)):new yr}function bb(t,e,n,r){return arguments.length===1?eae(t):new yr(t,e,n,r??1)}function yr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fA(yr,bb,q4(Zd,{brighter(t){return t=t==null?Pg:Math.pow(Pg,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xd:Math.pow(xd,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yr(yl(this.r),yl(this.g),yl(this.b),Mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VD,formatHex:VD,formatHex8:tae,formatRgb:FD,toString:FD}));function VD(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}`}function tae(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}${hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function FD(){const t=Mg(this.opacity);return`${t===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${t===1?")":`, ${t})`}`}function Mg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hl(t){return t=yl(t),(t<16?"0":"")+t.toString(16)}function zD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,n,r)}function H4(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof Zd||(t=Id(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,f=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=f<.5?o+i:2-o-i,s*=60):u=f>0&&f<1?0:s,new Ai(s,u,f,t.opacity)}function nae(t,e,n,r){return arguments.length===1?H4(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fA(Ai,nae,q4(Zd,{brighter(t){return t=t==null?Pg:Math.pow(Pg,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xd:Math.pow(xd,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yr(LE(t>=240?t-240:t+120,i,r),LE(t,i,r),LE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ai(BD(this.h),um(this.s),um(this.l),Mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mg(this.opacity);return`${t===1?"hsl(":"hsla("}${BD(this.h)}, ${um(this.s)*100}%, ${um(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BD(t){return t=(t||0)%360,t<0?t+360:t}function um(t){return Math.max(0,Math.min(1,t||0))}function LE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dA=t=>()=>t;function rae(t,e){return function(n){return t+n*e}}function iae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function oae(t){return(t=+t)==1?G4:function(e,n){return n-e?iae(e,n,t):dA(isNaN(e)?n:e)}}function G4(t,e){var n=e-t;return n?rae(t,n):dA(isNaN(t)?e:t)}const qD=(function t(e){var n=oae(e);function r(i,o){var s=n((i=bb(i)).r,(o=bb(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=G4(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function aae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function sae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=wc(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function uae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Sb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,UE=new RegExp(Sb.source,"g");function fae(t){return function(){return t}}function dae(t){return function(e){return t(e)+""}}function hae(t,e){var n=Sb.lastIndex=UE.lastIndex=0,r,i,o,s=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Sb.exec(t))&&(i=UE.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,f.push({i:s,x:Dg(r,i)})),n=UE.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?f[0]?dae(f[0].x):fae(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function wc(t,e){var n=typeof e,r;return e==null||n==="boolean"?dA(e):(n==="number"?Dg:n==="string"?(r=Id(e))?(e=r,qD):hae:e instanceof Id?qD:e instanceof Date?uae:sae(e)?aae:Array.isArray(e)?lae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cae:Dg)(t,e)}function hA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pae(t,e){e===void 0&&(e=t,t=wc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function mae(t){return function(){return t}}function Og(t){return+t}var HD=[0,1];function rr(t){return t}function Ab(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mae(isNaN(e)?NaN:.5)}function gae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yae(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Ab(i,r),o=n(s,o)):(r=Ab(r,i),o=n(o,s)),function(u){return o(r(u))}}function vae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Ab(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var f=Qd(t,u,1,r)-1;return o[f](i[f](u))}}function eh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gy(){var t=HD,e=HD,n=wc,r,i,o,s=rr,u,f,d;function h(){var y=Math.min(t.length,e.length);return s!==rr&&(s=gae(t[0],t[y-1])),u=y>2?vae:yae,f=d=null,m}function m(y){return y==null||isNaN(y=+y)?o:(f||(f=u(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(i((d||(d=u(e,t.map(r),Dg)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Og),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=hA,h()},m.clamp=function(y){return arguments.length?(s=y?!0:rr,h()):s!==rr},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(o=y,m):o},function(y,T){return r=y,i=T,h()}}function pA(){return Gy()(rr,rr)}function _ae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lc(t){return t=kg(Math.abs(t)),t?t[1]:NaN}function Eae(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Tae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rd(t){if(!(e=bae.exec(t)))throw new Error("invalid format: "+t);var e;return new mA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rd.prototype=mA.prototype;function mA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Lg;function Aae(t,e){var n=kg(t,e);if(!n)return Lg=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Lg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kg(t,Math.max(0,e+o-1))[0]}function GD(t,e){var n=kg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_ae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GD(t*100,e),r:GD,s:Aae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $D(t){return t}var KD=Array.prototype.map,YD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wae(t){var e=t.grouping===void 0||t.thousands===void 0?$D:Eae(KD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?$D:Tae(KD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m,y){m=Rd(m);var T=m.fill,S=m.align,x=m.sign,A=m.symbol,P=m.zero,V=m.width,L=m.comma,H=m.precision,G=m.trim,j=m.type;j==="n"?(L=!0,j="g"):jD[j]||(H===void 0&&(H=12),G=!0,j="g"),(P||T==="0"&&S==="=")&&(P=!0,T="0",S="=");var D=(y&&y.prefix!==void 0?y.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),O=(A==="$"?r:/[%p]/.test(j)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),M=jD[j],q=/[defgprs%]/.test(j);H=H===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function z(F){var B=D,ge=O,Re,Z,fe;if(j==="c")ge=M(F)+ge,F="";else{F=+F;var ye=F<0||1/F<0;if(F=isNaN(F)?f:M(Math.abs(F),H),G&&(F=Sae(F)),ye&&+F==0&&x!=="+"&&(ye=!1),B=(ye?x==="("?x:u:x==="-"||x==="("?"":x)+B,ge=(j==="s"&&!isNaN(F)&&Lg!==void 0?YD[8+Lg/3]:"")+ge+(ye&&x==="("?")":""),q){for(Re=-1,Z=F.length;++Re<Z;)if(fe=F.charCodeAt(Re),48>fe||fe>57){ge=(fe===46?i+F.slice(Re+1):F.slice(Re))+ge,F=F.slice(0,Re);break}}}L&&!P&&(F=e(F,1/0));var Se=B.length+F.length+ge.length,Me=Se<V?new Array(V-Se+1).join(T):"";switch(L&&P&&(F=e(Me+F,Me.length?V-ge.length:1/0),Me=""),S){case"<":F=B+F+ge+Me;break;case"=":F=B+Me+F+ge;break;case"^":F=Me.slice(0,Se=Me.length>>1)+B+F+ge+Me.slice(Se);break;default:F=Me+B+F+ge;break}return o(F)}return z.toString=function(){return m+""},z}function h(m,y){var T=Math.max(-8,Math.min(8,Math.floor(lc(y)/3)))*3,S=Math.pow(10,-T),x=d((m=Rd(m),m.type="f",m),{suffix:YD[8+T/3]});return function(A){return x(S*A)}}return{format:d,formatPrefix:h}}var cm,gA,j4;xae({thousands:",",grouping:[3],currency:["$",""]});function xae(t){return cm=wae(t),gA=cm.format,j4=cm.formatPrefix,cm}function Cae(t){return Math.max(0,-lc(Math.abs(t)))}function Iae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lc(e)/3)))*3-lc(Math.abs(t)))}function Rae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lc(e)-lc(t))+1}function $4(t,e,n,r){var i=Eb(t,e,n),o;switch(r=Rd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Iae(i,s))&&(r.precision=o),j4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Rae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Cae(i))&&(r.precision=o-(r.type==="%")*2);break}}return gA(r)}function Cs(t){var e=t.domain;return t.ticks=function(n){var r=e();return vb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],f,d,h=10;for(u<s&&(d=s,s=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=_b(s,u,n),d===f)return r[i]=s,r[o]=u,e(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function K4(){var t=pA();return t.copy=function(){return eh(t,K4())},ui.apply(t,arguments),Cs(t)}function Y4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Og),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Y4(t).unknown(e)},t=arguments.length?Array.from(t,Og):[0,1],Cs(n)}function W4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function WD(t){return Math.log(t)}function JD(t){return Math.exp(t)}function Nae(t){return-Math.log(-t)}function Pae(t){return-Math.exp(-t)}function Mae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dae(t){return t===10?Mae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Oae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function XD(t){return(e,n)=>-t(-e,n)}function yA(t){const e=t(WD,JD),n=e.domain;let r=10,i,o;function s(){return i=Oae(r),o=Dae(r),n()[0]<0?(i=XD(i),o=XD(o),t(Nae,Pae)):t(WD,JD),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let y=i(d),T=i(h),S,x;const A=u==null?10:+u;let P=[];if(!(r%1)&&T-y<A){if(y=Math.floor(y),T=Math.ceil(T),d>0){for(;y<=T;++y)for(S=1;S<r;++S)if(x=y<0?S/o(-y):S*o(y),!(x<d)){if(x>h)break;P.push(x)}}else for(;y<=T;++y)for(S=r-1;S>=1;--S)if(x=y>0?S/o(-y):S*o(y),!(x<d)){if(x>h)break;P.push(x)}P.length*2<A&&(P=vb(d,h,A))}else P=vb(y,T,Math.min(T-y,A)).map(o);return m?P.reverse():P},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Rd(f)).precision==null&&(f.trim=!0),f=gA(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},e.nice=()=>n(W4(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function J4(){const t=yA(Gy()).domain([1,10]);return t.copy=()=>eh(t,J4()).base(t.base()),ui.apply(t,arguments),t}function QD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vA(t){var e=1,n=t(QD(e),ZD(e));return n.constant=function(r){return arguments.length?t(QD(e=+r),ZD(e)):e},Cs(n)}function X4(){var t=vA(Gy());return t.copy=function(){return eh(t,X4()).constant(t.constant())},ui.apply(t,arguments)}function e2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lae(t){return t<0?-t*t:t*t}function _A(t){var e=t(rr,rr),n=1;function r(){return n===1?t(rr,rr):n===.5?t(kae,Lae):t(e2(n),e2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cs(e)}function EA(){var t=_A(Gy());return t.copy=function(){return eh(t,EA()).exponent(t.exponent())},ui.apply(t,arguments),t}function Uae(){return EA.apply(null,arguments).exponent(.5)}function t2(t){return Math.sign(t)*t*t}function Vae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Q4(){var t=pA(),e=[0,1],n=!1,r;function i(o){var s=Vae(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(t2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Og)).map(t2)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Q4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ui.apply(i,arguments),Cs(i)}function Z4(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=qoe(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Qd(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(hs),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Z4().domain(t).range(e).unknown(r)},ui.apply(o,arguments)}function e3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[Qd(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return s}return s.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},s.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return e3().domain([t,e]).range(i).unknown(o)},ui.apply(Cs(s),arguments)}function t3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return t3().domain(t).range(e).unknown(n)},ui.apply(i,arguments)}const VE=new Date,FE=new Date;function dn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return f;let d;do f.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<s);return f},i.filter=o=>dn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(VE.setTime(+o),FE.setTime(+s),t(VE),t(FE),Math.floor(n(VE,FE))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ug=dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ug.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ug);Ug.range;const jo=1e3,ni=jo*60,$o=ni*60,ia=$o*24,TA=ia*7,n2=ia*30,zE=ia*365,pl=dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCSeconds());pl.range;const bA=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jo)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getMinutes());bA.range;const SA=dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCMinutes());SA.range;const AA=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jo-t.getMinutes()*ni)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getHours());AA.range;const wA=dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCHours());wA.range;const th=dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ni)/ia,t=>t.getDate()-1);th.range;const jy=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);jy.range;const n3=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));n3.range;function Vl(t){return dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ni)/TA)}const $y=Vl(0),Vg=Vl(1),Fae=Vl(2),zae=Vl(3),uc=Vl(4),Bae=Vl(5),qae=Vl(6);$y.range;Vg.range;Fae.range;zae.range;uc.range;Bae.range;qae.range;function Fl(t){return dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/TA)}const Ky=Fl(0),Fg=Fl(1),Hae=Fl(2),Gae=Fl(3),cc=Fl(4),jae=Fl(5),$ae=Fl(6);Ky.range;Fg.range;Hae.range;Gae.range;cc.range;jae.range;$ae.range;const xA=dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xA.range;const CA=dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CA.range;const oa=dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oa.range;const aa=dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});aa.range;function r3(t,e,n,r,i,o){const s=[[pl,1,jo],[pl,5,5*jo],[pl,15,15*jo],[pl,30,30*jo],[o,1,ni],[o,5,5*ni],[o,15,15*ni],[o,30,30*ni],[i,1,$o],[i,3,3*$o],[i,6,6*$o],[i,12,12*$o],[r,1,ia],[r,2,2*ia],[n,1,TA],[e,1,n2],[e,3,3*n2],[t,1,zE]];function u(d,h,m){const y=h<d;y&&([d,h]=[h,d]);const T=m&&typeof m.range=="function"?m:f(d,h,m),S=T?T.range(d,+h+1):[];return y?S.reverse():S}function f(d,h,m){const y=Math.abs(h-d)/m,T=lA(([,,A])=>A).right(s,y);if(T===s.length)return t.every(Eb(d/zE,h/zE,m));if(T===0)return Ug.every(Math.max(Eb(d,h,m),1));const[S,x]=s[y/s[T-1][2]<s[T][2]/y?T-1:T];return S.every(x)}return[u,f]}const[Kae,Yae]=r3(aa,CA,Ky,n3,wA,SA),[Wae,Jae]=r3(oa,xA,$y,th,AA,bA);function BE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Xae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,f=t.shortMonths,d=jf(i),h=$f(i),m=jf(o),y=$f(o),T=jf(s),S=$f(s),x=jf(u),A=$f(u),P=jf(f),V=$f(f),L={a:fe,A:ye,b:Se,B:Me,c:null,d:l2,e:l2,f:Ese,g:Nse,G:Mse,H:yse,I:vse,j:_se,L:i3,m:Tse,M:bse,p:K,q:ie,Q:f2,s:d2,S:Sse,u:Ase,U:wse,V:xse,w:Cse,W:Ise,x:null,X:null,y:Rse,Y:Pse,Z:Dse,"%":c2},H={a:he,A:me,b:Ne,B:Le,c:null,d:u2,e:u2,f:Use,g:Kse,G:Wse,H:Ose,I:kse,j:Lse,L:a3,m:Vse,M:Fse,p:De,q:Mt,Q:f2,s:d2,S:zse,u:Bse,U:qse,V:Hse,w:Gse,W:jse,x:null,X:null,y:$se,Y:Yse,Z:Jse,"%":c2},G={a:q,A:z,b:F,B,c:ge,d:a2,e:a2,f:hse,g:o2,G:i2,H:s2,I:s2,j:use,L:dse,m:lse,M:cse,p:M,q:sse,Q:mse,s:gse,S:fse,u:nse,U:rse,V:ise,w:tse,W:ose,x:Re,X:Z,y:o2,Y:i2,Z:ase,"%":pse};L.x=j(n,L),L.X=j(r,L),L.c=j(e,L),H.x=j(n,H),H.X=j(r,H),H.c=j(e,H);function j(ae,Fe){return function($e){var de=[],Ut=-1,Ke=0,an=ae.length,Vt,Er,va;for($e instanceof Date||($e=new Date(+$e));++Ut<an;)ae.charCodeAt(Ut)===37&&(de.push(ae.slice(Ke,Ut)),(Er=r2[Vt=ae.charAt(++Ut)])!=null?Vt=ae.charAt(++Ut):Er=Vt==="e"?" ":"0",(va=Fe[Vt])&&(Vt=va($e,Er)),de.push(Vt),Ke=Ut+1);return de.push(ae.slice(Ke,Ut)),de.join("")}}function D(ae,Fe){return function($e){var de=Gf(1900,void 0,1),Ut=O(de,ae,$e+="",0),Ke,an;if(Ut!=$e.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Fe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ke=qE(Gf(de.y,0,1)),an=Ke.getUTCDay(),Ke=an>4||an===0?Fg.ceil(Ke):Fg(Ke),Ke=jy.offset(Ke,(de.V-1)*7),de.y=Ke.getUTCFullYear(),de.m=Ke.getUTCMonth(),de.d=Ke.getUTCDate()+(de.w+6)%7):(Ke=BE(Gf(de.y,0,1)),an=Ke.getDay(),Ke=an>4||an===0?Vg.ceil(Ke):Vg(Ke),Ke=th.offset(Ke,(de.V-1)*7),de.y=Ke.getFullYear(),de.m=Ke.getMonth(),de.d=Ke.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),an="Z"in de?qE(Gf(de.y,0,1)).getUTCDay():BE(Gf(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(an+5)%7:de.w+de.U*7-(an+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,qE(de)):BE(de)}}function O(ae,Fe,$e,de){for(var Ut=0,Ke=Fe.length,an=$e.length,Vt,Er;Ut<Ke;){if(de>=an)return-1;if(Vt=Fe.charCodeAt(Ut++),Vt===37){if(Vt=Fe.charAt(Ut++),Er=G[Vt in r2?Fe.charAt(Ut++):Vt],!Er||(de=Er(ae,$e,de))<0)return-1}else if(Vt!=$e.charCodeAt(de++))return-1}return de}function M(ae,Fe,$e){var de=d.exec(Fe.slice($e));return de?(ae.p=h.get(de[0].toLowerCase()),$e+de[0].length):-1}function q(ae,Fe,$e){var de=T.exec(Fe.slice($e));return de?(ae.w=S.get(de[0].toLowerCase()),$e+de[0].length):-1}function z(ae,Fe,$e){var de=m.exec(Fe.slice($e));return de?(ae.w=y.get(de[0].toLowerCase()),$e+de[0].length):-1}function F(ae,Fe,$e){var de=P.exec(Fe.slice($e));return de?(ae.m=V.get(de[0].toLowerCase()),$e+de[0].length):-1}function B(ae,Fe,$e){var de=x.exec(Fe.slice($e));return de?(ae.m=A.get(de[0].toLowerCase()),$e+de[0].length):-1}function ge(ae,Fe,$e){return O(ae,e,Fe,$e)}function Re(ae,Fe,$e){return O(ae,n,Fe,$e)}function Z(ae,Fe,$e){return O(ae,r,Fe,$e)}function fe(ae){return s[ae.getDay()]}function ye(ae){return o[ae.getDay()]}function Se(ae){return f[ae.getMonth()]}function Me(ae){return u[ae.getMonth()]}function K(ae){return i[+(ae.getHours()>=12)]}function ie(ae){return 1+~~(ae.getMonth()/3)}function he(ae){return s[ae.getUTCDay()]}function me(ae){return o[ae.getUTCDay()]}function Ne(ae){return f[ae.getUTCMonth()]}function Le(ae){return u[ae.getUTCMonth()]}function De(ae){return i[+(ae.getUTCHours()>=12)]}function Mt(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Fe=j(ae+="",L);return Fe.toString=function(){return ae},Fe},parse:function(ae){var Fe=D(ae+="",!1);return Fe.toString=function(){return ae},Fe},utcFormat:function(ae){var Fe=j(ae+="",H);return Fe.toString=function(){return ae},Fe},utcParse:function(ae){var Fe=D(ae+="",!0);return Fe.toString=function(){return ae},Fe}}}var r2={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,Qae=/^%/,Zae=/[\\^$*+?|[\]().{}]/g;function at(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ese(t){return t.replace(Zae,"\\$&")}function jf(t){return new RegExp("^(?:"+t.map(ese).join("|")+")","i")}function $f(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tse(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nse(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rse(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ise(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ose(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function i2(t,e,n){var r=wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function o2(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ase(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sse(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function lse(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function a2(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function use(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function s2(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cse(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fse(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dse(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hse(t,e,n){var r=wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pse(t,e,n){var r=Qae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mse(t,e,n){var r=wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gse(t,e,n){var r=wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function l2(t,e){return at(t.getDate(),e,2)}function yse(t,e){return at(t.getHours(),e,2)}function vse(t,e){return at(t.getHours()%12||12,e,2)}function _se(t,e){return at(1+th.count(oa(t),t),e,3)}function i3(t,e){return at(t.getMilliseconds(),e,3)}function Ese(t,e){return i3(t,e)+"000"}function Tse(t,e){return at(t.getMonth()+1,e,2)}function bse(t,e){return at(t.getMinutes(),e,2)}function Sse(t,e){return at(t.getSeconds(),e,2)}function Ase(t){var e=t.getDay();return e===0?7:e}function wse(t,e){return at($y.count(oa(t)-1,t),e,2)}function o3(t){var e=t.getDay();return e>=4||e===0?uc(t):uc.ceil(t)}function xse(t,e){return t=o3(t),at(uc.count(oa(t),t)+(oa(t).getDay()===4),e,2)}function Cse(t){return t.getDay()}function Ise(t,e){return at(Vg.count(oa(t)-1,t),e,2)}function Rse(t,e){return at(t.getFullYear()%100,e,2)}function Nse(t,e){return t=o3(t),at(t.getFullYear()%100,e,2)}function Pse(t,e){return at(t.getFullYear()%1e4,e,4)}function Mse(t,e){var n=t.getDay();return t=n>=4||n===0?uc(t):uc.ceil(t),at(t.getFullYear()%1e4,e,4)}function Dse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function u2(t,e){return at(t.getUTCDate(),e,2)}function Ose(t,e){return at(t.getUTCHours(),e,2)}function kse(t,e){return at(t.getUTCHours()%12||12,e,2)}function Lse(t,e){return at(1+jy.count(aa(t),t),e,3)}function a3(t,e){return at(t.getUTCMilliseconds(),e,3)}function Use(t,e){return a3(t,e)+"000"}function Vse(t,e){return at(t.getUTCMonth()+1,e,2)}function Fse(t,e){return at(t.getUTCMinutes(),e,2)}function zse(t,e){return at(t.getUTCSeconds(),e,2)}function Bse(t){var e=t.getUTCDay();return e===0?7:e}function qse(t,e){return at(Ky.count(aa(t)-1,t),e,2)}function s3(t){var e=t.getUTCDay();return e>=4||e===0?cc(t):cc.ceil(t)}function Hse(t,e){return t=s3(t),at(cc.count(aa(t),t)+(aa(t).getUTCDay()===4),e,2)}function Gse(t){return t.getUTCDay()}function jse(t,e){return at(Fg.count(aa(t)-1,t),e,2)}function $se(t,e){return at(t.getUTCFullYear()%100,e,2)}function Kse(t,e){return t=s3(t),at(t.getUTCFullYear()%100,e,2)}function Yse(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function Wse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cc(t):cc.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function Jse(){return"+0000"}function c2(){return"%"}function f2(t){return+t}function d2(t){return Math.floor(+t/1e3)}var Iu,l3,u3;Xse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xse(t){return Iu=Xae(t),l3=Iu.format,Iu.parse,u3=Iu.utcFormat,Iu.utcParse,Iu}function Qse(t){return new Date(t)}function Zse(t){return t instanceof Date?+t:+new Date(+t)}function IA(t,e,n,r,i,o,s,u,f,d){var h=pA(),m=h.invert,y=h.domain,T=d(".%L"),S=d(":%S"),x=d("%I:%M"),A=d("%I %p"),P=d("%a %d"),V=d("%b %d"),L=d("%B"),H=d("%Y");function G(j){return(f(j)<j?T:u(j)<j?S:s(j)<j?x:o(j)<j?A:r(j)<j?i(j)<j?P:V:n(j)<j?L:H)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?y(Array.from(j,Zse)):y().map(Qse)},h.ticks=function(j){var D=y();return t(D[0],D[D.length-1],j??10)},h.tickFormat=function(j,D){return D==null?G:d(D)},h.nice=function(j){var D=y();return(!j||typeof j.range!="function")&&(j=e(D[0],D[D.length-1],j??10)),j?y(W4(D,j)):h},h.copy=function(){return eh(h,IA(t,e,n,r,i,o,s,u,f,d))},h}function ele(){return ui.apply(IA(Wae,Jae,oa,xA,$y,th,AA,bA,pl,l3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tle(){return ui.apply(IA(Kae,Yae,aa,CA,Ky,jy,wA,SA,pl,u3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yy(){var t=0,e=1,n,r,i,o,s=rr,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:s(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(y){var T,S;return arguments.length?([T,S]=y,s=m(T,S),d):[s(0),s(1)]}}return d.range=h(wc),d.rangeRound=h(hA),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Is(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function c3(){var t=Cs(Yy()(rr));return t.copy=function(){return Is(t,c3())},ma.apply(t,arguments)}function f3(){var t=yA(Yy()).domain([1,10]);return t.copy=function(){return Is(t,f3()).base(t.base())},ma.apply(t,arguments)}function d3(){var t=vA(Yy());return t.copy=function(){return Is(t,d3()).constant(t.constant())},ma.apply(t,arguments)}function RA(){var t=_A(Yy());return t.copy=function(){return Is(t,RA()).exponent(t.exponent())},ma.apply(t,arguments)}function nle(){return RA.apply(null,arguments).exponent(.5)}function h3(){var t=[],e=rr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Boe(t,o/r))},n.copy=function(){return h3(e).domain(t)},ma.apply(n,arguments)}function Wy(){var t=0,e=.5,n=1,r=1,i,o,s,u,f,d=rr,h,m=!1,y;function T(x){return isNaN(x=+x)?y:(x=.5+((x=+h(x))-o)*(r*x<r*o?u:f),d(m?Math.max(0,Math.min(1,x)):x))}T.domain=function(x){return arguments.length?([t,e,n]=x,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,T):[t,e,n]},T.clamp=function(x){return arguments.length?(m=!!x,T):m},T.interpolator=function(x){return arguments.length?(d=x,T):d};function S(x){return function(A){var P,V,L;return arguments.length?([P,V,L]=A,d=pae(x,[P,V,L]),T):[d(0),d(.5),d(1)]}}return T.range=S(wc),T.rangeRound=S(hA),T.unknown=function(x){return arguments.length?(y=x,T):y},function(x){return h=x,i=x(t),o=x(e),s=x(n),u=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,T}}function p3(){var t=Cs(Wy()(rr));return t.copy=function(){return Is(t,p3())},ma.apply(t,arguments)}function m3(){var t=yA(Wy()).domain([.1,1,10]);return t.copy=function(){return Is(t,m3()).base(t.base())},ma.apply(t,arguments)}function g3(){var t=vA(Wy());return t.copy=function(){return Is(t,g3()).constant(t.constant())},ma.apply(t,arguments)}function NA(){var t=_A(Wy());return t.copy=function(){return Is(t,NA()).exponent(t.exponent())},ma.apply(t,arguments)}function rle(){return NA.apply(null,arguments).exponent(.5)}const ed=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cA,scaleDiverging:p3,scaleDivergingLog:m3,scaleDivergingPow:NA,scaleDivergingSqrt:rle,scaleDivergingSymlog:g3,scaleIdentity:Y4,scaleImplicit:Tb,scaleLinear:K4,scaleLog:J4,scaleOrdinal:uA,scalePoint:Goe,scalePow:EA,scaleQuantile:Z4,scaleQuantize:e3,scaleRadial:Q4,scaleSequential:c3,scaleSequentialLog:f3,scaleSequentialPow:RA,scaleSequentialQuantile:h3,scaleSequentialSqrt:nle,scaleSequentialSymlog:d3,scaleSqrt:Uae,scaleSymlog:X4,scaleThreshold:t3,scaleTime:ele,scaleUtc:tle,tickFormat:$4},Symbol.toStringTag,{value:"Module"}));var ga=t=>t.chartData,y3=re([ga],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),v3=(t,e,n,r)=>r?y3(t):ga(t),ile=(t,e,n)=>n?y3(t):ga(t);function Ts(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vt(e)&&vt(n))return!0}return!1}function h2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function _3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ts(s))return s}}function ole(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ts(r))return h2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(we(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&xM.test(i)){var f=xM.exec(i);if(f==null||f[1]==null||e==null)s=void 0;else{var d=+f[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(we(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&CM.test(o)){var h=CM.exec(o);if(h==null||h[1]==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var y=[s,u];if(Ts(y))return e==null?y:h2(y,e,n)}}}var xc=1e9,ale={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MA,Pt=!0,li="[DecimalError] ",vl=li+"Invalid argument: ",PA=li+"Exponent out of range: ",Cc=Math.floor,ul=Math.pow,sle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,bn=1e7,xt=7,E3=9007199254740991,zg=Cc(E3/xt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Wo(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Et(Wo(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return on(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mr))throw Error(li+"NaN");if(n.s<1)throw Error(li+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(Pt=!1,e=Wo(Nd(n,o),Nd(t,o),o),Pt=!0,Et(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S3(e,t):T3(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(li+"NaN");return n.s?(Pt=!1,e=Wo(n,t,0,1).times(t),Pt=!0,n.minus(e)):Et(new r(n),i)};Te.naturalExponential=Te.exp=function(){return b3(this)};Te.naturalLogarithm=Te.ln=function(){return Nd(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T3(e,t):S3(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vl+t);if(e=on(i)+1,r=i.d.length-1,n=r*xt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,o,s,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(li+"NaN")}for(t=on(u),Pt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=so(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Cc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(Wo(u,o,s+2)).times(.5),so(o.d).slice(0,s)===(e=so(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Et(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Pt=!0,Et(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,o,s,u,f,d,h=this,m=h.constructor,y=h.d,T=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,f=y.length,d=T.length,f<d&&(o=y,y=T,T=o,s=f,f=d,d=s),o=[],s=f+d,r=s;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+T[r]*y[i-r-1]+e,o[i--]=u%bn|0,e=u/bn|0;o[i]=(o[i]+e)%bn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Pt?Et(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(go(t,0,xc),e===void 0?e=r.rounding:go(e,0,8),Et(n,t+on(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nl(r,!0):(go(t,0,xc),e===void 0?e=i.rounding:go(e,0,8),r=Et(new i(r),t+1,e),n=Nl(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Nl(i):(go(t,0,xc),e===void 0?e=o.rounding:go(e,0,8),r=Et(new o(i),t+on(i)+1,e),n=Nl(r.abs(),!1,t+on(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Et(new e(t),on(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,o,s,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(Mr);if(u=new f(u),!u.s){if(t.s<1)throw Error(li+"Infinity");return u}if(u.eq(Mr))return u;if(r=f.precision,t.eq(Mr))return Et(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=E3){for(i=new f(Mr),e=Math.ceil(r/xt+4),Pt=!1;n%2&&(i=i.times(u),m2(i.d,e)),n=Cc(n/2),n!==0;)u=u.times(u),m2(u.d,e);return Pt=!0,t.s<0?new f(Mr).div(i):Et(i,r)}}else if(o<0)throw Error(li+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Pt=!1,i=t.times(Nd(u,r+d)),Pt=!0,i=b3(i),i.s=o,i};Te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=on(i),r=Nl(i,n<=o.toExpNeg||n>=o.toExpPos)):(go(t,1,xc),e===void 0?e=o.rounding:go(e,0,8),i=Et(new o(i),t,e),n=on(i),r=Nl(i,t<=n||n<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(go(t,1,xc),e===void 0?e=r.rounding:go(e,0,8)),Et(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return Nl(t,e<=n.toExpNeg||e>=n.toExpPos)};function T3(t,e){var n,r,i,o,s,u,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Pt?Et(e,m):e;if(f=t.d,d=e.d,s=t.e,i=e.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=s,u=f.length),s=Math.ceil(m/xt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/bn|0,f[o]%=bn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Pt?Et(e,m):e}function go(t,e,n){if(t!==~~t||t<e||t>n)throw Error(vl+t)}function so(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=xt-r.length,n&&(o+=Za(n)),o+=r;s=t[e],r=s+"",n=xt-r.length,n&&(o+=Za(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Wo=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%bn|0,s=o/bn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,f;if(o!=s)f=o>s?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*bn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,f,d,h,m,y,T,S,x,A,P,V,L,H,G,j,D,O,M=r.constructor,q=r.s==i.s?1:-1,z=r.d,F=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(li+"Division by zero");for(f=r.e-i.e,D=F.length,G=z.length,T=new M(q),S=T.d=[],d=0;F[d]==(z[d]||0);)++d;if(F[d]>(z[d]||0)&&--f,o==null?V=o=M.precision:s?V=o+(on(r)-on(i))+1:V=o,V<0)return new M(0);if(V=V/xt+2|0,d=0,D==1)for(h=0,F=F[0],V++;(d<G||h)&&V--;d++)L=h*bn+(z[d]||0),S[d]=L/F|0,h=L%F|0;else{for(h=bn/(F[0]+1)|0,h>1&&(F=t(F,h),z=t(z,h),D=F.length,G=z.length),H=D,x=z.slice(0,D),A=x.length;A<D;)x[A++]=0;O=F.slice(),O.unshift(0),j=F[0],F[1]>=bn/2&&++j;do h=0,u=e(F,x,D,A),u<0?(P=x[0],D!=A&&(P=P*bn+(x[1]||0)),h=P/j|0,h>1?(h>=bn&&(h=bn-1),m=t(F,h),y=m.length,A=x.length,u=e(m,x,y,A),u==1&&(h--,n(m,D<y?O:F,y))):(h==0&&(u=h=1),m=F.slice()),y=m.length,y<A&&m.unshift(0),n(x,m,A),u==-1&&(A=x.length,u=e(F,x,D,A),u<1&&(h++,n(x,D<A?O:F,A))),A=x.length):u===0&&(h++,x=[0]),S[d++]=h,u&&x[0]?x[A++]=z[H]||0:(x=[z[H]],A=1);while((H++<G||x[0]!==void 0)&&V--)}return S[0]||S.shift(),T.e=f,Et(T,s?o+on(T)+1:o)}})();function b3(t,e){var n,r,i,o,s,u,f=0,d=0,h=t.constructor,m=h.precision;if(on(t)>16)throw Error(PA+on(t));if(!t.s)return new h(Mr);for(Pt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(ul(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Mr),h.precision=u;;){if(i=Et(i.times(t),u),n=n.times(++f),s=o.plus(Wo(i,n,u)),so(s.d).slice(0,u)===so(o.d).slice(0,u)){for(;d--;)o=Et(o.times(o),u);return h.precision=m,e==null?(Pt=!0,Et(o,m)):o}o=s}}function on(t){for(var e=t.e*xt,n=t.d[0];n>=10;n/=10)e++;return e}function HE(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(li+"LN10 precision limit exceeded");return Et(new t(t.LN10),e)}function Za(t){for(var e="";t--;)e+="0";return e}function Nd(t,e){var n,r,i,o,s,u,f,d,h,m=1,y=10,T=t,S=T.d,x=T.constructor,A=x.precision;if(T.s<1)throw Error(li+(T.s?"NaN":"-Infinity"));if(T.eq(Mr))return new x(0);if(e==null?(Pt=!1,d=A):d=e,T.eq(10))return e==null&&(Pt=!0),HE(x,d);if(d+=y,x.precision=d,n=so(S),r=n.charAt(0),o=on(T),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(t),n=so(T.d),r=n.charAt(0),m++;o=on(T),r>1?(T=new x("0."+n),o++):T=new x(r+"."+n.slice(1))}else return f=HE(x,d+2,A).times(o+""),T=Nd(new x(r+"."+n.slice(1)),d-y).plus(f),x.precision=A,e==null?(Pt=!0,Et(T,A)):T;for(u=s=T=Wo(T.minus(Mr),T.plus(Mr),d),h=Et(T.times(T),d),i=3;;){if(s=Et(s.times(h),d),f=u.plus(Wo(s,new x(i),d)),so(f.d).slice(0,d)===so(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(HE(x,d+2,A).times(o+""))),u=Wo(u,new x(m),d),x.precision=A,e==null?(Pt=!0,Et(u,A)):u;u=f,i+=2}}function p2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Cc(n/xt),t.d=[],r=(n+1)%xt,n<0&&(r+=xt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=xt;r<i;)t.d.push(+e.slice(r,r+=xt));e=e.slice(r),r=xt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pt&&(t.e>zg||t.e<-zg))throw Error(PA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Et(t,e,n){var r,i,o,s,u,f,d,h,m=t.d;for(s=1,o=m[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=xt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/xt),o=m.length,h>=o)return t;for(d=o=m[h],s=1;o>=10;o/=10)s++;r%=xt,i=r-xt+s}if(n!==void 0&&(o=ul(10,s-i-1),u=d/o%10|0,f=e<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/ul(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=on(t),m.length=1,e=e-o-1,m[0]=ul(10,(xt-e%xt)%xt),t.e=Cc(-e/xt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=ul(10,xt-r),m[h]=i>0?(d/ul(10,s-i)%ul(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==bn&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=bn)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Pt&&(t.e>zg||t.e<-zg))throw Error(PA+on(t));return t}function S3(t,e){var n,r,i,o,s,u,f,d,h,m,y=t.constructor,T=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Pt?Et(e,T):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),s=d-r,s){for(h=s<0,h?(n=f,s=-s,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(T/xt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}s=0}for(h&&(n=f,f=m,m=n,e.s=-e.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>s;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=bn-1;--f[o],f[i]+=bn}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Pt?Et(e,T):e):new y(0)}function Nl(t,e,n){var r,i=on(t),o=so(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Za(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Za(-i-1)+o,n&&(r=n-s)>0&&(o+=Za(r))):i>=s?(o+=Za(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Za(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Za(r))),t.s<0?"-"+o:o}function m2(t,e){if(t.length>e)return t.length=e,!0}function A3(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(vl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return p2(s,o.toString())}else if(typeof o!="string")throw Error(vl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,sle.test(o))p2(s,o);else throw Error(vl+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=A3,i.config=i.set=lle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function lle(t){if(!t||typeof t!="object")throw Error(li+"Object expected");var e,n,r,i=["precision",1,xc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Cc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(vl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vl+n+": "+r);return this}var MA=A3(ale);Mr=new MA(1);const ht=MA;var ule=t=>t,w3={},x3=t=>t===w3,g2=t=>function e(){return arguments.length===0||arguments.length===1&&x3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},C3=(t,e)=>t===1?e:g2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==w3).length;return o>=t?e(...r):C3(t-o,g2(function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];var d=r.map(h=>x3(h)?u.shift():h);return e(...d,...u)}))}),cle=t=>C3(t.length,t),wb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},fle=cle((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),dle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ule;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((u,f)=>f(u),o(...arguments))}};function I3(t){var e;return t===0?e=1:e=Math.floor(new ht(t).abs().log(10).toNumber())+1,e}function R3(t,e,n){for(var r=new ht(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var N3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},P3=(t,e,n)=>{if(t.lte(0))return new ht(0);var r=I3(t.toNumber()),i=new ht(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new ht(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=u.mul(i);return e?new ht(f.toNumber()):new ht(Math.ceil(f.toNumber()))},hle=(t,e,n)=>{var r=new ht(1),i=new ht(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ht(10).pow(I3(t)-1),i=new ht(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ht(Math.floor(t)))}else t===0?i=new ht(Math.floor((e-1)/2)):n||(i=new ht(Math.floor(t)));var s=Math.floor((e-1)/2),u=dle(fle(f=>i.add(new ht(f-s).mul(r)).toNumber()),wb);return u(0,e)},M3=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var s=P3(new ht(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new ht(0):(u=new ht(e).add(n).div(2),u=u.sub(new ht(u).mod(s)));var f=Math.ceil(u.sub(e).div(s).toNumber()),d=Math.ceil(new ht(n).sub(u).div(s).toNumber()),h=f+d+1;return h>r?M3(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:s,tickMin:u.sub(new ht(f).mul(s)),tickMax:u.add(new ht(d).mul(s))})},ple=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,f]=N3([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...wb(0,i-1).map(()=>1/0)]:[...wb(0,i-1).map(()=>-1/0),f];return n>r?d.reverse():d}if(u===f)return hle(u,i,o);var{step:h,tickMin:m,tickMax:y}=M3(u,f,s,o,0),T=R3(m,y.add(new ht(.1).mul(h)),h);return n>r?T.reverse():T},mle=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=N3([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var f=Math.max(n,2),d=P3(new ht(u).sub(s).div(f-1),o,0),h=[...R3(new ht(s),new ht(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},gle=t=>t.rootProps.barCategoryGap,Jy=t=>t.rootProps.stackOffset,D3=t=>t.rootProps.reverseStackOrder,DA=t=>t.options.chartName,OA=t=>t.rootProps.syncId,O3=t=>t.rootProps.syncMethod,kA=t=>t.options.eventEmitter,yle=t=>t.rootProps.baseValue,Xn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Bo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Xy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},vle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bo.angleAxisId,includeHidden:!1,name:void 0,reversed:Bo.reversed,scale:Bo.scale,tick:Bo.tick,tickCount:void 0,ticks:void 0,type:Bo.type,unit:void 0},_le={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:Nr.type,unit:void 0},Ele={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bo.scale,tick:Bo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Tle={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:"category",unit:void 0},LA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Ele:vle,UA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Tle:_le,Qy=t=>t.polarOptions,VA=re([ha,pa,qn],poe),k3=re([Qy,VA],(t,e)=>{if(t!=null)return Es(t.innerRadius,e,0)}),L3=re([Qy,VA],(t,e)=>{if(t!=null)return Es(t.outerRadius,e,e*.8)}),ble=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},U3=re([Qy],ble);re([LA,U3],Xy);var V3=re([VA,k3,L3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([UA,V3],Xy);var F3=re([St,Qy,k3,L3,ha,pa],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:f,endAngle:d}=e;return{cx:Es(s,i,i/2),cy:Es(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),hn=(t,e)=>e,Zy=(t,e,n)=>n;function FA(t){return t==null?void 0:t.id}function z3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=FA(u);d.forEach((m,y)=>{var T=o==null||i?y:String(zn(m,o,null)),S=zn(m,u.dataKey,0),x;s.has(T)?x=s.get(T):x={},Object.assign(x,{[h]:S}),s.set(T,x)})}}),Array.from(s.values())}function zA(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ev=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function tv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Sle(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var pn=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ic=t=>t.tooltip.settings.axisId;function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xb=[0,"auto"],_n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},B3=(t,e)=>t.cartesianAxis.xAxis[e],yo=(t,e)=>{var n=B3(t,e);return n??_n},En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yd},q3=(t,e)=>t.cartesianAxis.yAxis[e],vo=(t,e)=>{var n=q3(t,e);return n??En},Cle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Cle},lr=(t,e,n)=>{switch(e){case"xAxis":return yo(t,n);case"yAxis":return vo(t,n);case"zAxis":return BA(t,n);case"angleAxis":return LA(t,n);case"radiusAxis":return UA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ile=(t,e,n)=>{switch(e){case"xAxis":return yo(t,n);case"yAxis":return vo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nh=(t,e,n)=>{switch(e){case"xAxis":return yo(t,n);case"yAxis":return vo(t,n);case"angleAxis":return LA(t,n);case"radiusAxis":return UA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},H3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function G3(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var j3=t=>t.graphicalItems.cartesianItems,Rle=re([hn,Zy],G3),$3=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),rh=re([j3,lr,Rle],$3,{memoizeOptions:{resultEqualityCheck:tv}}),K3=re([rh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(zA)),Y3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Nle=re([rh],Y3),W3=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ple=re([rh],W3,{memoizeOptions:{resultEqualityCheck:tv}}),J3=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},qA=re([Ple,v3],J3),X3=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:zn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:zn(i,r)}))):t.map(r=>({value:r})),nv=re([qA,lr,rh],X3);function Q3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Mm(t){if(ai(t)||t instanceof Date){var e=Number(t);if(vt(e))return e}}function v2(t){if(Array.isArray(t)){var e=[Mm(t[0]),Mm(t[1])];return Ts(e)?e:void 0}var n=Mm(t);if(n!=null)return[n,n]}function sa(t){return t.map(Mm).filter($ee)}function Mle(t,e,n){return!n||typeof e!="number"||Ur(e)?[]:n.length?sa(n.flatMap(r=>{var i=zn(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!vt(o)||!vt(s)))return[e-o,e+s]})):[]}var mn=t=>{var e=pn(t),n=Ic(t);return nh(t,e,n)},ih=re([mn],t=>t==null?void 0:t.dataKey),Dle=re([K3,v3,mn],z3),Z3=(t,e,n,r)=>{var i={},o=e.reduce((s,u)=>{if(u.stackId==null)return s;var f=s[u.stackId];return f==null&&(f=[]),f.push(u),s[u.stackId]=f,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[u,f]=s,d=r?[...f].reverse():f,h=d.map(FA);return[u,{stackedData:nre(t,h,n),graphicalItems:d}]}))},e5=re([Dle,K3,Jy,D3],Z3),t5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var s=are(t,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Ole=re([lr],t=>t.allowDataOverflow),HA=t=>{var e;if(t==null||!("domain"in t))return xb;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=sa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:xb},n5=re([lr],HA),r5=re([n5,Ole],_3),kle=re([e5,ga,hn,r5],t5,{memoizeOptions:{resultEqualityCheck:ev}}),GA=t=>t.errorBars,Lle=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Q3(n,r)),qg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},i5=(t,e,n,r,i)=>{var o,s;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(P=>Q3(i,P)),y=zn(u,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),T=Mle(u,y,m);if(T.length>=2){var S=Math.min(...T),x=Math.max(...T);(o==null||S<o)&&(o=S),(s==null||x>s)&&(s=x)}var A=v2(y);A!=null&&(o=o==null?A[0]:Math.min(o,A[0]),s=s==null?A[1]:Math.max(s,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var f=v2(zn(u,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),s=s==null?f[1]:Math.max(s,f[1]))}),vt(o)&&vt(s))return[o,s]},Ule=re([qA,lr,Nle,GA,hn],i5,{memoizeOptions:{resultEqualityCheck:ev}});function Vle(t){var{value:e}=t;if(ai(e)||e instanceof Date)return e}var Fle=(t,e,n)=>{var r=t.map(Vle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&_V(r))?U4(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},o5=t=>t.referenceElements.dots,Rc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),zle=re([o5,hn,Zy],Rc),a5=t=>t.referenceElements.areas,Ble=re([a5,hn,Zy],Rc),s5=t=>t.referenceElements.lines,qle=re([s5,hn,Zy],Rc),l5=(t,e)=>{if(t!=null){var n=sa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Hle=re(zle,hn,l5),u5=(t,e)=>{if(t!=null){var n=sa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gle=re([Ble,hn],u5);function jle(t){var e;if(t.x!=null)return sa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:sa(n)}function $le(t){var e;if(t.y!=null)return sa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:sa(n)}var c5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?jle(r):$le(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Kle=re([qle,hn],c5),Yle=re(Hle,Kle,Gle,(t,e,n)=>qg(t,n,e)),f5=(t,e,n,r,i,o,s,u)=>{if(n!=null)return n;var f=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",d=f?qg(r,o,i):qg(o,i);return ole(e,d,t.allowDataOverflow)},Wle=re([lr,n5,r5,kle,Ule,Yle,St,hn],f5,{memoizeOptions:{resultEqualityCheck:ev}}),Jle=[0,1],d5=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:f}=t,d=da(e,o);if(d&&u==null){var h;return U4(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?Fle(r,t,d):i==="expand"?Jle:s}},jA=re([lr,St,qA,nv,Jy,hn,Wle],d5),h5=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(YS(o));return u in ed?u:"point"}}},oh=re([lr,St,H3,DA,hn],h5);function Xle(t){if(t!=null){if(t in ed)return ed[t]();var e="scale".concat(YS(t));if(e in ed)return ed[e]()}}function $A(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Xle(e);if(i!=null){var o=i.domain(n).range(r);return Qne(o),o}}}var p5=(t,e,n)=>{var r=HA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ts(t))return ple(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ts(t))return mle(t,e.tickCount,e.allowDecimals)}},KA=re([jA,nh,oh],p5),m5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ts(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(s,u)]}return e},Qle=re([lr,jA,KA,hn],m5),Zle=re(nv,lr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(sa(t.map(m=>m.value))).sort((m,y)=>m-y),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],d=r[u+1];if(!(f==null||d==null)){var h=d-f;n=Math.min(n,h)}}return n/s}}),g5=re(Zle,St,gle,qn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!vt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=Es(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),eue=(t,e,n)=>{var r=yo(t,e);return r==null||typeof r.padding!="string"?0:g5(t,"xAxis",e,n,r.padding)},tue=(t,e,n)=>{var r=vo(t,e);return r==null||typeof r.padding!="string"?0:g5(t,"yAxis",e,n,r.padding)},nue=re(yo,eue,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),rue=re(vo,tue,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),iue=re([qn,nue,Fy,Vy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),oue=re([qn,St,rue,Fy,Vy,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ah=(t,e,n,r)=>{var i;switch(e){case"xAxis":return iue(t,n,r);case"yAxis":return oue(t,n,r);case"zAxis":return(i=BA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return U3(t);case"radiusAxis":return V3(t,n);default:return}},y5=re([lr,ah],Xy),fc=re([lr,oh,Qle,y5],$A);re([rh,GA,hn],Lle);function v5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var rv=(t,e)=>e,iv=(t,e,n)=>n,aue=re(Ly,rv,iv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(v5)),sue=re(Uy,rv,iv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(v5)),_5=(t,e)=>({width:t.width,height:e.height}),lue=(t,e)=>{var n=typeof e.width=="number"?e.width:Yd;return{width:n,height:t.height}},uue=re(qn,yo,_5),cue=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},fue=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},due=re(pa,qn,aue,rv,iv,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var f=_5(e,u);s==null&&(s=cue(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(d)*f.height,s+=(d?-1:1)*f.height}),o}),hue=re(ha,qn,sue,rv,iv,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var f=lue(e,u);s==null&&(s=fue(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(d)*f.width,s+=(d?-1:1)*f.width}),o}),pue=(t,e)=>{var n=yo(t,e);if(n!=null)return due(t,n.orientation,n.mirror)},mue=re([qn,yo,pue,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),gue=(t,e)=>{var n=vo(t,e);if(n!=null)return hue(t,n.orientation,n.mirror)},yue=re([qn,vo,gue,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),vue=re(qn,vo,(t,e)=>{var n=typeof e.width=="number"?e.width:Yd;return{width:n,height:t.height}}),E5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=da(t,r),f=e.map(d=>d.value);if(s&&u&&o==="category"&&i&&_V(f))return f}},YA=re([St,nv,lr,hn],E5),T5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=da(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},WA=re([St,nv,nh,hn],T5),_2=re([St,Ile,oh,fc,YA,WA,ah,KA,hn],(t,e,n,r,i,o,s,u,f)=>{if(e!=null){var d=da(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:s,realScaleType:n,scale:r}}}),_ue=(t,e,n,r,i,o,s,u,f)=>{if(!(e==null||r==null)){var d=da(t,f),{type:h,ticks:m,tickCount:y}=e,T=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/T:0;S=f==="angleAxis"&&o!=null&&o.length>=2?ti(o[0]-o[1])*2*S:S;var x=m||i;if(x){var A=x.map((P,V)=>{var L=s?s.indexOf(P):P;return{index:V,coordinate:r(L)+S,value:P,offset:S}});return A.filter(P=>vt(P.coordinate))}return d&&u?u.map((P,V)=>({coordinate:r(P)+S,value:P,index:V,offset:S})).filter(P=>vt(P.coordinate)):r.ticks?r.ticks(y).map(P=>({coordinate:r(P)+S,value:P,offset:S})):r.domain().map((P,V)=>({coordinate:r(P)+S,value:s?s[P]:P,index:V,offset:S}))}},b5=re([St,nh,oh,fc,KA,ah,YA,WA,hn],_ue),Eue=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=da(t,s),{tickCount:f}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?ti(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},S5=re([St,nh,fc,ah,YA,WA,hn],Eue),A5=re(lr,fc,(t,e)=>{if(!(t==null||e==null))return Bg(Bg({},t),{},{scale:e})}),Tue=re([lr,oh,jA,y5],$A);re((t,e,n)=>BA(t,n),Tue,(t,e)=>{if(!(t==null||e==null))return Bg(Bg({},t),{},{scale:e})});var bue=re([St,Ly,Uy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),w5=t=>t.options.defaultTooltipEventType,x5=t=>t.options.validateTooltipEventTypes;function C5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function JA(t,e){var n=w5(t),r=x5(t);return C5(e,n,r)}function Sue(t){return xe(e=>JA(e,t))}var I5=(t,e)=>{var n,r=Number(e);if(!(Ur(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Aue=t=>t.tooltip.settings,is={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},wue={itemInteraction:{click:is,hover:is},axisInteraction:{click:is,hover:is},keyboardInteraction:is,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},R5=_r({name:"tooltip",initialState:wue,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Nt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Pi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Nt()},removeTooltipEntrySettings:{reducer(t,e){var n=Pi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Nt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:xue,replaceTooltipEntrySettings:Cue,removeTooltipEntrySettings:Iue,setTooltipSettingsState:Rue,setActiveMouseOverItemIndex:Nue,mouseLeaveItem:Xge,mouseLeaveChart:N5,setActiveClickItemIndex:Qge,setMouseOverAxisIndex:P5,setMouseClickAxisIndex:Pue,setSyncInteraction:Cb,setKeyboardInteraction:Ib}=R5.actions,Mue=R5.reducer;function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){Due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=kue(t,"string");return typeof e=="symbol"?e:e+""}function kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lue(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Uue(t){return t.index!=null}var M5=(t,e,n,r)=>{if(e==null)return is;var i=Lue(t,e,n);if(i==null)return is;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Uue(i)){if(o)return fm(fm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return fm(fm({},is),{},{coordinate:i.coordinate})};function Vue(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Fue(t,e){var n=Vue(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function zue(t,e,n){if(n==null||e==null)return!0;var r=zn(t,e);return r==null||!Ts(n)?!0:Fue(r,n)}var XA=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!vt(o))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(s,Math.min(o,u)),d=e[f];return d==null||zue(d,n,r)?String(f):null},D5=(t,e,n,r,i,o,s,u)=>{if(!(o==null||u==null)){var f=s[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},O5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},sh=t=>t.options.tooltipPayloadSearcher,Nc=t=>t.tooltip;function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){Bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bue(t,e,n){return(e=que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function que(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gue(t,e){return t??e}var k5=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((y,T)=>{var S,{dataDefinedOnItem:x,settings:A}=T,P=Gue(x,u),V=Array.isArray(P)?u4(P,d,h):P,L=(S=A==null?void 0:A.dataKey)!==null&&S!==void 0?S:r,H=A==null?void 0:A.nameKey,G;if(r&&Array.isArray(V)&&!Array.isArray(V[0])&&s==="axis"?G=EV(V,r,i):G=o(V,e,f,H),Array.isArray(G))G.forEach(D=>{var O=b2(b2({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(IM({tooltipEntrySettings:O,dataKey:D.dataKey,payload:D.payload,value:zn(D.payload,D.dataKey),name:D.name}))});else{var j;y.push(IM({tooltipEntrySettings:A,dataKey:L,payload:G,value:zn(G,L),name:(j=zn(G,H))!==null&&j!==void 0?j:A==null?void 0:A.name}))}return y},m)}},QA=re([mn,St,H3,DA,pn],h5),jue=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$ue=re([pn,Ic],G3),Pc=re([jue,mn,$ue],$3,{memoizeOptions:{resultEqualityCheck:tv}}),Kue=re([Pc],t=>t.filter(zA)),Yue=re([Pc],W3,{memoizeOptions:{resultEqualityCheck:tv}}),Mc=re([Yue,ga],J3),Wue=re([Kue,ga,mn],z3),ZA=re([Mc,mn,Pc],X3),L5=re([mn],HA),Jue=re([mn],t=>t.allowDataOverflow),U5=re([L5,Jue],_3),Xue=re([Pc],t=>t.filter(zA)),Que=re([Wue,Xue,Jy,D3],Z3),Zue=re([Que,ga,pn,U5],t5),ece=re([Pc],Y3),tce=re([Mc,mn,ece,GA,pn],i5,{memoizeOptions:{resultEqualityCheck:ev}}),nce=re([o5,pn,Ic],Rc),rce=re([nce,pn],l5),ice=re([a5,pn,Ic],Rc),oce=re([ice,pn],u5),ace=re([s5,pn,Ic],Rc),sce=re([ace,pn],c5),lce=re([rce,sce,oce],qg),uce=re([mn,L5,U5,Zue,tce,lce,St,pn],f5),lh=re([mn,St,Mc,ZA,Jy,pn,uce],d5),cce=re([lh,mn,QA],p5),fce=re([mn,lh,cce,pn],m5),V5=t=>{var e=pn(t),n=Ic(t),r=!1;return ah(t,e,n,r)},F5=re([mn,V5],Xy),z5=re([mn,QA,fce,F5],$A),dce=re([St,ZA,mn,pn],E5),hce=re([St,ZA,mn,pn],T5),pce=(t,e,n,r,i,o,s,u)=>{if(e){var{type:f}=e,d=da(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ti(i[0]-i[1])*2*m:m,d&&s?s.map((y,T)=>({coordinate:r(y)+m,value:y,index:T,offset:m})):r.domain().map((y,T)=>({coordinate:r(y)+m,value:o?o[y]:y,index:T,offset:m}))}}},ya=re([St,mn,QA,z5,V5,dce,hce,pn],pce),ew=re([w5,x5,Aue],(t,e,n)=>C5(n.shared,t,e)),B5=t=>t.tooltip.settings.trigger,tw=t=>t.tooltip.settings.defaultIndex,uh=re([Nc,ew,B5,tw],M5),Pd=re([uh,Mc,ih,lh],XA),q5=re([ya,Pd],I5),mce=re([uh],t=>{if(t)return t.dataKey});re([uh],t=>{if(t)return t.graphicalItemId});var H5=re([Nc,ew,B5,tw],O5),gce=re([ha,pa,St,qn,ya,tw,H5,sh],D5),yce=re([uh,gce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),vce=re([uh],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),_ce=re([H5,Pd,ga,ih,q5,sh,ew],k5),Ece=re([_ce],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ace=()=>xe(mn),wce=()=>{var t=Ace(),e=xe(ya),n=xe(z5);return Eg(!t||!n?void 0:A2(A2({},t),{},{scale:n}),e)};function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Ice(t,"string");return typeof e=="symbol"?e:e+""}function Ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rce=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Nce=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:s}=r;return Ru(Ru(Ru({},r),Vn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:f}=r;return Ru(Ru(Ru({},r),Vn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Pce(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var G5=(t,e,n,r,i)=>{var o,s=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<s;u++){var f,d,h,m,y,T=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(d=n[s-1])===null||d===void 0?void 0:d.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,x=u>=s-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,A=void 0;if(!(T==null||S==null||x==null))if(ti(S-T)!==ti(x-S)){var P=[];if(ti(x-S)===ti(i[1]-i[0])){A=x;var V=S+i[1]-i[0];P[0]=Math.min(V,(V+T)/2),P[1]=Math.max(V,(V+T)/2)}else{A=T;var L=x+i[1]-i[0];P[0]=Math.min(S,(L+S)/2),P[1]=Math.max(S,(L+S)/2)}var H=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(t>H[0]&&t<=H[1]||t>=P[0]&&t<=P[1]){var G;return(G=n[u])===null||G===void 0?void 0:G.index}}else{var j=Math.min(T,x),D=Math.max(T,x);if(t>(j+S)/2&&t<=(D+S)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(e)for(var M=0;M<s;M++){var q=e[M];if(q!=null){var z=e[M+1],F=e[M-1];if(M===0&&z!=null&&t<=(q.coordinate+z.coordinate)/2||M===s-1&&F!=null&&t>(q.coordinate+F.coordinate)/2||M>0&&M<s-1&&F!=null&&z!=null&&t>(q.coordinate+F.coordinate)/2&&t<=(q.coordinate+z.coordinate)/2)return q.index}}return-1},j5=()=>xe(DA),nw=(t,e)=>e,$5=(t,e,n)=>n,rw=(t,e,n,r)=>r,Mce=re(ya,t=>xy(t,e=>e.coordinate)),iw=re([Nc,nw,$5,rw],M5),ow=re([iw,Mc,ih,lh],XA),Dce=(t,e,n)=>{if(e!=null){var r=Nc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},K5=re([Nc,nw,$5,rw],O5),Hg=re([ha,pa,St,qn,ya,rw,K5,sh],D5),Oce=re([iw,Hg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Y5=re([ya,ow],I5),kce=re([K5,ow,ga,ih,Y5,sh,nw],k5),Lce=re([iw,ow],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Uce=(t,e,n,r,i,o,s)=>{if(!(!t||!n||!r||!i)&&Pce(t,s)){var u=sre(t,e),f=G5(u,o,i,n,r),d=Rce(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Vce=(t,e,n,r,i,o,s)=>{if(!(!t||!r||!i||!o||!n)){var u=_oe(t,n);if(u){var f=lre(u,e),d=G5(f,s,o,r,i),h=Nce(e,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Fce=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?Uce(t,e,r,i,o,s,u):Vce(t,e,n,r,i,o,s)},zce=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Bce=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Xn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Sle}});function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jce={},$ce={zIndexMap:Object.values(Xn).reduce((t,e)=>C2(C2({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),jce)},Kce=new Set(Object.values(Xn));function Yce(t){return Kce.has(t)}var W5=_r({name:"zIndex",initialState:$ce,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Nt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Yce(n)&&delete t.zIndexMap[n])},prepare:Nt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Nt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Nt()}}}),{registerZIndexPortal:Wce,unregisterZIndexPortal:Jce,registerZIndexPortalElement:Xce,unregisterZIndexPortalElement:Qce}=W5.actions,Zce=W5.reducer;function _o(t){var{zIndex:e,children:n}=t,r=qre(),i=r&&e!==void 0&&e!==0,o=sr(),s=fn();N.useLayoutEffect(()=>i?(s(Wce({zIndex:e})),()=>{s(Jce({zIndex:e}))}):jd,[s,e,i]);var u=xe(f=>zce(f,e,o));return i?u?rV.createPortal(n,u):null:n}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(null,arguments)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function efe(t,e,n){return(e=tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tfe(t){var e=nfe(t,"string");return typeof e=="symbol"?e:e+""}function nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rfe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function ife(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:u,cursor:f,tooltipEventType:d,chartName:h}=t,m=n,y=r,T=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var S,x,A;if(h==="ScatterChart")S=m,x=Nie,A=Xn.cursorLine;else if(h==="BarChart")S=Pie(u,m,o,s),x=uoe,A=Xn.cursorRectangle;else if(u==="radial"&&TV(m)){var{cx:P,cy:V,radius:L,startAngle:H,endAngle:G}=k4(m);S={cx:P,cy:V,startAngle:H,endAngle:G,innerRadius:L,outerRadius:L},x=Soe,A=Xn.cursorLine}else S={points:Aoe(u,m,o)},x=Pm,A=Xn.cursorLine;var j=typeof f=="object"&&"className"in f?f.className:void 0,D=dm(dm(dm(dm({stroke:"#ccc",pointerEvents:"none"},o),S),by(f)),{},{payload:y,payloadIndex:T,className:bt("recharts-tooltip-cursor",j)});return N.createElement(_o,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},N.createElement(rfe,{cursor:f,cursorComp:x,cursorProps:D}))}function ofe(t){var e=wce(),n=_4(),r=Ac(),i=j5();return e==null||n==null||r==null||i==null?null:N.createElement(ife,Rb({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var J5=N.createContext(null),afe=()=>N.useContext(J5),GE={exports:{}},R2;function sfe(){return R2||(R2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var T=new i(h,m||f,y),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],T]:f._events[S].push(T):(f._events[S]=T,f._eventsCount++),f}function s(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,T=m.length,S=new Array(T);y<T;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,y,T,S){var x=n?n+d:d;if(!this._events[x])return!1;var A=this._events[x],P=arguments.length,V,L;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),P){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,y),!0;case 5:return A.fn.call(A.context,h,m,y,T),!0;case 6:return A.fn.call(A.context,h,m,y,T,S),!0}for(L=1,V=new Array(P-1);L<P;L++)V[L-1]=arguments[L];A.fn.apply(A.context,V)}else{var H=A.length,G;for(L=0;L<H;L++)switch(A[L].once&&this.removeListener(d,A[L].fn,void 0,!0),P){case 1:A[L].fn.call(A[L].context);break;case 2:A[L].fn.call(A[L].context,h);break;case 3:A[L].fn.call(A[L].context,h,m);break;case 4:A[L].fn.call(A[L].context,h,m,y);break;default:if(!V)for(G=1,V=new Array(P-1);G<P;G++)V[G-1]=arguments[G];A[L].fn.apply(A[L].context,V)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,y){var T=n?n+d:d;if(!this._events[T])return this;if(!h)return s(this,T),this;var S=this._events[T];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,T);else{for(var x=0,A=[],P=S.length;x<P;x++)(S[x].fn!==h||y&&!S[x].once||m&&S[x].context!==m)&&A.push(S[x]);A.length?this._events[T]=A.length===1?A[0]:A:s(this,T)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(GE)),GE.exports}var lfe=sfe();const ufe=la(lfe);var Md=new ufe,Nb="recharts.syncEvent.tooltip",N2="recharts.syncEvent.brush";function cfe(t,e){if(e){var n=Number.parseInt(e,10);if(!Ur(n))return t==null?void 0:t[n]}}var ffe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},X5=_r({name:"options",initialState:ffe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dfe=X5.reducer,{createEventEmitter:hfe}=X5.actions;function pfe(t){return t.tooltip.syncInteraction}var mfe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Q5=_r({name:"chartData",initialState:mfe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:P2,setDataStartEndIndexes:gfe,setComputedData:Zge}=Q5.actions,yfe=Q5.reducer,vfe=["x","y"];function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bfe(t,e){if(t==null)return{};var n,r,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Afe(){var t=xe(OA),e=xe(kA),n=fn(),r=xe(O3),i=xe(ya),o=Ac(),s=Wd(),u=xe(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return jd;var f=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var y;if(s&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var T=h.payload.coordinate,{x:S,y:x}=T,A=bfe(T,vfe),{x:P,y:V,width:L,height:H}=h.payload.sourceViewBox,G=Nu(Nu({},A),{},{x:s.x+(L?(S-P)/L:0)*s.width,y:s.y+(H?(x-V)/H:0)*s.height});n(Nu(Nu({},h),{},{payload:Nu(Nu({},h.payload),{},{coordinate:G})}))}else n(h);return}if(i!=null){var j;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,D);j=i[O]}else r==="value"&&(j=i.find(Z=>String(Z.value)===h.payload.label));var{coordinate:M}=h.payload;if(j==null||h.payload.active===!1||M==null||s==null){n(Cb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:z}=M,F=Math.min(q,s.x+s.width),B=Math.min(z,s.y+s.height),ge={x:o==="horizontal"?j.coordinate:F,y:o==="horizontal"?B:j.coordinate},Re=Cb({active:h.payload.active,coordinate:ge,dataKey:h.payload.dataKey,index:String(j.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Re)}}};return Md.on(Nb,f),()=>{Md.off(Nb,f)}},[u,n,e,t,r,i,o,s])}function wfe(){var t=xe(OA),e=xe(kA),n=fn();N.useEffect(()=>{if(t==null)return jd;var r=(i,o,s)=>{e!==s&&t===i&&n(gfe(o))};return Md.on(N2,r),()=>{Md.off(N2,r)}},[n,e,t])}function xfe(){var t=fn();N.useEffect(()=>{t(hfe())},[t]),Afe(),wfe()}function Cfe(t,e,n,r,i,o){var s=xe(T=>Dce(T,t,e)),u=xe(kA),f=xe(OA),d=xe(O3),h=xe(pfe),m=h==null?void 0:h.active,y=Wd();N.useEffect(()=>{if(!m&&f!=null&&u!=null){var T=Cb({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Md.emit(Nb,f,T,u)}},[m,n,s,i,r,u,f,d,o,y])}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return(e=Rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pfe(t){return t.dataKey}function Mfe(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(uie,e)}var k2=[],Dfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ofe(t){var e,n,r=vr(t,Dfe),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:y,position:T,reverseDirection:S,useTranslate3d:x,wrapperStyle:A,cursor:P,shared:V,trigger:L,defaultIndex:H,portal:G,axisId:j}=r,D=fn(),O=typeof H=="number"?String(H):H;N.useEffect(()=>{D(Rue({shared:V,trigger:L,axisId:j,active:i,defaultIndex:O}))},[D,V,L,j,i,O]);var M=Wd(),q=R4(),z=Sue(V),{activeIndex:F,isActive:B}=(e=xe(De=>Lce(De,z,L,O)))!==null&&e!==void 0?e:{},ge=xe(De=>kce(De,z,L,O)),Re=xe(De=>Y5(De,z,L,O)),Z=xe(De=>Oce(De,z,L,O)),fe=ge,ye=afe(),Se=(n=i??B)!==null&&n!==void 0?n:!1,[Me,K]=Kte([fe,Se]),ie=z==="axis"?Re:void 0;Cfe(z,L,Z,ie,F,Se);var he=G??ye;if(he==null||M==null||z==null)return null;var me=fe??k2;Se||(me=k2),d&&me.length&&(me=_te(me.filter(De=>De.value!=null&&(De.hide!==!0||r.includeHidden)),y,Pfe));var Ne=me.length>0,Le=N.createElement(gie,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:h,active:Se,coordinate:Z,hasPayload:Ne,offset:m,position:T,reverseDirection:S,useTranslate3d:x,viewBox:M,wrapperStyle:A,lastBoundingBox:Me,innerRef:K,hasPortalFromProps:!!G},Mfe(f,O2(O2({},r),{},{payload:me,label:ie,active:Se,activeIndex:F,coordinate:Z,accessibilityLayer:q})));return N.createElement(N.Fragment,null,rV.createPortal(Le,he),Se&&N.createElement(ofe,{cursor:P,tooltipEventType:z,coordinate:Z,payload:me,index:F}))}function kfe(t,e,n){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vfe{constructor(e){kfe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ffe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e,n){return(e=Bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bfe(t){var e=qfe(t,"string");return typeof e=="symbol"?e:e+""}function qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hfe={cacheSize:2e3,enableCache:!0},Z5=Ffe({},Hfe),U2=new Vfe(Z5.cacheSize),Gfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V2="recharts_measurement_span";function jfe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var F2=(t,e)=>{try{var n=document.getElementById(V2);n||(n=document.createElement("span"),n.setAttribute("id",V2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Gfe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},sd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xd.isSsr)return{width:0,height:0};if(!Z5.enableCache)return F2(e,n);var r=jfe(e,n),i=U2.get(r);if(i)return i;var o=F2(e,n);return U2.set(r,o),o},e6;function $fe(t,e,n){return(e=Kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Xfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qfe=["cm","mm","pt","pc","in","Q","px"];function Zfe(t){return Qfe.includes(t)}var zu="NaN";function ede(t,e){return t*Xfe[e]}class On{static parse(e){var n,[,r,i]=(n=Jfe.exec(e))!==null&&n!==void 0?n:[];return r==null?On.NaN:new On(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ur(e)&&(this.unit=""),n!==""&&!Wfe.test(n)&&(this.num=NaN,this.unit=""),Zfe(n)&&(this.num=ede(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new On(NaN,""):new On(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new On(NaN,""):new On(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new On(NaN,""):new On(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new On(NaN,""):new On(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ur(this.num)}}e6=On;$fe(On,"NaN",new e6(NaN,""));function t6(t){if(t==null||t.includes(zu))return zu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=z2.exec(e))!==null&&n!==void 0?n:[],s=On.parse(r??""),u=On.parse(o??""),f=i==="*"?s.multiply(u):s.divide(u);if(f.isNaN())return zu;e=e.replace(z2,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,y]=(d=B2.exec(e))!==null&&d!==void 0?d:[],T=On.parse(h??""),S=On.parse(y??""),x=m==="+"?T.add(S):T.subtract(S);if(x.isNaN())return zu;e=e.replace(B2,x.toString())}return e}var q2=/\(([^()]*)\)/;function tde(t){for(var e=t,n;(n=q2.exec(e))!=null;){var[,r]=n;e=e.replace(q2,t6(r))}return e}function nde(t){var e=t.replace(/\s+/g,"");return e=tde(e),e=t6(e),e}function rde(t){try{return nde(t)}catch{return zu}}function jE(t){var e=rde(t.slice(5,-1));return e===zu?"":e}var ide=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ode=["dx","dy","angle","className","breakAll"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}function H2(t,e){if(t==null)return{};var n,r,i=ade(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ade(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n6=/[ \f\n\r\t\v\u2028\u2029]+/,r6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Fn(e)||(n?i=e.toString().split(""):i=e.toString().split(n6));var o=i.map(u=>({word:u,width:sd(u,r).width})),s=n?0:sd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function sde(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var i6=(t,e,n,r)=>t.reduce((i,o)=>{var{word:s,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(s),f.width+=u+n;else{var d={words:[s],width:u};i.push(d)}return i},[]),o6=t=>t.reduce((e,n)=>e.width>n.width?e:n),lde="",G2=(t,e,n,r,i,o,s,u)=>{var f=t.slice(0,e),d=r6({breakAll:n,style:r,children:f+lde});if(!d)return[!1,[]];var h=i6(d.wordsWithComputedWidth,o,s,u),m=h.length>i||o6(h).width>Number(o);return[m,h]},ude=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:f}=t,d=we(o),h=String(s),m=i6(e,r,n,i);if(!d||i)return m;var y=m.length>o||o6(m).width>Number(r);if(!y)return m;for(var T=0,S=h.length-1,x=0,A;T<=S&&x<=h.length-1;){var P=Math.floor((T+S)/2),V=P-1,[L,H]=G2(h,V,f,u,o,r,n,i),[G]=G2(h,P,f,u,o,r,n,i);if(!L&&!G&&(T=P+1),L&&G&&(S=P-1),!L&&G){A=H;break}x++}return A||m},j2=t=>{var e=Fn(t)?[]:t.toString().split(n6);return[{words:e,width:void 0}]},cde=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Xd.isSsr){var u,f,d=r6({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return j2(r);return ude({breakAll:o,children:r,maxLines:s,style:i},u,f,e,!!n)}return j2(r)},a6="#808080",fde={angle:0,breakAll:!1,capHeight:"0.71em",fill:a6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},aw=N.forwardRef((t,e)=>{var n=vr(t,fde),{x:r,y:i,lineHeight:o,capHeight:s,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=H2(n,ide),y=N.useMemo(()=>cde({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:T,dy:S,angle:x,className:A,breakAll:P}=m,V=H2(m,ode);if(!ai(r)||!ai(i)||y.length===0)return null;var L=Number(r)+(we(T)?T:0),H=Number(i)+(we(S)?S:0);if(!vt(L)||!vt(H))return null;var G;switch(h){case"start":G=jE("calc(".concat(s,")"));break;case"middle":G=jE("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:G=jE("calc(".concat(y.length-1," * -").concat(o,")"));break}var j=[];if(f){var D=y[0].width,{width:O}=m;j.push("scale(".concat(we(O)&&we(D)?O/D:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(L,", ").concat(H,")")),j.length&&(V.transform=j.join(" ")),N.createElement("text",Pb({},Lr(V),{ref:e,x:L,y:H,className:bt("recharts-text",A),textAnchor:d,fill:u.includes("url")?a6:u}),y.map((M,q)=>{var z=M.words.join(P?"":" ");return N.createElement("tspan",{x:L,dy:q===0?G:o,key:"".concat(z,"-").concat(q)},z)}))});aw.displayName="Text";var dde=["labelRef"],hde=["content"];function $2(t,e){if(t==null)return{};var n,r,i=pde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mde(t,e,n){return(e=gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gde(t){var e=yde(t,"string");return typeof e=="symbol"?e:e+""}function yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(null,arguments)}var s6=N.createContext(null),l6=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:u}=t,f=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[e,n,r,i,o,s]);return N.createElement(s6.Provider,{value:f},u)},u6=()=>{var t=N.useContext(s6),e=Wd();return t||v4(e)},vde=N.createContext(null),_de=()=>{var t=N.useContext(vde),e=xe(F3);return t||e},Ede=t=>{var{value:e,formatter:n}=t,r=Fn(t.children)?e:t.children;return typeof n=="function"?n(r):r},sw=t=>t!=null&&typeof t=="function",Tde=(t,e)=>{var n=ti(e-t),r=Math.min(Math.abs(e-t),360);return n*r},bde=(t,e,n,r,i)=>{var{offset:o,className:s}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:y,clockWise:T}=i,S=(d+h)/2,x=Tde(m,y),A=x>=0?1:-1,P,V;switch(e){case"insideStart":P=m+A*o,V=T;break;case"insideEnd":P=y-A*o,V=!T;break;case"end":P=y+A*o,V=T;break;default:throw new Error("Unsupported position ".concat(e))}V=x<=0?V:!V;var L=Vn(u,f,S,P),H=Vn(u,f,S,P+(V?1:-1)*359),G="M".concat(L.x,",").concat(L.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(V?0:1,`,
    `).concat(H.x,",").concat(H.y),j=Fn(t.id)?vd("recharts-radial-line-"):t.id;return N.createElement("text",qo({},r,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:j,d:G})),N.createElement("textPath",{xlinkHref:"#".concat(j)},n))},Sde=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=Vn(r,i,s+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+s)/2,{x:T,y:S}=Vn(r,i,y,d);return{x:T,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Mb=t=>"cx"in t&&we(t.cx),Ade=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!Mb(n)&&(o=n);var{x:s,y:u,upperWidth:f,lowerWidth:d,height:h}=e,m=s,y=s+(f-d)/2,T=(m+y)/2,S=(f+d)/2,x=m+f/2,A=h>=0?1:-1,P=A*r,V=A>0?"end":"start",L=A>0?"start":"end",H=f>=0?1:-1,G=H*r,j=H>0?"end":"start",D=H>0?"start":"end";if(i==="top"){var O={x:m+f/2,y:u-P,textAnchor:"middle",verticalAnchor:V};return Ht(Ht({},O),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var M={x:y+d/2,y:u+h+P,textAnchor:"middle",verticalAnchor:L};return Ht(Ht({},M),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var q={x:T-G,y:u+h/2,textAnchor:j,verticalAnchor:"middle"};return Ht(Ht({},q),o?{width:Math.max(q.x-o.x,0),height:h}:{})}if(i==="right"){var z={x:T+S+G,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return Ht(Ht({},z),o?{width:Math.max(o.x+o.width-z.x,0),height:h}:{})}var F=o?{width:S,height:h}:{};return i==="insideLeft"?Ht({x:T+G,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},F):i==="insideRight"?Ht({x:T+S-G,y:u+h/2,textAnchor:j,verticalAnchor:"middle"},F):i==="insideTop"?Ht({x:m+f/2,y:u+P,textAnchor:"middle",verticalAnchor:L},F):i==="insideBottom"?Ht({x:y+d/2,y:u+h-P,textAnchor:"middle",verticalAnchor:V},F):i==="insideTopLeft"?Ht({x:m+G,y:u+P,textAnchor:D,verticalAnchor:L},F):i==="insideTopRight"?Ht({x:m+f-G,y:u+P,textAnchor:j,verticalAnchor:L},F):i==="insideBottomLeft"?Ht({x:y+G,y:u+h-P,textAnchor:D,verticalAnchor:V},F):i==="insideBottomRight"?Ht({x:y+d-G,y:u+h-P,textAnchor:j,verticalAnchor:V},F):i&&typeof i=="object"&&(we(i.x)||na(i.x))&&(we(i.y)||na(i.y))?Ht({x:s+Es(i.x,S),y:u+Es(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):Ht({x,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},wde={angle:0,offset:5,zIndex:Xn.label,position:"middle",textBreakAll:!1};function es(t){var e=vr(t,wde),{viewBox:n,position:r,value:i,children:o,content:s,className:u="",textBreakAll:f,labelRef:d}=e,h=_de(),m=u6(),y=r==="center"?m:h??m,T,S,x;if(n==null?T=y:Mb(n)?T=n:T=v4(n),!T||Fn(i)&&Fn(o)&&!N.isValidElement(s)&&typeof s!="function")return null;var A=Ht(Ht({},e),{},{viewBox:T});if(N.isValidElement(s)){var{labelRef:P}=A,V=$2(A,dde);return N.cloneElement(s,V)}if(typeof s=="function"){var{content:L}=A,H=$2(A,hde);if(S=N.createElement(s,H),N.isValidElement(S))return S}else S=Ede(e);var G=Lr(e);if(Mb(T)){if(r==="insideStart"||r==="insideEnd"||r==="end")return bde(e,r,S,G,T);x=Sde(T,e.offset,e.position)}else x=Ade(e,T);return N.createElement(_o,{zIndex:e.zIndex},N.createElement(aw,qo({ref:d,className:bt("recharts-label",u)},G,x,{textAnchor:sde(G.textAnchor)?G.textAnchor:x.textAnchor,breakAll:f}),S))}es.displayName="Label";var xde=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(es,qo({key:"label-implicit"},r)):ai(t)?N.createElement(es,qo({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===es?N.cloneElement(t,Ht({key:"label-implicit"},r)):N.createElement(es,qo({key:"label-implicit",content:t},r)):sw(t)?N.createElement(es,qo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(es,qo({},t,{key:"label-implicit"},r)):null};function c6(t){var{label:e,labelRef:n}=t,r=u6();return xde(e,r,n)||null}var $E={},KE={},Y2;function Cde(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(KE)),KE}var YE={},W2;function Ide(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(YE)),YE}var J2;function Rde(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cde(),n=Ide(),r=JS();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})($E)),$E}var WE,X2;function Nde(){return X2||(X2=1,WE=Rde().last),WE}var Pde=Nde();const Mde=la(Pde);var Dde=["valueAccessor"],Ode=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(null,arguments)}function Q2(t,e){if(t==null)return{};var n,r,i=kde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lde=t=>Array.isArray(t.value)?Mde(t.value):t.value,f6=N.createContext(void 0),Ude=f6.Provider,d6=N.createContext(void 0);d6.Provider;function Vde(){return N.useContext(f6)}function Fde(){return N.useContext(d6)}function Dm(t){var{valueAccessor:e=Lde}=t,n=Q2(t,Dde),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:u}=n,f=Q2(n,Ode),d=Vde(),h=Fde(),m=d||h;return!m||!m.length?null:N.createElement(_o,{zIndex:u??Xn.label},N.createElement(Oi,{className:"recharts-label-list"},m.map((y,T)=>{var S,x=Fn(r)?e(y,T):zn(y&&y.payload,r),A=Fn(o)?{}:{id:"".concat(o,"-").concat(T)};return N.createElement(es,Gg({key:"label-".concat(T)},Lr(y),f,A,{fill:(S=n.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:x,textBreakAll:s,viewBox:y.viewBox,index:T,zIndex:0}))})))}Dm.displayName="LabelList";function zde(t){var{label:e}=t;return e?e===!0?N.createElement(Dm,{key:"labelList-implicit"}):N.isValidElement(e)||sw(e)?N.createElement(Dm,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(Dm,Gg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(null,arguments)}var h6=t=>{var{cx:e,cy:n,r,className:i}=t,o=bt("recharts-dot",i);return we(e)&&we(n)&&we(r)?N.createElement("circle",Db({},Di(t),WS(t),{className:o,cx:e,cy:n,r})):null},Bde={radiusAxis:{},angleAxis:{}},p6=_r({name:"polarAxis",initialState:Bde,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:eye,removeRadiusAxis:tye,addAngleAxis:nye,removeAngleAxis:rye}=p6.actions,qde=p6.reducer,m6=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function Hde(t){var{tooltipEntrySettings:e}=t,n=fn(),r=sr(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(xue(e)):i.current!==e&&n(Cue({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(Iue(i.current)),i.current=null)},[n]),null}function Gde(t){var{legendPayload:e}=t,n=fn(),r=sr(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(tie(e)):i.current!==e&&n(nie({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(rie(i.current)),i.current=null)},[n]),null}var JE,jde=()=>{var[t]=N.useState(()=>vd("uid-"));return t},$de=(JE=Oz.useId)!==null&&JE!==void 0?JE:jde;function Kde(t,e){var n=$de();return e||(t?"".concat(t,"-").concat(n):n)}var Yde=N.createContext(void 0),Wde=t=>{var{id:e,type:n,children:r}=t,i=Kde("recharts-".concat(n),e);return N.createElement(Yde.Provider,{value:i},r(i))},Jde={cartesianItems:[],polarItems:[]},g6=_r({name:"graphicalItems",initialState:Jde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Nt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Pi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Nt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Pi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Nt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Nt()},removePolarGraphicalItem:{reducer(t,e){var n=Pi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Nt()}}}),{addCartesianGraphicalItem:Xde,replaceCartesianGraphicalItem:Qde,removeCartesianGraphicalItem:Zde,addPolarGraphicalItem:iye,removePolarGraphicalItem:oye}=g6.actions,ehe=g6.reducer,the=t=>{var e=fn(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Xde(t)):n.current!==t&&e(Qde({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(Zde(n.current)),n.current=null)},[e]),null},nhe=N.memo(the),rhe=["points"];function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=ahe(t,"string");return typeof e=="symbol"?e:e+""}function ahe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(null,arguments)}function she(t,e){if(t==null)return{};var n,r,i=lhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uhe(t){var{option:e,dotProps:n,className:r}=t;if(N.isValidElement(e))return N.cloneElement(e,n);if(typeof e=="function")return e(n);var i=bt(r,typeof e!="boolean"?e.className:""),o=n??{},{points:s}=o,u=she(o,rhe);return N.createElement(h6,jg({},u,{className:i}))}function che(t,e){return t==null?!1:e?!0:t.length===1}function fhe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:u,clipPathId:f,zIndex:d=Xn.scatter}=t;if(!che(e,n))return null;var h=m6(n),m=fee(n),y=e.map((S,x)=>{var A,P,V=XE(XE(XE({r:3},s),m),{},{index:x,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(P=S.y)!==null&&P!==void 0?P:void 0,dataKey:o,value:S.value,payload:S.payload,points:e});return N.createElement(uhe,{key:"dot-".concat(x),option:n,dotProps:V,className:i})}),T={};return u&&f!=null&&(T.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),N.createElement(_o,{zIndex:d},N.createElement(Oi,jg({className:r},T),y))}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=0,mhe={xAxis:{},yAxis:{},zAxis:{}},v6=_r({name:"cartesianAxis",initialState:mhe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Nt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Nt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Nt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Nt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Nt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Nt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Nt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Nt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Nt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=tO(tO({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:ghe,replaceXAxis:yhe,removeXAxis:vhe,addYAxis:_he,replaceYAxis:Ehe,removeYAxis:The,addZAxis:aye,replaceZAxis:sye,removeZAxis:lye,updateYAxisWidth:bhe}=v6.actions,She=v6.reducer,Ahe=re([qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),whe=re([Ahe,ha,pa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),lw=()=>xe(whe),xhe=()=>xe(Ece);function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){Che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Rhe(t,"string");return typeof e=="symbol"?e:e+""}function Rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nhe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=QE(QE(QE({},u),by(i)),WS(i)),d;return N.isValidElement(i)?d=N.cloneElement(i,f):typeof i=="function"?d=i(f):d=N.createElement(h6,f),N.createElement(Oi,{className:"recharts-active-dot",clipPath:s},d)};function rO(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=Xn.activeDot}=t,u=xe(Pd),f=xhe();if(e==null||f==null)return null;var d=e.find(h=>f.includes(h.payload));return Fn(d)?null:N.createElement(_o,{zIndex:s},N.createElement(Nhe,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Phe=t=>{var{chartData:e}=t,n=fn(),r=sr();return N.useEffect(()=>r?()=>{}:(n(P2(e)),()=>{n(P2(void 0))}),[e,n,r]),null},iO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_6=_r({name:"brush",initialState:iO,reducers:{setBrushSettings(t,e){return e.payload==null?iO:e.payload}}}),{setBrushSettings:uye}=_6.actions,Mhe=_6.reducer;function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){E6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6(t,e,n){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=Ohe(t,"string");return typeof e=="symbol"?e:e+""}function Ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var khe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Lhe=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return khe({x:e,y:n},{x:r,y:i})};class ov{static create(e){return new ov(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}E6(ov,"EPS",1e-4);var Uhe=t=>{var e=Object.keys(t).reduce((n,r)=>hm(hm({},n),{},{[r]:ov.create(t[r])}),{});return hm(hm({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(o=>{var[s,u]=o;return[s,e[s].apply(u,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function Vhe(t){return(t%180+180)%180}var Fhe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Vhe(i),s=o*Math.PI/180,u=Math.atan(r/n),f=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)},zhe={dots:[],areas:[],lines:[]},T6=_r({name:"referenceElements",initialState:zhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Pi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Pi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Pi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:cye,removeDot:fye,addArea:dye,removeArea:hye,addLine:Bhe,removeLine:qhe}=T6.actions,Hhe=T6.reducer,b6=N.createContext(void 0),Ghe=t=>{var{children:e}=t,[n]=N.useState("".concat(vd("recharts"),"-clip")),r=lw();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return N.createElement(b6.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:o,height:u,width:s}))),e)},jhe=()=>N.useContext(b6);function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){$he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e,n){return(e=Khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(null,arguments)}var Whe=(t,e)=>{var n;if(N.isValidElement(t))n=N.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!vt(e.x1)||!vt(e.y1)||!vt(e.x2)||!vt(e.y2))return null;n=N.createElement("line",$g({},e,{className:"recharts-reference-line-line"}))}return n},Jhe=(t,e,n,r,i,o)=>{var{x:s,width:u}=o,f=i.y.apply(t,{position:n});if(Ur(f)||e==="discard"&&!i.y.isInRange(f))return null;var d=[{x:s+u,y:f},{x:s,y:f}];return r==="left"?d.reverse():d},Xhe=(t,e,n,r,i,o)=>{var{y:s,height:u}=o,f=i.x.apply(t,{position:n});if(Ur(f)||e==="discard"&&!i.x.isInRange(f))return null;var d=[{x:f,y:s+u},{x:f,y:s}];return r==="top"?d.reverse():d},Qhe=(t,e,n,r)=>{var i=t.map(o=>r.apply(o,{position:n}));return e==="discard"&&i.some(o=>!r.isInRange(o))?null:i},Zhe=(t,e,n,r,i,o)=>{var{x:s,y:u,segment:f,ifOverflow:d}=o,h=ai(s),m=ai(u);return m?Jhe(u,d,n,i,t,e):h?Xhe(s,d,n,r,t,e):f!=null&&f.length===2?Qhe(f,d,n,t):null};function epe(t){var e=fn();return N.useEffect(()=>(e(Bhe(t)),()=>{e(qhe(t))})),null}function tpe(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:o}=t,s=sr(),u=jhe(),f=xe(j=>yo(j,e)),d=xe(j=>vo(j,n)),h=xe(j=>fc(j,"xAxis",e,s)),m=xe(j=>fc(j,"yAxis",n,s)),y=Wd();if(!u||!y||f==null||d==null||h==null||m==null)return null;var T=Uhe({x:h,y:m}),S=Zhe(T,y,t.position,f.orientation,d.orientation,t);if(!S)return null;var[{x,y:A},{x:P,y:V}]=S,L=o==="hidden"?"url(#".concat(u,")"):void 0,H=sO(sO({clipPath:L},Lr(t)),{},{x1:x,y1:A,x2:P,y2:V}),G=Lhe({x1:x,y1:A,x2:P,y2:V});return N.createElement(_o,{zIndex:t.zIndex},N.createElement(Oi,{className:bt("recharts-reference-line",i)},Whe(r,H),N.createElement(l6,$g({},G,{lowerWidth:G.width,upperWidth:G.width}),N.createElement(c6,{label:t.label}),t.children)))}var npe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Xn.line};function S6(t){var e=vr(t,npe);return N.createElement(N.Fragment,null,N.createElement(epe,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),N.createElement(tpe,e))}S6.displayName="ReferenceLine";function A6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function rpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fhe(r,n)}function ipe(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:u}=t;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function Dd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function ope(t,e){return A6(t,e+1)}function ape(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=e,f=0,d=1,h=s,m=function(){var S=r==null?void 0:r[f];if(S===void 0)return{v:A6(r,d)};var x=f,A,P=()=>(A===void 0&&(A=n(S,x)),A),V=S.coordinate,L=f===0||Dd(t,V,P,h,u);L||(f=0,h=s,d+=1),L&&(h=V+t*(P()/2+i),f+=d)},y;d<=o.length;)if(y=m(),y)return y.v;return[]}function spe(t,e,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:u,end:f}=e,d=1;d<=s;d++){for(var h=(s-1)%d,m=u,y=!0,T=function(){var V=r[S],L=S,H,G=()=>(H===void 0&&(H=n(V,L)),H),j=V.coordinate,D=S===h||Dd(t,j,G,m,f);if(!D)return y=!1,1;D&&(m=j+t*(G()/2+i))},S=h;S<s&&!T();S+=d);if(y){for(var x=[],A=h;A<s;A+=d)x.push(r[A]);return x}}return[]}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fpe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=e,{end:f}=e,d=function(y){var T=o[y],S,x=()=>(S===void 0&&(S=n(T,y)),S);if(y===s-1){var A=t*(T.coordinate+t*x()/2-f);o[y]=T=jn(jn({},T),{},{tickCoord:A>0?T.coordinate-A*t:T.coordinate})}else o[y]=T=jn(jn({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var P=Dd(t,T.tickCoord,x,u,f);P&&(f=T.tickCoord-t*(x()/2+i),o[y]=jn(jn({},T),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return o}function dpe(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:f,end:d}=e;if(o){var h=r[u-1],m=n(h,u-1),y=t*(h.coordinate+t*m/2-d);if(s[u-1]=h=jn(jn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var T=Dd(t,h.tickCoord,()=>m,f,d);T&&(d=h.tickCoord-t*(m/2+i),s[u-1]=jn(jn({},h),{},{isShow:!0}))}}for(var S=o?u-1:u,x=function(V){var L=s[V],H,G=()=>(H===void 0&&(H=n(L,V)),H);if(V===0){var j=t*(L.coordinate-t*G()/2-f);s[V]=L=jn(jn({},L),{},{tickCoord:j<0?L.coordinate-j*t:L.coordinate})}else s[V]=L=jn(jn({},L),{},{tickCoord:L.coordinate});if(L.tickCoord!=null){var D=Dd(t,L.tickCoord,G,f,d);D&&(f=L.tickCoord+t*(G()/2+i),s[V]=jn(jn({},L),{},{isShow:!0}))}},A=0;A<S;A++)x(A);return s}function uw(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(we(f)||Xd.isSsr){var y;return(y=ope(i,we(f)?f:0))!==null&&y!==void 0?y:[]}var T=[],S=u==="top"||u==="bottom"?"width":"height",x=h&&S==="width"?sd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(L,H)=>{var G=typeof d=="function"?d(L.value,H):L.value;return S==="width"?rpe(sd(G,{fontSize:e,letterSpacing:n}),x,m):sd(G,{fontSize:e,letterSpacing:n})[S]},P=i.length>=2?ti(i[1].coordinate-i[0].coordinate):1,V=ipe(o,P,S);return f==="equidistantPreserveStart"?ape(P,V,A,i,s):f==="equidistantPreserveEnd"?spe(P,V,A,i,s):(f==="preserveStart"||f==="preserveStartEnd"?T=dpe(P,V,A,i,s,f==="preserveStartEnd"):T=fpe(P,V,A,i,s),T.filter(L=>L.isShow))}var hpe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=s+f+u+(n?r:0);return Math.round(d)}return 0},ppe=["axisLine","width","height","className","hide","ticks","axisType"];function mpe(t,e){if(t==null)return{};var n,r,i=gpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(null,arguments)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){ype(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ype(t,e,n){return(e=vpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vpe(t){var e=_pe(t,"string");return typeof e=="symbol"?e:e+""}function _pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xn.axis};function Epe(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=tn(tn(tn({},f),Di(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!s||o==="bottom"&&s);d=tn(tn({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!s||o==="right"&&s);d=tn(tn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return N.createElement("line",Pl({},d,{className:bt("recharts-cartesian-axis-line",wy(u,"className"))}))}function Tpe(t,e,n,r,i,o,s,u,f){var d,h,m,y,T,S,x=u?-1:1,A=t.tickSize||s,P=we(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=h=t.coordinate,y=n+ +!u*i,m=y-x*A,S=m-x*f,T=P;break;case"left":m=y=t.coordinate,h=e+ +!u*r,d=h-x*A,T=d-x*f,S=P;break;case"right":m=y=t.coordinate,h=e+ +u*r,d=h+x*A,T=d+x*f,S=P;break;default:d=h=t.coordinate,y=n+ +u*i,m=y+x*A,S=m+x*f,T=P;break}return{line:{x1:d,y1:m,x2:h,y2:y},tick:{x:T,y:S}}}function bpe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Spe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ape(t){var{option:e,tickProps:n,value:r}=t,i,o=bt(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,tn(tn({},n),{},{className:o}));else if(typeof e=="function")i=e(tn(tn({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=bt(s,e==null?void 0:e.className)),i=N.createElement(aw,Pl({},n,{className:s}),r)}return i}var wpe=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:y,y:T,width:S,height:x,tickSize:A,tickMargin:P,fontSize:V,letterSpacing:L,getTicksConfig:H,events:G,axisType:j}=t,D=uw(tn(tn({},H),{},{ticks:n}),V,L),O=bpe(h,m),M=Spe(h,m),q=Di(H),z=by(r),F={};typeof i=="object"&&(F=i);var B=tn(tn({},q),{},{fill:"none"},F),ge=D.map(fe=>tn({entry:fe},Tpe(fe,y,T,S,x,h,A,m,P))),Re=ge.map(fe=>{var{entry:ye,line:Se}=fe;return N.createElement(Oi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},i&&N.createElement("line",Pl({},B,Se,{className:bt("recharts-cartesian-axis-tick-line",wy(i,"className"))})))}),Z=ge.map((fe,ye)=>{var{entry:Se,tick:Me}=fe,K=tn(tn(tn(tn({textAnchor:O,verticalAnchor:M},q),{},{stroke:"none",fill:o},z),Me),{},{index:ye,payload:Se,visibleTicksCount:D.length,tickFormatter:s,padding:f},d);return N.createElement(Oi,Pl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Se.value,"-").concat(Se.coordinate,"-").concat(Se.tickCoord)},Yee(G,Se,ye)),r&&N.createElement(Ape,{option:r,tickProps:K,value:"".concat(typeof s=="function"?s(Se.value,ye):Se.value).concat(u||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},Z.length>0&&N.createElement(_o,{zIndex:Xn.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},Z)),Re.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},Re))}),xpe=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:u,axisType:f}=t,d=mpe(t,ppe),[h,m]=N.useState(""),[y,T]=N.useState(""),S=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return hpe({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=N.useCallback(A=>{if(A){var P=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=P;var V=P[0];if(V){var L=window.getComputedStyle(V),H=L.fontSize,G=L.letterSpacing;(H!==h||G!==y)&&(m(H),T(G))}}},[h,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(_o,{zIndex:t.zIndex},N.createElement(Oi,{className:bt("recharts-cartesian-axis",o)},N.createElement(Epe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Di(t)}),N.createElement(wpe,{ref:x,axisType:f,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(l6,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(c6,{label:t.label,labelRef:t.labelRef}),t.children)))}),cw=N.forwardRef((t,e)=>{var n=vr(t,Jo);return N.createElement(xpe,Pl({},n,{ref:e}))});cw.displayName="CartesianAxis";var Cpe=["x1","y1","x2","y2","key"],Ipe=["offset"],Rpe=["xAxisId","yAxisId"],Npe=["xAxisId","yAxisId"];function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e,n){return(e=Mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mpe(t){var e=Dpe(t,"string");return typeof e=="symbol"?e:e+""}function Dpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(null,arguments)}function Kg(t,e){if(t==null)return{};var n,r,i=Ope(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ope(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kpe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:u}=t;return N.createElement("rect",{x:r,y:i,ry:u,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function w6(t){var{option:e,lineItemProps:n}=t,r;if(N.isValidElement(e))r=N.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:s,x2:u,y2:f,key:d}=n,h=Kg(n,Cpe),m=(i=Di(h))!==null&&i!==void 0?i:{},{offset:y}=m,T=Kg(m,Ipe);r=N.createElement("line",ml({},T,{x1:o,y1:s,x2:u,y2:f,fill:"none",key:d}))}return r}function Lpe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=t,u=Kg(t,Rpe),f=i.map((d,h)=>{var m=Wn(Wn({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return N.createElement(w6,{key:"line-".concat(h),option:r,lineItemProps:m})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Upe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=t,u=Kg(t,Npe),f=i.map((d,h)=>{var m=Wn(Wn({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return N.createElement(w6,{option:r,lineItemProps:m,key:"line-".concat(h)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Vpe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var T=!d[y+1],S=T?i+s-m:d[y+1]-m;if(S<=0)return null;var x=y%e.length;return N.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:S,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Fpe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var T=!d[y+1],S=T?i+s-m:d[y+1]-m;if(S<=0)return null;var x=y%n.length;return N.createElement("rect",{key:"react-".concat(y),x:m,y:o,width:S,height:u,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var zpe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return c4(uw(Wn(Wn(Wn({},Jo),n),{},{ticks:f4(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Bpe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return c4(uw(Wn(Wn(Wn({},Jo),n),{},{ticks:f4(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},qpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Xn.grid};function x6(t){var e=E4(),n=T4(),r=_4(),i=Wn(Wn({},vr(t,qpe)),{},{x:we(t.x)?t.x:r.left,y:we(t.y)?t.y:r.top,width:we(t.width)?t.width:r.width,height:we(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:s,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:y,verticalValues:T}=i,S=sr(),x=xe(M=>_2(M,"xAxis",o,S)),A=xe(M=>_2(M,"yAxis",s,S));if(!mo(d)||!mo(h)||!we(u)||!we(f))return null;var P=i.verticalCoordinatesGenerator||zpe,V=i.horizontalCoordinatesGenerator||Bpe,{horizontalPoints:L,verticalPoints:H}=i;if((!L||!L.length)&&typeof V=="function"){var G=y&&y.length,j=V({yAxis:A?Wn(Wn({},A),{},{ticks:G?y:A.ticks}):void 0,width:e??d,height:n??h,offset:r},G?!0:m);Tg(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(L=j)}if((!H||!H.length)&&typeof P=="function"){var D=T&&T.length,O=P({xAxis:x?Wn(Wn({},x),{},{ticks:D?T:x.ticks}):void 0,width:e??d,height:n??h,offset:r},D?!0:m);Tg(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(H=O)}return N.createElement(_o,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(kpe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(Vpe,ml({},i,{horizontalPoints:L})),N.createElement(Fpe,ml({},i,{verticalPoints:H})),N.createElement(Lpe,ml({},i,{offset:r,horizontalPoints:L,xAxis:x,yAxis:A})),N.createElement(Upe,ml({},i,{offset:r,verticalPoints:H,xAxis:x,yAxis:A}))))}x6.displayName="CartesianGrid";var Hpe={},C6=_r({name:"errorBars",initialState:Hpe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:pye,replaceErrorBar:mye,removeErrorBar:gye}=C6.actions,Gpe=C6.reducer;function I6(t,e){var n,r,i=xe(d=>yo(d,t)),o=xe(d=>vo(d,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:_n.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:En.allowDataOverflow,f=s||u;return{needClip:f,needClipX:s,needClipY:u}}function jpe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=lw(),{needClipX:o,needClipY:s,needClip:u}=I6(e,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:o?f:f-h/2,y:s?d:d-m/2,width:o?h:h*2,height:s?m:m*2}))}function $pe(t){var e=by(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,s=Number(i),u=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(u)||u<0)&&(u=r),{r:s,strokeWidth:u}}return{r:n,strokeWidth:r}}var ZE={exports:{}},eT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO;function Kpe(){if(fO)return eT;fO=1;var t=dc();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return eT.useSyncExternalStoreWithSelector=function(f,d,h,m,y){var T=i(null);if(T.current===null){var S={hasValue:!1,value:null};T.current=S}else S=T.current;T=s(function(){function A(G){if(!P){if(P=!0,V=G,G=m(G),y!==void 0&&S.hasValue){var j=S.value;if(y(j,G))return L=j}return L=G}if(j=L,n(V,G))return j;var D=m(G);return y!==void 0&&y(j,D)?(V=G,j):(V=G,L=D)}var P=!1,V,L,H=h===void 0?null:h;return[function(){return A(d())},H===null?void 0:function(){return A(H())}]},[d,h,m,y]);var x=r(f,T[0],T[1]);return o(function(){S.hasValue=!0,S.value=x},[x]),u(x),x},eT}var dO;function Ype(){return dO||(dO=1,ZE.exports=Kpe()),ZE.exports}Ype();function Wpe(t){t()}function Jpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Wpe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var hO={notify(){},get:()=>[]};function Xpe(t,e){let n,r=hO,i=0,o=!1;function s(x){h();const A=r.subscribe(x);let P=!1;return()=>{P||(P=!0,A(),m())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(f),r=Jpe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=hO)}function y(){o||(o=!0,h())}function T(){o&&(o=!1,m())}const S={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:T,getListeners:()=>r};return S}var Qpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zpe=Qpe(),eme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tme=eme(),nme=()=>Zpe||tme?N.useLayoutEffect:N.useEffect,rme=nme();function pO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ime(t,e){if(pO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!pO(t[n[i]],e[n[i]]))return!1;return!0}var tT=Symbol.for("react-redux-context"),nT=typeof globalThis<"u"?globalThis:{};function ome(){if(!N.createContext)return{};const t=nT[tT]??(nT[tT]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var ame=ome();function sme(t){const{children:e,context:n,serverState:r,store:i}=t,o=N.useMemo(()=>{const f=Xpe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),s=N.useMemo(()=>i.getState(),[i]);rme(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),s!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,s]);const u=n||ame;return N.createElement(u.Provider,{value:o},e)}var lme=sme,ume=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function cme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function fw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(ume.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ime(t[r],e[r]))return!1}else if(!cme(t[r],e[r]))return!1;return!0}function dw(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:y6}function hw(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:y6}var R6=(t,e,n)=>A5(t,"xAxis",dw(t,e),n),N6=(t,e,n)=>S5(t,"xAxis",dw(t,e),n),P6=(t,e,n)=>A5(t,"yAxis",hw(t,e),n),M6=(t,e,n)=>S5(t,"yAxis",hw(t,e),n),fme=re([St,R6,P6,N6,M6],(t,e,n,r,i)=>da(t,"xAxis")?Eg(e,r,!1):Eg(n,i,!1)),dme=(t,e)=>e,D6=re([j3,dme],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),O6=t=>{var e=St(t),n=da(e,"xAxis");return n?"yAxis":"xAxis"},hme=(t,e)=>{var n=O6(t);return n==="yAxis"?hw(t,e):dw(t,e)},pme=(t,e,n)=>e5(t,O6(t),hme(t,e),n),mme=re([D6,pme],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=FA(t);if(!(r==null||i==null)){var o=(n=e[r])===null||n===void 0?void 0:n.stackedData,s=o==null?void 0:o.find(u=>u.key===i);if(s!=null)return s.map(u=>[u[0],u[1]])}}}),gme=re([St,R6,P6,N6,M6,mme,ile,fme,D6,yle],(t,e,n,r,i,o,s,u,f,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:y}=s;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:T}=f,S;if(T&&T.length>0?S=T:S=h==null?void 0:h.slice(m,y+1),S!=null)return kme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:f,stackedData:o,displayedData:S,chartBaseValue:d,bandSize:u})}}),yme=["id"],vme=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(null,arguments)}function k6(t,e){if(t==null)return{};var n,r,i=_me(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eme(t,e,n){return(e=Tme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tme(t){var e=bme(t,"string");return typeof e=="symbol"?e:e+""}function bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yg(t,e){return t&&t!=="none"?t:e}var Sme=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:s}=t;return[{inactive:s,dataKey:e,type:o,color:Yg(r,i),value:d4(n,e),payload:t}]},Ame=N.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:u,unit:f,tooltipType:d,id:h}=t,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:d4(s,e),hide:u,type:d,color:Yg(r,o),unit:f,graphicalItemId:h}};return N.createElement(Hde,{tooltipEntrySettings:m})});function wme(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:s}=r,u=Di(r);return N.createElement(fhe,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:e})}function xme(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var s,u,f={x:(s=o.x)!==null&&s!==void 0?s:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bu(Bu({},f),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return N.createElement(Ude,{value:e?i:void 0},n)}function gO(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:s,type:u,stroke:f,connectNulls:d,isRange:h}=o,{id:m}=o,y=k6(o,yme),T=Di(y),S=Lr(y);return N.createElement(N.Fragment,null,(e==null?void 0:e.length)>1&&N.createElement(Oi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(Pm,_l({},S,{id:m,points:e,connectNulls:d,type:u,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),f!=="none"&&N.createElement(Pm,_l({},T,{className:"recharts-area-curve",layout:s,type:u,connectNulls:d,fill:"none",points:e})),f!=="none"&&h&&N.createElement(Pm,_l({},T,{className:"recharts-area-curve",layout:s,type:u,connectNulls:d,fill:"none",points:n}))),N.createElement(wme,{points:e,props:y,clipPathId:i}))}function Cme(t){var e,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=t,u=(e=o[0])===null||e===void 0?void 0:e.y,f=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!vt(u)||!vt(f))return null;var d=r*Math.abs(u-f),h=Math.max(...o.map(m=>m.x||0));return we(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.x||0),h)),we(h)?N.createElement("rect",{x:0,y:u<f?u:u-d,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Ime(t){var e,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=t,u=(e=o[0])===null||e===void 0?void 0:e.x,f=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!vt(u)||!vt(f))return null;var d=r*Math.abs(u-f),h=Math.max(...o.map(m=>m.y||0));return we(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.y||0),h)),we(h)?N.createElement("rect",{x:u<f?u:u-d,y:0,width:d,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function Rme(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?N.createElement(Cme,{alpha:e,points:r,baseLine:i,strokeWidth:o}):N.createElement(Ime,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function Nme(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:s,baseLine:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:y,onAnimationEnd:T}=r,S=N.useMemo(()=>({points:s,baseLine:u}),[s,u]),x=O4(S,"recharts-area-"),A=Bre(),[P,V]=N.useState(!1),L=!P,H=N.useCallback(()=>{typeof T=="function"&&T(),V(!1)},[T]),G=N.useCallback(()=>{typeof y=="function"&&y(),V(!0)},[y]);if(A==null)return null;var j=i.current,D=o.current;return N.createElement(xme,{showLabels:L,points:s},r.children,N.createElement(D4,{animationId:x,begin:d,duration:h,isActive:f,easing:m,onAnimationEnd:H,onAnimationStart:G,key:x},O=>{if(j){var M=j.length/s.length,q=O===1?s:s.map((F,B)=>{var ge=Math.floor(B*M);if(j[ge]){var Re=j[ge];return Bu(Bu({},F),{},{x:ao(Re.x,F.x,O),y:ao(Re.y,F.y,O)})}return F}),z;return we(u)?z=ao(D,u,O):Fn(u)||Ur(u)?z=ao(D,0,O):z=u.map((F,B)=>{var ge=Math.floor(B*M);if(Array.isArray(D)&&D[ge]){var Re=D[ge];return Bu(Bu({},F),{},{x:ao(Re.x,F.x,O),y:ao(Re.y,F.y,O)})}return F}),O>0&&(i.current=q,o.current=z),N.createElement(gO,{points:q,baseLine:z,needClip:e,clipPathId:n,props:r})}return O>0&&(i.current=s,o.current=u),N.createElement(Oi,null,f&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(Rme,{alpha:O,points:s,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),N.createElement(Oi,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(gO,{points:s,baseLine:u,needClip:e,clipPathId:n,props:r})))}),N.createElement(zde,{label:r.label}))}function Pme(t){var{needClip:e,clipPathId:n,props:r}=t,i=N.useRef(null),o=N.useRef();return N.createElement(Nme,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class Mme extends N.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:s,needClip:u,xAxisId:f,yAxisId:d,width:h,height:m,id:y,baseLine:T,zIndex:S}=this.props;if(e)return null;var x=bt("recharts-area",i),A=y,{r:P,strokeWidth:V}=$pe(n),L=m6(n),H=P*2+V,G=u?"url(#clipPath-".concat(L?"":"dots-").concat(A,")"):void 0;return N.createElement(_o,{zIndex:S},N.createElement(Oi,{className:x},u&&N.createElement("defs",null,N.createElement(jpe,{clipPathId:A,xAxisId:f,yAxisId:d}),!L&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:s-H/2,y:o-H/2,width:h+H,height:m+H}))),N.createElement(Pme,{needClip:u,clipPathId:A,props:this.props})),N.createElement(rO,{points:r,mainColor:Yg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:G}),this.props.isRange&&Array.isArray(T)&&N.createElement(rO,{points:T,mainColor:Yg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:G}))}}var L6={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Xn.area};function Dme(t){var e,n=vr(t,L6),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:u,dot:f,fill:d,fillOpacity:h,hide:m,isAnimationActive:y,legendType:T,stroke:S,xAxisId:x,yAxisId:A}=n,P=k6(n,vme),V=Ac(),L=j5(),{needClip:H}=I6(x,A),G=sr(),{points:j,isRange:D,baseLine:O}=(e=xe(ge=>gme(ge,t.id,G)))!==null&&e!==void 0?e:{},M=lw();if(V!=="horizontal"&&V!=="vertical"||M==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:q,width:z,x:F,y:B}=M;return!j||!j.length?null:N.createElement(Mme,_l({},P,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:O,connectNulls:u,dot:f,fill:d,fillOpacity:h,height:q,hide:m,layout:V,isAnimationActive:y==="auto"?!Xd.isSsr:y,isRange:D,legendType:T,needClip:H,points:j,stroke:S,width:z,left:F,top:B,xAxisId:x,yAxisId:A}))}var Ome=(t,e,n,r,i)=>{var o=n??e;if(we(o))return o;var s=t==="horizontal"?i:r,u=s.scale.domain();if(s.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function kme(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:u,yAxis:f,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:y,bandSize:T}=t,S=i&&i.length,x=Ome(o,s,n,u,f),A=o==="horizontal",P=!1,V=d.map((H,G)=>{var j,D,O;if(S)O=i[h+G];else{var M=zn(H,r);Array.isArray(M)?(O=M,P=!0):O=[x,M]}var q=(j=(D=O)===null||D===void 0?void 0:D[1])!==null&&j!==void 0?j:null,z=q==null||S&&!e&&zn(H,r)==null;return A?{x:wM({axis:u,ticks:m,bandSize:T,entry:H,index:G}),y:z?null:f.scale(q),value:O,payload:H}:{x:z?null:u.scale(q),y:wM({axis:f,ticks:y,bandSize:T,entry:H,index:G}),value:O,payload:H}}),L;return S||P?L=V.map(H=>{var G=Array.isArray(H.value)?H.value[0]:null;return A?{x:H.x,y:G!=null&&H.y!=null?f.scale(G):null,payload:H.payload}:{x:G!=null?u.scale(G):null,y:H.y,payload:H.payload}}):L=A?f.scale(x):u.scale(x),{points:V,baseLine:L,isRange:P}}function Lme(t){var e=vr(t,L6),n=sr();return N.createElement(Wde,{id:e.id,type:"area"},r=>N.createElement(N.Fragment,null,N.createElement(Gde,{legendPayload:Sme(e)}),N.createElement(Ame,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),N.createElement(nhe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:rre(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),N.createElement(Dme,_l({},e,{id:r}))))}var U6=N.memo(Lme,fw);U6.displayName="Area";var Ume=["domain","range"],Vme=["domain","range"];function yO(t,e){if(t==null)return{};var n,r,i=Fme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vO(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function V6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=yO(t,Ume),{domain:o,range:s}=e,u=yO(e,Vme);return!vO(n,o)||!vO(r,s)?!1:fw(i,u)}var zme=["dangerouslySetInnerHTML","ticks","scale"],Bme=["id","scale"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(null,arguments)}function _O(t,e){if(t==null)return{};var n,r,i=qme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hme(t){var e=fn(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(ghe(t)):n.current!==t&&e(yhe({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(vhe(n.current)),n.current=null)},[e]),null}var Gme=t=>{var{xAxisId:e,className:n}=t,r=xe(p4),i=sr(),o="xAxis",s=xe(P=>b5(P,o,e,i)),u=xe(P=>uue(P,e)),f=xe(P=>mue(P,e)),d=xe(P=>B3(P,e));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:y}=t,T=_O(t,zme),{id:S,scale:x}=d,A=_O(d,Bme);return N.createElement(cw,Ob({},T,A,{x:f.x,y:f.y,width:u.width,height:u.height,className:bt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},jme={allowDataOverflow:_n.allowDataOverflow,allowDecimals:_n.allowDecimals,allowDuplicatedCategory:_n.allowDuplicatedCategory,angle:_n.angle,axisLine:Jo.axisLine,height:_n.height,hide:!1,includeHidden:_n.includeHidden,interval:_n.interval,minTickGap:_n.minTickGap,mirror:_n.mirror,orientation:_n.orientation,padding:_n.padding,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:_n.tickCount,tickLine:Jo.tickLine,tickSize:Jo.tickSize,type:_n.type,xAxisId:0},$me=t=>{var e=vr(t,jme);return N.createElement(N.Fragment,null,N.createElement(Hme,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),N.createElement(Gme,e))},F6=N.memo($me,V6);F6.displayName="XAxis";var Kme=["dangerouslySetInnerHTML","ticks","scale"],Yme=["id","scale"];function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(null,arguments)}function EO(t,e){if(t==null)return{};var n,r,i=Wme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jme(t){var e=fn(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(_he(t)):n.current!==t&&e(Ehe({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(The(n.current)),n.current=null)},[e]),null}var Xme=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=N.useRef(null),s=N.useRef(null),u=xe(p4),f=sr(),d=fn(),h="yAxis",m=xe(j=>vue(j,e)),y=xe(j=>yue(j,e)),T=xe(j=>b5(j,h,e,f)),S=xe(j=>q3(j,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!m||sw(i)||N.isValidElement(i)||S==null)){var j=o.current;if(j){var D=j.getCalculatedWidth();Math.round(m.width)!==Math.round(D)&&d(bhe({id:e,width:D}))}}},[T,m,d,i,e,r,S]),m==null||y==null||S==null)return null;var{dangerouslySetInnerHTML:x,ticks:A,scale:P}=t,V=EO(t,Kme),{id:L,scale:H}=S,G=EO(S,Yme);return N.createElement(cw,kb({},V,G,{ref:o,labelRef:s,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:bt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:T,axisType:h}))},Qme={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,angle:En.angle,axisLine:Jo.axisLine,hide:!1,includeHidden:En.includeHidden,interval:En.interval,minTickGap:En.minTickGap,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:En.tickCount,tickLine:Jo.tickLine,tickSize:Jo.tickSize,type:En.type,width:En.width,yAxisId:0},Zme=t=>{var e=vr(t,Qme);return N.createElement(N.Fragment,null,N.createElement(Jme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(Xme,e))},z6=N.memo(Zme,V6);z6.displayName="YAxis";var ege=(t,e)=>e,pw=re([ege,St,F3,pn,F5,ya,Mce,qn],Fce),mw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},B6=si("mouseClick"),q6=Kd();q6.startListening({actionCreator:B6,effect:(t,e)=>{var n=t.payload,r=pw(e.getState(),mw(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Pue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Lb=si("mouseMove"),H6=Kd(),pm=null;H6.startListening({actionCreator:Lb,effect:(t,e)=>{var n=t.payload;pm!==null&&cancelAnimationFrame(pm);var r=mw(n);pm=requestAnimationFrame(()=>{var i=e.getState(),o=JA(i,i.tooltip.settings.shared);if(o==="axis"){var s=pw(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(P5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(N5())}pm=null})}});function tge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var TO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},G6=_r({name:"rootProps",initialState:TO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:TO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),nge=G6.reducer,{updateOptions:rge}=G6.actions,j6=_r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:yye}=j6.actions,ige=j6.reducer,$6=si("keyDown"),K6=si("focus"),gw=Kd();gw.startListening({actionCreator:$6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=XA(i,Mc(n),ih(n),lh(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var f=ya(n);if(o==="Enter"){var d=Hg(n,"axis","hover",String(i.index));e.dispatch(Ib({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var h=bue(n),m=h==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,T=u+y*m;if(!(f==null||T>=f.length||T<0)){var S=Hg(n,"axis","hover",String(T));e.dispatch(Ib({active:!0,activeIndex:T.toString(),activeCoordinate:S}))}}}}}});gw.startListening({actionCreator:K6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Hg(n,"axis","hover",String(o));e.dispatch(Ib({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Qr=si("externalEvent"),Y6=Kd(),rT=new Map;Y6.startListening({actionCreator:Qr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=rT.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:yce(u),activeDataKey:mce(u),activeIndex:Pd(u),activeLabel:q5(u),activeTooltipIndex:Pd(u),isTooltipActive:vce(u)};n(f,r)}finally{rT.delete(i)}});rT.set(i,s)}}});var oge=re([Nc],t=>t.tooltipItemPayloads),age=re([oge,sh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),W6=si("touchMove"),J6=Kd();J6.startListening({actionCreator:W6,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=JA(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=pw(r,mw({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(P5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(cre),m=(u=d.getAttribute(fre))!==null&&u!==void 0?u:void 0,y=Pc(r).find(x=>x.id===m);if(h==null||y==null||m==null)return;var{dataKey:T}=y,S=age(r,h,m);e.dispatch(Nue({activeDataKey:T,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var sge=kV({brush:Mhe,cartesianAxis:She,chartData:yfe,errorBars:Gpe,graphicalItems:ehe,layout:Kne,legend:iie,options:dfe,polarAxis:qde,polarOptions:ige,referenceElements:Hhe,rootProps:nge,tooltip:Mue,zIndex:Zce}),lge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vne({reducer:sge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([q6.middleware,H6.middleware,gw.middleware,Y6.middleware,J6.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(JV({type:"raf"}))},devTools:{serialize:{replacer:tge},name:"recharts-".concat(n)}})};function uge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=sr(),o=N.useRef(null);if(i)return n;o.current==null&&(o.current=lge(e,r));var s=QS;return N.createElement(lme,{context:s,store:o.current},n)}function cge(t){var{layout:e,margin:n}=t,r=fn(),i=sr();return N.useEffect(()=>{i||(r(Gne(e)),r(Hne(n)))},[r,i,e,n]),null}var fge=N.memo(cge,fw);function dge(t){var e=fn();return N.useEffect(()=>{e(rge(t))},[e,t]),null}function bO(t){var{zIndex:e,isPanorama:n}=t,r=N.useRef(null),i=fn();return N.useLayoutEffect(()=>(r.current&&i(Xce({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Qce({zIndex:e,isPanorama:n}))}),[i,e,n]),N.createElement("g",{tabIndex:-1,ref:r})}function SO(t){var{children:e,isPanorama:n}=t,r=xe(Bce);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return N.createElement(N.Fragment,null,i.map(s=>N.createElement(bO,{key:s,zIndex:s,isPanorama:n})),e,o.map(s=>N.createElement(bO,{key:s,zIndex:s,isPanorama:n})))}var hge=["children"];function pge(t,e){if(t==null)return{};var n,r,i=mge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(null,arguments)}var gge={width:"100%",height:"100%",display:"block"},yge=N.forwardRef((t,e)=>{var n=E4(),r=T4(),i=R4();if(!mo(n)||!mo(r))return null;var{children:o,otherAttributes:s,title:u,desc:f}=t,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),N.createElement(nV,Wg({},s,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:gge,ref:e}),o)}),vge=t=>{var{children:e}=t,n=xe(Fy);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return N.createElement(nV,{width:r,height:i,x:s,y:o},e)},AO=N.forwardRef((t,e)=>{var{children:n}=t,r=pge(t,hge),i=sr();return i?N.createElement(vge,null,N.createElement(SO,{isPanorama:!0},n)):N.createElement(yge,Wg({ref:e},r),N.createElement(SO,{isPanorama:!1},n))});function _ge(){var t=fn(),[e,n]=N.useState(null),r=xe(ure);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;vt(o)&&o!==r&&t($ne(o))}},[e,t,r]),n}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ege(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bge(t){var e=Sge(t,"string");return typeof e=="symbol"?e:e+""}function Sge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(null,arguments)}var Age=()=>(xfe(),null);function Jg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var wge=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[o,s]=N.useState({containerWidth:Jg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Jg((r=t.style)===null||r===void 0?void 0:r.height)}),u=N.useCallback((d,h)=>{s(m=>{var y=Math.round(d),T=Math.round(h);return m.containerWidth===y&&m.containerHeight===T?m:{containerWidth:y,containerHeight:T}})},[]),f=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var y=S=>{var{width:x,height:A}=S[0].contentRect;u(x,A)},T=new ResizeObserver(y);T.observe(d),i.current=T}},[e,u]);return N.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement(zy,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",Ml({ref:f},t)))}),xge=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=N.useState({containerWidth:Jg(n),containerHeight:Jg(r)}),s=N.useCallback((f,d)=>{o(h=>{var m=Math.round(f),y=Math.round(d);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),u=N.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();s(d,h)}},[e,s]);return N.createElement(N.Fragment,null,N.createElement(zy,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Ml({ref:u},t)))}),Cge=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(zy,{width:n,height:r}),N.createElement("div",Ml({ref:e},t)))}),Ige=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return na(n)||na(r)?N.createElement(xge,Ml({},t,{ref:e})):N.createElement(Cge,Ml({},t,{ref:e}))});function Rge(t){return t===!0?wge:Ige}var Nge=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:T,onTouchMove:S,onTouchStart:x,style:A,width:P,responsive:V,dispatchTouchEvents:L=!0}=t,H=N.useRef(null),G=fn(),[j,D]=N.useState(null),[O,M]=N.useState(null),q=_ge(),z=oA(),F=(z==null?void 0:z.width)>0?z.width:P,B=(z==null?void 0:z.height)>0?z.height:i,ge=N.useCallback(ae=>{q(ae),typeof e=="function"&&e(ae),D(ae),M(ae),ae!=null&&(H.current=ae)},[q,e,D,M]),Re=N.useCallback(ae=>{G(B6(ae)),G(Qr({handler:o,reactEvent:ae}))},[G,o]),Z=N.useCallback(ae=>{G(Lb(ae)),G(Qr({handler:d,reactEvent:ae}))},[G,d]),fe=N.useCallback(ae=>{G(N5()),G(Qr({handler:h,reactEvent:ae}))},[G,h]),ye=N.useCallback(ae=>{G(Lb(ae)),G(Qr({handler:m,reactEvent:ae}))},[G,m]),Se=N.useCallback(()=>{G(K6())},[G]),Me=N.useCallback(ae=>{G($6(ae.key))},[G]),K=N.useCallback(ae=>{G(Qr({handler:s,reactEvent:ae}))},[G,s]),ie=N.useCallback(ae=>{G(Qr({handler:u,reactEvent:ae}))},[G,u]),he=N.useCallback(ae=>{G(Qr({handler:f,reactEvent:ae}))},[G,f]),me=N.useCallback(ae=>{G(Qr({handler:y,reactEvent:ae}))},[G,y]),Ne=N.useCallback(ae=>{G(Qr({handler:x,reactEvent:ae}))},[G,x]),Le=N.useCallback(ae=>{L&&G(W6(ae)),G(Qr({handler:S,reactEvent:ae}))},[G,L,S]),De=N.useCallback(ae=>{G(Qr({handler:T,reactEvent:ae}))},[G,T]),Mt=Rge(V);return N.createElement(J5.Provider,{value:j},N.createElement(vee.Provider,{value:O},N.createElement(Mt,{width:F??(A==null?void 0:A.width),height:B??(A==null?void 0:A.height),className:bt("recharts-wrapper",r),style:Ege({position:"relative",cursor:"default",width:F,height:B},A),onClick:Re,onContextMenu:K,onDoubleClick:ie,onFocus:Se,onKeyDown:Me,onMouseDown:he,onMouseEnter:Z,onMouseLeave:fe,onMouseMove:ye,onMouseUp:me,onTouchEnd:De,onTouchMove:Le,onTouchStart:Ne,ref:ge},N.createElement(Age,null),n)))}),Pge=["width","height","responsive","children","className","style","compact","title","desc"];function Mge(t,e){if(t==null)return{};var n,r,i=Dge(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oge=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:u,compact:f,title:d,desc:h}=t,m=Mge(t,Pge),y=Di(m);return f?N.createElement(N.Fragment,null,N.createElement(zy,{width:n,height:r}),N.createElement(AO,{otherAttributes:y,title:d,desc:h},o)):N.createElement(Nge,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(AO,{otherAttributes:y,title:d,desc:h,ref:e},N.createElement(Ghe,null,o)))});function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}var kge={top:5,right:5,bottom:5,left:5},Lge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:kge,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Uge=N.forwardRef(function(e,n){var r,i=vr(e.categoricalChartProps,Lge),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(uge,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},N.createElement(Phe,{chartData:d.data}),N.createElement(fge,{layout:i.layout,margin:i.margin}),N.createElement(dge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(Oge,Ub({},i,{ref:n})))}),Vge=["axis"],Fge=N.forwardRef((t,e)=>N.createElement(Uge,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vge,tooltipPayloadSearcher:cfe,categoricalChartProps:t,ref:e}));const zge=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,o]=N.useState([]),[s,u]=N.useState(!0),f=async()=>{try{const h=await Dr.records.list();e(h);const m=await Dr.stats.getSummary();r(m),d(h)}catch(h){console.error("Data fetch error",h)}u(!1)};N.useEffect(()=>{f();const h=setInterval(f,2e3);return()=>clearInterval(h)},[]);const d=h=>{const y=[...h].sort((T,S)=>new Date(T.timestamp).getTime()-new Date(S.timestamp).getTime()).map(T=>({time:new Date(T.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),value:T.score,verdict:T.verdict,type:T.mediaType}));o(y.slice(-20))};return R.jsxs("div",{className:"space-y-6 animate-fade-in",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold text-white",children:"Security Operations Center"}),R.jsx("p",{className:"text-slate-400 text-sm",children:"Real-time threat monitoring and verification stream"})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsxs("div",{className:"px-3 py-1.5 rounded bg-slate-800 border border-slate-700 flex items-center gap-2",children:[R.jsx(mB,{className:"w-3 h-3 text-emerald-500"}),R.jsx("span",{className:"text-[10px] font-mono text-slate-400 uppercase tracking-wider",children:"LIVE DATA CONNECTED"})]}),R.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 rounded-full text-xs font-mono",children:[R.jsxs("span",{className:"relative flex h-2 w-2",children:[R.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),R.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"ONLINE"]})]})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((h,m)=>R.jsxs("div",{className:"glass-panel p-5 rounded-xl border-t-2 border-t-transparent hover:border-t-emerald-500 transition-all duration-300 group",children:[R.jsxs("div",{className:"flex justify-between items-start mb-2",children:[R.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:h.label}),R.jsx(mm,{className:`w-4 h-4 ${h.value!==0?"text-emerald-500":"text-slate-600"}`})]}),R.jsx("div",{className:"text-2xl font-mono font-bold text-white",children:h.value})]},m))}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[R.jsxs("div",{className:"lg:col-span-2 glass-panel p-6 rounded-xl flex flex-col",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[R.jsx(mm,{className:"w-5 h-5 text-emerald-500"}),"Risk Score History"]}),R.jsx("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:R.jsx("span",{className:"font-mono text-[10px] uppercase",children:"Real-time Analysis Feed"})})]}),R.jsx("div",{className:"flex-1 w-full min-h-[300px]",children:i.length>0?R.jsx(Fre,{width:"100%",height:"100%",children:R.jsxs(Fge,{data:i,children:[R.jsx("defs",{children:R.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[R.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),R.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),R.jsx(x6,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),R.jsx(F6,{dataKey:"time",stroke:"#475569",fontSize:11,tickLine:!1,axisLine:!1}),R.jsx(z6,{stroke:"#475569",fontSize:11,tickLine:!1,axisLine:!1,domain:[0,100]}),R.jsx(Ofe,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#fff"},itemStyle:{color:"#10b981"},formatter:h=>[`${h}%`,"Risk Score"],labelStyle:{color:"#94a3b8"}}),R.jsx(S6,{y:80,stroke:"#f43f5e",strokeDasharray:"3 3"}),R.jsx(U6,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)",isAnimationActive:!0})]})}):R.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-600 border border-dashed border-slate-800 rounded",children:[R.jsx(mm,{className:"w-10 h-10 mb-2 opacity-20"}),R.jsx("p",{className:"text-xs font-mono uppercase",children:"Waiting for analysis data..."})]})})]}),R.jsxs("div",{className:"glass-panel p-0 rounded-xl overflow-hidden flex flex-col",children:[R.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50",children:[R.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[R.jsx(OO,{className:"w-5 h-5 text-rose-500"}),"Live Log"]}),R.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-slate-800 border border-slate-700 text-[10px] text-slate-400 font-bold uppercase",children:[t.length," Events"]})]}),R.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto max-h-[400px]",children:t.length===0?R.jsxs("div",{className:"text-center py-10 text-slate-600",children:[R.jsx(iT,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),R.jsx("p",{className:"text-xs font-mono",children:"No incidents recorded."})]}):t.map((h,m)=>R.jsxs("div",{className:"p-3 rounded-lg border bg-slate-800/80 border-slate-600 shadow-md transition-all duration-300 relative overflow-hidden group",children:[R.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${h.verdict==="FAKE"?"bg-rose-500":h.verdict==="SUSPICIOUS"?"bg-amber-500":"bg-emerald-500"}`}),R.jsxs("div",{className:"flex justify-between items-start pl-3",children:[R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("h4",{className:"text-sm font-bold text-white uppercase",children:[h.mediaType," SCAN"]}),h.verdict==="FAKE"&&R.jsx("span",{className:"text-[9px] bg-rose-500 text-white px-1 rounded font-bold uppercase animate-pulse",children:"THREAT"})]}),R.jsx("p",{className:"text-xs text-slate-400 mt-0.5 flex items-center gap-1 truncate max-w-[150px]",children:h.fileName||"Raw Input"})]}),R.jsxs("div",{className:"text-right",children:[R.jsxs("div",{className:`text-sm font-bold font-mono ${h.score>80?"text-rose-500":h.score>40?"text-amber-500":"text-emerald-500"}`,children:[h.score,"%"]}),R.jsx("span",{className:"text-[10px] text-slate-500",children:new Date(h.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),R.jsx("div",{className:"mt-3 flex justify-between items-center pl-3",children:R.jsxs("div",{className:"flex items-center gap-2",children:[h.verdict==="FAKE"?R.jsx(Xz,{className:"w-3 h-3 text-rose-500"}):h.verdict==="SUSPICIOUS"?R.jsx(Fb,{className:"w-3 h-3 text-amber-500"}):R.jsx(sB,{className:"w-3 h-3 text-emerald-500"}),R.jsx("span",{className:`text-[10px] font-bold uppercase ${h.verdict==="FAKE"?"text-rose-400":h.verdict==="SUSPICIOUS"?"text-amber-400":"text-emerald-400"}`,children:h.verdict})]})})]},`${h.timestamp}-${m}`))})]})]})]})},Bge=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState(!0),[i,o]=N.useState(85),[s,u]=N.useState("connected"),f=({active:d,onClick:h})=>R.jsx("button",{onClick:h,className:`transition-colors duration-200 ${d?"text-emerald-500":"text-slate-600"}`,children:d?R.jsx(QB,{className:"w-8 h-8"}):R.jsx(JB,{className:"w-8 h-8"})});return R.jsxs("div",{className:"h-full flex flex-col gap-6 animate-fade-in",children:[R.jsxs("div",{className:"flex justify-between items-end pb-4 border-b border-slate-800",children:[R.jsx("div",{children:R.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2 font-mono tracking-tight",children:[R.jsx(DO,{className:"w-5 h-5 text-emerald-500"}),"SYSTEM_CONFIG ",R.jsx("span",{className:"text-slate-600",children:"//"})," PREFERENCES"]})}),R.jsxs("button",{className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-bold font-mono rounded border border-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)] flex items-center gap-2 transition-all",children:[R.jsx(VB,{className:"w-3 h-3"}),"SAVE CHANGES"]})]}),R.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[R.jsxs("div",{className:"glass-panel p-6 rounded-sm tech-border",children:[R.jsxs("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-widest mb-6 flex items-center gap-2",children:[R.jsx(KB,{className:"w-4 h-4 text-emerald-500"}),"Detection Engine"]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-slate-800/50",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-white mb-1",children:"Auto-Ban High Risk"}),R.jsx("p",{className:"text-xs text-slate-500 max-w-sm",children:"Automatically block transactions with a fraud score above 95%."})]}),R.jsx(f,{active:t,onClick:()=>e(!t)})]}),R.jsxs("div",{className:"pb-4 border-b border-slate-800/50",children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsx("p",{className:"text-sm font-medium text-white",children:"Risk Sensitivity Threshold"}),R.jsxs("span",{className:"text-xs font-mono font-bold text-emerald-500",children:[i,"%"]})]}),R.jsx("input",{type:"range",min:"50",max:"99",value:i,onChange:d=>o(parseInt(d.target.value)),className:"w-full h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),R.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-slate-600 font-mono uppercase",children:[R.jsx("span",{children:"Lenient (50%)"}),R.jsx("span",{children:"Strict (99%)"})]})]}),R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-white mb-1",children:"Deepfake Heuristic Analysis"}),R.jsx("p",{className:"text-xs text-slate-500",children:"Enable experimental spectral audio analysis."})]}),R.jsx("div",{className:"px-2 py-1 bg-amber-500/10 border border-amber-500/20 text-amber-500 text-[10px] font-bold rounded",children:"BETA"})]})]})]}),R.jsxs("div",{className:"glass-panel p-6 rounded-sm tech-border",children:[R.jsxs("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-widest mb-6 flex items-center gap-2",children:[R.jsx(qB,{className:"w-4 h-4 text-purple-500"}),"API & Connectivity"]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsxs("div",{className:"bg-slate-900/50 p-4 rounded border border-slate-800",children:[R.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-mono mb-2",children:"Active Model"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(RO,{className:"w-5 h-5 text-slate-300"}),R.jsx("span",{className:"text-sm font-bold text-white",children:"DF-Neural-Net v2.4"})]})]}),R.jsxs("div",{className:"bg-slate-900/50 p-4 rounded border border-slate-800",children:[R.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-mono mb-2",children:"Connection Status"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${s==="connected"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-rose-500"}`}),R.jsx("span",{className:"text-sm font-bold text-white uppercase",children:s==="connected"?"Operational":"Offline"})]})]}),R.jsxs("div",{className:"bg-slate-900/50 p-4 rounded border border-slate-800 md:col-span-2",children:[R.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-mono mb-2",children:"Endpoint URL"}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("code",{className:"text-xs text-slate-400 font-mono bg-slate-950 px-2 py-1 rounded w-full",children:"https://api.deepfraud.ai/v2/inference/secure"}),R.jsx(MO,{className:"w-3 h-3 text-slate-600"})]})]})]})]}),R.jsxs("div",{className:"glass-panel p-6 rounded-sm tech-border",children:[R.jsxs("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-widest mb-6 flex items-center gap-2",children:[R.jsx(Zz,{className:"w-4 h-4 text-sky-500"}),"Alerts"]}),R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-white mb-1",children:"Real-time Push Notifications"}),R.jsx("p",{className:"text-xs text-slate-500",children:"Notify dashboard operators immediately upon critical risk detection."})]}),R.jsx(f,{active:n,onClick:()=>r(!n)})]})]})]})]})},qge=({onLogin:t})=>{const[e,n]=N.useState(!0),[r,i]=N.useState(""),[o,s]=N.useState(""),[u,f]=N.useState(!1),[d,h]=N.useState(""),[m,y]=N.useState(""),[T,S]=N.useState(!1),x=async L=>{L.preventDefault(),f(!0),h(""),y("");try{if(e){const H=await Dr.auth.login(r,o);t(H)}else{const H=await Dr.auth.register(r,o);t(H)}}catch(H){console.error("Auth Error:",H);const G=H.message||"";G.includes("unauthorized-domain")||H.code==="auth/unauthorized-domain"?h(`Domain not authorized. Add '${window.location.hostname}' to Firebase Console > Auth > Settings.`):G.includes("check your email")||G.includes("already registered")?(y(G),G.includes("already registered")&&n(!0)):h(G||"Authentication failed")}finally{f(!1)}},A=async()=>{f(!0),h("");try{const L=await Dr.auth.loginWithGoogle();t(L)}catch(L){console.error("Google Auth Error:",L);const H=L.message||"";H.includes("unauthorized-domain")||L.code==="auth/unauthorized-domain"?h(`Domain '${window.location.hostname}' is not authorized in Firebase Console.`):L.code==="auth/popup-closed-by-user"?h("Sign-in cancelled."):h(H||"Google sign-in failed"),f(!1)}},P=async()=>{f(!0),h("");try{const L=await Dr.auth.login("admin","password");t(L)}catch{h("Demo login failed")}finally{f(!1)}},V=()=>{n(!e),h(""),y(""),i(""),s("")};return R.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[R.jsxs("div",{className:"absolute inset-0 z-0",children:[R.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black"}),R.jsx("div",{className:"absolute w-full h-full opacity-20",style:{backgroundImage:"linear-gradient(rgba(16,185,129,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(16,185,129,0.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}})]}),R.jsxs("div",{className:"w-full max-w-md p-1 relative z-10 animate-fade-in",children:[R.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-xl rounded-lg"}),R.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl border border-slate-700 p-8 rounded-lg shadow-2xl relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"}),R.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-emerald-500/50 shadow-[0_0_20px_rgba(16,185,129,0.5)] animate-scan"}),R.jsxs("div",{className:"text-center mb-8",children:[R.jsxs("div",{className:"w-16 h-16 bg-slate-950 border border-emerald-500/30 rounded-2xl mx-auto flex items-center justify-center mb-4 shadow-[0_0_30px_rgba(16,185,129,0.15)] relative group",children:[R.jsx("div",{className:"absolute inset-0 bg-emerald-500/10 animate-pulse rounded-2xl"}),R.jsx(Vb,{className:"w-8 h-8 text-emerald-500 relative z-10"})]}),R.jsxs("h1",{className:"text-2xl font-bold font-mono text-white tracking-widest",children:["DEEP",R.jsx("span",{className:"text-emerald-500",children:"FRAUD"})]}),R.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-[0.2em] mt-2",children:e?"Secure Access Terminal":"New Identity Creation"})]}),R.jsxs("form",{onSubmit:x,className:"space-y-5 relative z-10",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider pl-1",children:"Email Address"}),R.jsxs("div",{className:"relative group",children:[R.jsx(WC,{className:"absolute left-3 top-3 w-4 h-4 text-slate-600 group-focus-within:text-emerald-500 transition-colors"}),R.jsx("input",{type:"text",value:r,onChange:L=>i(L.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2.5 pl-10 text-sm text-white font-mono focus:outline-none focus:border-emerald-500 transition-colors placeholder:text-slate-700",placeholder:"user@example.com",required:!0})]})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider pl-1",children:"Password"}),R.jsxs("div",{className:"relative group",children:[R.jsx(MO,{className:"absolute left-3 top-3 w-4 h-4 text-slate-600 group-focus-within:text-emerald-500 transition-colors"}),R.jsx("input",{type:"password",value:o,onChange:L=>s(L.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2.5 pl-10 text-sm text-white font-mono focus:outline-none focus:border-emerald-500 transition-colors placeholder:text-slate-700",placeholder:"",required:!0,minLength:5})]})]}),d&&R.jsxs("div",{className:"text-xs text-rose-500 bg-rose-500/10 border border-rose-500/20 p-2 rounded flex items-center gap-2 animate-pulse break-words",children:[R.jsx(Fb,{className:"w-3 h-3 flex-shrink-0"}),R.jsx("span",{children:d})]}),m&&R.jsxs("div",{className:"text-xs text-emerald-400 bg-emerald-500/10 border border-emerald-500/20 p-2 rounded flex items-center gap-2",children:[R.jsx(WC,{className:"w-3 h-3 flex-shrink-0"}),m]}),R.jsxs("button",{type:"submit",disabled:u,className:`w-full font-bold py-3 rounded border shadow-[0_0_20px_rgba(16,185,129,0.2)] transition-all flex items-center justify-center gap-2 uppercase tracking-widest text-xs group disabled:opacity-50 disabled:cursor-not-allowed ${e?"bg-emerald-600 hover:bg-emerald-500 text-white border-emerald-400":"bg-slate-800 hover:bg-slate-700 text-emerald-400 border-emerald-500/50"}`,children:[u?R.jsx(PO,{className:"w-4 h-4 animate-spin"}):e?R.jsx(NO,{className:"w-4 h-4"}):R.jsx(rq,{className:"w-4 h-4"}),u?"Processing...":e?"Verify Identity":"Create Account"]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[R.jsxs("button",{type:"button",onClick:A,className:"py-2.5 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded flex items-center justify-center gap-2 transition-colors text-xs border border-slate-700 hover:border-slate-500",children:[R.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",children:[R.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),R.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),R.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),R.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),R.jsxs("button",{type:"button",onClick:P,className:"py-2.5 bg-slate-800 hover:bg-slate-700 text-emerald-400 font-bold rounded flex items-center justify-center gap-2 transition-colors text-xs border border-slate-700 hover:border-emerald-500/50 uppercase tracking-wider",children:[R.jsx(kO,{className:"w-3 h-3"}),"Demo Access"]})]}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx("button",{type:"button",onClick:V,className:"text-xs text-slate-500 hover:text-emerald-400 transition-colors uppercase tracking-wider font-mono flex items-center justify-center gap-1 mx-auto",children:e?R.jsxs(R.Fragment,{children:["Initialize New Operator ",R.jsx(Wz,{className:"w-3 h-3"})]}):R.jsx(R.Fragment,{children:"Return to Login Interface"})})}),R.jsxs("div",{className:"mt-4 text-center",children:[R.jsxs("button",{onClick:()=>S(!T),className:"text-[10px] text-slate-600 hover:text-slate-400 underline decoration-slate-700 flex items-center justify-center gap-1 mx-auto",children:[R.jsx(uB,{className:"w-3 h-3"})," Connection Status"]}),T&&R.jsxs("div",{className:"mt-2 p-3 bg-slate-950 rounded text-left border border-slate-800 animate-fade-in",children:[R.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[R.jsx("div",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-rose-500"}),R.jsxs("p",{className:"text-[10px] text-slate-400 leading-tight",children:[R.jsx("strong",{children:"Domain Not Authorized:"}),R.jsx("br",{}),"Add ",R.jsx("code",{children:window.location.hostname})," to ",R.jsx("br",{}),"Firebase Console > Auth > Settings"]})]}),R.jsxs("div",{className:"flex items-start gap-2",children:[R.jsx("div",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-emerald-500"}),R.jsxs("p",{className:"text-[10px] text-slate-400 leading-tight",children:[R.jsx("strong",{children:"Bypass:"}),' Use the "Demo Access" button to enter without Firebase.']})]})]})]}),R.jsx("div",{className:"mt-6 pt-6 border-t border-slate-800 text-center",children:R.jsxs("p",{className:"text-[10px] text-slate-600 font-mono",children:["UNAUTHORIZED ACCESS IS A FEDERAL OFFENSE.",R.jsx("br",{}),"SESSION MONITORED BY SEC-OPS."]})})]})]})]})},Hge=()=>{const[t,e]=N.useState(null),[n,r]=N.useState("analysis"),[i,o]=N.useState(!1),[s,u]=N.useState(!0);N.useEffect(()=>{(async()=>{let y=Dr.auth.getSession();try{const T=await Dr.auth.recoverSession();T&&(y=T)}catch(T){console.warn("Session recovery check failed",T)}y&&e(y),u(!1)})()},[]);const f=m=>{e(m)},d=()=>{Dr.auth.logout(),e(null)},h=()=>{switch(n){case"analysis":return R.jsx(aee,{});case"history":return R.jsx(see,{});case"alerts":return R.jsx(zge,{});case"settings":return R.jsx(Bge,{});default:return R.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 font-mono",children:[R.jsx(oB,{className:"w-12 h-12 mb-4 opacity-20 text-emerald-500"}),R.jsx("h3",{className:"text-lg font-bold text-slate-400 uppercase tracking-widest",children:"Module Offline"}),R.jsxs("p",{className:"max-w-md text-center mt-2 text-xs",children:["The ",n," subsystem is currently disabled for maintenance."]})]})}};return s?R.jsx("div",{className:"min-h-screen bg-slate-950"}):t?R.jsxs("div",{className:"flex min-h-screen text-slate-100 font-sans selection:bg-emerald-500/30 bg-slate-950",children:[R.jsx(lq,{activeTab:n,setActiveTab:r,isCollapsed:i,onToggle:()=>o(!i),user:t,onLogout:d}),R.jsxs("main",{className:`flex-1 transition-all duration-300 ease-in-out ${i?"ml-20":"ml-64"} p-6 relative overflow-hidden h-screen flex flex-col`,children:[R.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent opacity-20"}),R.jsx("div",{className:"relative z-10 h-full",children:h()})]})]}):R.jsx(qge,{onLogin:f})},X6=document.getElementById("root");if(!X6)throw new Error("Could not find root element to mount to");const Gge=Bz.createRoot(X6);Gge.render(R.jsx(xO.StrictMode,{children:R.jsx(Hge,{})}));
